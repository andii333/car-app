"use strict";(self.webpackChunkcar_app=self.webpackChunkcar_app||[]).push([[179],{2011:(ot,De,k)=>{k.d(De,{Dh:()=>he,GT:()=>de,cc:()=>Se,hO:()=>Ve,on:()=>U,pX:()=>re,xv:()=>pe});var f=k(4650),ee=k(127),R=k(5813);ot=k.hmd(ot);const oe=["ngOnDestroy"],re=(fe,Ze,tt,Te={})=>new Proxy(fe,{get:(ve,Ie)=>tt.runOutsideAngular(()=>{var Be;if(fe[Ie])return!(null===(Be=Te?.spy)||void 0===Be)&&Be.get&&Te.spy.get(Ie,fe[Ie]),fe[Ie];if(oe.indexOf(Ie)>-1)return()=>{};const je=Ze.toPromise().then(V=>{const ge=V&&V[Ie];return"function"==typeof ge?ge.bind(V):ge&&ge.then?ge.then(Z=>tt.run(()=>Z)):tt.run(()=>ge)});return new Proxy(()=>{},{get:(V,ge)=>je[ge],apply:(V,ge,Z)=>je.then(J=>{var ie;const te=J&&J(...Z);return!(null===(ie=Te?.spy)||void 0===ie)&&ie.apply&&Te.spy.apply(Ie,Z,te),te})})})}),de=(fe,Ze)=>{Ze.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(Te=>{Object.defineProperty(fe.prototype,Te,Object.getOwnPropertyDescriptor(tt.prototype||tt,Te))})})};class ue{constructor(Ze){return Ze}}const he=new f.OlP("angularfire2.app.options"),pe=new f.OlP("angularfire2.app.name");function U(fe,Ze,tt){const ve="object"==typeof tt&&tt||{};ve.name=ve.name||"string"==typeof tt&&tt||"[DEFAULT]";const Be=ee.Z.apps.filter(je=>je&&je.name===ve.name)[0]||Ze.runOutsideAngular(()=>ee.Z.initializeApp(fe,ve));try{JSON.stringify(fe)!==JSON.stringify(Be.options)&&j("error",`${Be.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(Be)}const j=(fe,...Ze)=>{(0,f.X6Q)()&&typeof console<"u"&&console[fe](...Ze)},K={provide:ue,useFactory:U,deps:[he,f.R0b,[new f.FiY,pe]]};let Ve=(()=>{class fe{constructor(tt){ee.Z.registerVersion("angularfire",R.q4.full,"core"),ee.Z.registerVersion("angularfire",R.q4.full,"app-compat"),ee.Z.registerVersion("angular",f.q4F.full,tt.toString())}static initializeApp(tt,Te){return{ngModule:fe,providers:[{provide:he,useValue:tt},{provide:pe,useValue:Te}]}}}return fe.\u0275fac=function(tt){return new(tt||fe)(f.LFG(f.Lbi))},fe.\u0275mod=f.oAB({type:fe}),fe.\u0275inj=f.cJS({providers:[K]}),fe})();function Se(fe,Ze,tt,Te,ve){const[,Ie,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===fe)||[];if(Ie)return function _e(fe,Ze){try{return fe.toString()===Ze.toString()}catch{return fe===Ze}}(ve,Be)||(me("error",`${Ze} was already initialized on the ${tt} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:ve,was:Be})),Ie;{const je=Te();return globalThis.\u0275AngularfireInstanceCache.push([fe,je,ve]),je}}const Qe=!!ot.hot,me=(fe,...Ze)=>{(0,f.X6Q)()&&typeof console<"u"&&console[fe](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ot,De,k)=>{k.d(De,{q4:()=>it,iC:()=>is,HU:()=>Lo,vb:()=>Os,JM:()=>Oa});var f=k(4650),ee=k(5867),R=k(5861),oe=k(9681),re=k(2090),de=k(4859),ue=k(1877),he=k(8766);const pe="@firebase/installations",U="0.5.12",K=`w:${U}`,Ve="FIS_v2",Ze=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(E){return E instanceof re.ZR&&E.code.includes("request-failed")}function Te({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function ve(E){return{token:E.token,requestStatus:2,expiresIn:J(E.expiresIn),creationTime:Date.now()}}function Ie(E,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,R.Z)(function*(E,D){const F=(yield D.json()).error;return Ze.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function V(E,{refreshToken:D}){const M=je(E);return M.append("Authorization",function ie(E){return`${Ve} ${E}`}(D)),M}function ge(E){return Z.apply(this,arguments)}function Z(){return(Z=(0,R.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function J(E){return Number(E.replace("s","000"))}function te(E,D){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:M}){const F=Te(E),Y=je(E),ne=D.getImmediate({optional:!0});if(ne){const pt=yield ne.getHeartbeatsHeader();pt&&Y.append("x-firebase-client",pt)}const xe={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:Ve,appId:E.appId,sdkVersion:K})},et=yield ge(()=>fetch(F,xe));if(et.ok){const pt=yield et.json();return{fid:pt.fid||M,registrationStatus:2,refreshToken:pt.refreshToken,authToken:ve(pt.authToken)}}throw yield Ie("Create Installation",et)})).apply(this,arguments)}function Pe(E){return new Promise(D=>{setTimeout(D,E)})}const Bt=/^[cdef][\w-]{21}$/;function ze(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function en(E){return function lt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Bt.test(M)?M:""}catch{return""}}function bn(E){return`${E.appName}!${E.appId}`}const Ht=new Map;function Gt(E,D){const M=bn(E);Jt(M,D),function oa(E,D){const M=function lr(){return!Pr&&"BroadcastChannel"in self&&(Pr=new BroadcastChannel("[Firebase] FID Change"),Pr.onmessage=E=>{Jt(E.data.key,E.data.fid)}),Pr}();M&&M.postMessage({key:E,fid:D}),function Rr(){0===Ht.size&&Pr&&(Pr.close(),Pr=null)}()}(M,D)}function Jt(E,D){const M=Ht.get(E);if(M)for(const F of M)F(D)}let Pr=null;const Nr="firebase-installations-store";let ii=null;function vo(){return ii||(ii=(0,he.X3)("firebase-installations-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Nr)}})),ii}function qe(E,D){return kr.apply(this,arguments)}function kr(){return(kr=(0,R.Z)(function*(E,D){const M=bn(E),Y=(yield vo()).transaction(Nr,"readwrite"),ne=Y.objectStore(Nr),Ce=yield ne.get(M);return yield ne.put(D,M),yield Y.done,(!Ce||Ce.fid!==D.fid)&&Gt(E,D.fid),D})).apply(this,arguments)}function Wi(E){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,R.Z)(function*(E){const D=bn(E),F=(yield vo()).transaction(Nr,"readwrite");yield F.objectStore(Nr).delete(D),yield F.done})).apply(this,arguments)}function si(E,D){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,R.Z)(function*(E,D){const M=bn(E),Y=(yield vo()).transaction(Nr,"readwrite"),ne=Y.objectStore(Nr),Ce=yield ne.get(M),xe=D(Ce);return void 0===xe?yield ne.delete(M):yield ne.put(xe,M),yield Y.done,xe&&(!Ce||Ce.fid!==xe.fid)&&Gt(E,xe.fid),xe})).apply(this,arguments)}function Tn(E){return jn.apply(this,arguments)}function jn(){return(jn=(0,R.Z)(function*(E){let D;const M=yield si(E.appConfig,F=>{const Y=an(F),ne=dt(E,Y);return D=ne.registrationPromise,ne.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function an(E){return mt(E||{fid:ze(),registrationStatus:0})}function dt(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ze.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function st(E,D){return tn.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Jn(E)}:{installationEntry:D}}function tn(){return(tn=(0,R.Z)(function*(E,D){try{const M=yield te(E,D);return qe(E.appConfig,M)}catch(M){throw tt(M)&&409===M.customData.serverCode?yield Wi(E.appConfig):yield qe(E.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Jn(E){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,R.Z)(function*(E){let D=yield _r(E.appConfig);for(;1===D.registrationStatus;)yield Pe(100),D=yield _r(E.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield Tn(E);return F||M}return D})).apply(this,arguments)}function _r(E){return si(E,D=>{if(!D)throw Ze.create("installation-not-found");return mt(D)})}function mt(E){return function qi(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function zt(E,D){return oi.apply(this,arguments)}function oi(){return(oi=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:D},M){const F=$t(E,M),Y=V(E,M),ne=D.getImmediate({optional:!0});if(ne){const pt=yield ne.getHeartbeatsHeader();pt&&Y.append("x-firebase-client",pt)}const xe={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:K,appId:E.appId}})},et=yield ge(()=>fetch(F,xe));if(et.ok)return ve(yield et.json());throw yield Ie("Generate Auth Token",et)})).apply(this,arguments)}function $t(E,{fid:D}){return`${Te(E)}/${D}/authTokens:generate`}function W(E){return B.apply(this,arguments)}function B(){return(B=(0,R.Z)(function*(E,D=!1){let M;const F=yield si(E.appConfig,ne=>{if(!nt(ne))throw Ze.create("not-registered");const Ce=ne.authToken;if(!D&&sn(Ce))return ne;if(1===Ce.requestStatus)return M=L(E,D),ne;{if(!navigator.onLine)throw Ze.create("app-offline");const xe=$n(ne);return M=Ee(E,xe),xe}});return M?yield M:F.authToken})).apply(this,arguments)}function L(E,D){return $.apply(this,arguments)}function $(){return($=(0,R.Z)(function*(E,D){let M=yield z(E.appConfig);for(;1===M.authToken.requestStatus;)yield Pe(100),M=yield z(E.appConfig);const F=M.authToken;return 0===F.requestStatus?W(E,D):F})).apply(this,arguments)}function z(E){return si(E,D=>{if(!nt(D))throw Ze.create("not-registered");return function Nt(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ee(E,D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,R.Z)(function*(E,D){try{const M=yield zt(E,D),F=Object.assign(Object.assign({},D),{authToken:M});return yield qe(E.appConfig,F),M}catch(M){if(!tt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield qe(E.appConfig,F)}else yield Wi(E.appConfig);throw M}})).apply(this,arguments)}function nt(E){return void 0!==E&&2===E.registrationStatus}function sn(E){return 2===E.requestStatus&&!function Wt(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+36e5}(E)}function $n(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}function hn(){return(hn=(0,R.Z)(function*(E){const D=E,{installationEntry:M,registrationPromise:F}=yield Tn(D);return F?F.catch(console.error):W(D).catch(console.error),M.fid})).apply(this,arguments)}function bi(){return(bi=(0,R.Z)(function*(E,D=!1){const M=E;return yield wr(M),(yield W(M,D)).token})).apply(this,arguments)}function wr(E){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,R.Z)(function*(E){const{registrationPromise:D}=yield Tn(E);D&&(yield D)})).apply(this,arguments)}function ys(E){return Ze.create("missing-app-config-values",{valueName:E})}const _o="installations",fn=E=>{const D=E.getProvider("app").getImmediate(),M=function un(E){if(!E||!E.options)throw ys("App Configuration");if(!E.name)throw ys("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!E.options[M])throw ys(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,oe._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Gs=E=>{const D=E.getProvider("app").getImmediate(),M=(0,oe._getProvider)(D,_o).getImmediate();return{getId:()=>function At(E){return hn.apply(this,arguments)}(M),getToken:Y=>function On(E){return bi.apply(this,arguments)}(M,Y)}};(function Ac(){(0,oe._registerComponent)(new de.wA(_o,fn,"PUBLIC")),(0,oe._registerComponent)(new de.wA("installations-internal",Gs,"PRIVATE"))})(),(0,oe.registerVersion)(pe,U),(0,oe.registerVersion)(pe,U,"esm2017");const Di="@firebase/remote-config",Nn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gh{constructor(D,M,F,Y){this.client=D,this.storage=M,this.storageCache=F,this.logger=Y}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,Y=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var M=this;return(0,R.Z)(function*(){const[F,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(D.cacheMaxAgeMillis,F))return Y;D.eTag=Y&&Y.eTag;const ne=yield M.client.fetch(D),Ce=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Ce.push(M.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Ce),ne})()}}function Pc(E=navigator){return E.languages&&E.languages[0]||E.language}class Rc{constructor(D,M,F,Y,ne,Ce){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=F,this.projectId=Y,this.apiKey=ne,this.appId=Ce}fetch(D){var M=this;return(0,R.Z)(function*(){var F,Y,ne;const[Ce,xe]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,wt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ut={sdk_version:M.sdkVersion,app_instance_id:Ce,app_instance_id_token:xe,app_id:M.appId,language_code:Pc()},gn={method:"POST",headers:wt,body:JSON.stringify(ut)},or=fetch(pt,gn),Vo=new Promise((Uo,ro)=>{D.signal.addEventListener(()=>{const pi=new Error("The operation was aborted.");pi.name="AbortError",ro(pi)})});let Ns;try{yield Promise.race([or,Vo]),Ns=yield or}catch(Uo){let ro="fetch-client-network";throw"AbortError"===(null===(F=Uo)||void 0===F?void 0:F.name)&&(ro="fetch-timeout"),Nn.create(ro,{originalErrorMessage:null===(Y=Uo)||void 0===Y?void 0:Y.message})}let Ct=Ns.status;const Oi=Ns.headers.get("ETag")||void 0;let ks,Yr;if(200===Ns.status){let Uo;try{Uo=yield Ns.json()}catch(ro){throw Nn.create("fetch-client-parse",{originalErrorMessage:null===(ne=ro)||void 0===ne?void 0:ne.message})}ks=Uo.entries,Yr=Uo.state}if("INSTANCE_STATE_UNSPECIFIED"===Yr?Ct=500:"NO_CHANGE"===Yr?Ct=304:("NO_TEMPLATE"===Yr||"EMPTY_CONFIG"===Yr)&&(ks={}),304!==Ct&&200!==Ct)throw Nn.create("fetch-status",{httpStatus:Ct});return{status:Ct,eTag:Oi,config:ks}})()}}class zp{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,R.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:F}){var Y=this;return(0,R.Z)(function*(){yield function Gn(E,D){return new Promise((M,F)=>{const Y=Math.max(D-Date.now(),0),ne=setTimeout(M,Y);E.addEventListener(()=>{clearTimeout(ne),F(Nn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ne=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function sd(E){if(!(E instanceof re.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ne))throw ne;const Ce={throttleEndTimeMillis:Date.now()+(0,re.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(Ce),Y.attemptFetch(D,Ce)}})()}}class od{constructor(D,M,F,Y,ne){this.app=D,this._client=M,this._storageCache=F,this._storage=Y,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nc(E,D){var M;const F=E.target.error||void 0;return Nn.create(D,{originalErrorMessage:F&&(null===(M=F)||void 0===M?void 0:M.message)})}const Cs="app_namespace_store";class zh{constructor(D,M,F,Y=function Zp(){return new Promise((E,D)=>{var M;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{D(Nc(Y,"storage-open"))},F.onsuccess=Y=>{E(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Cs,{keyPath:"compositeKey"})}}catch(F){D(Nn.create("storage-open",{originalErrorMessage:null===(M=F)||void 0===M?void 0:M.message}))}})}()){this.appId=D,this.appName=M,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((Y,ne)=>{var Ce;const et=F.transaction([Cs],"readonly").objectStore(Cs),pt=M.createCompositeKey(D);try{const wt=et.get(pt);wt.onerror=ut=>{ne(Nc(ut,"storage-get"))},wt.onsuccess=ut=>{const gn=ut.target.result;Y(gn?gn.value:void 0)}}catch(wt){ne(Nn.create("storage-get",{originalErrorMessage:null===(Ce=wt)||void 0===Ce?void 0:Ce.message}))}})})()}set(D,M){var F=this;return(0,R.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ne,Ce)=>{var xe;const pt=Y.transaction([Cs],"readwrite").objectStore(Cs),wt=F.createCompositeKey(D);try{const ut=pt.put({compositeKey:wt,value:M});ut.onerror=gn=>{Ce(Nc(gn,"storage-set"))},ut.onsuccess=()=>{ne()}}catch(ut){Ce(Nn.create("storage-set",{originalErrorMessage:null===(xe=ut)||void 0===xe?void 0:xe.message}))}})})()}delete(D){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((Y,ne)=>{var Ce;const et=F.transaction([Cs],"readwrite").objectStore(Cs),pt=M.createCompositeKey(D);try{const wt=et.delete(pt);wt.onerror=ut=>{ne(Nc(ut,"storage-delete"))},wt.onsuccess=()=>{Y()}}catch(wt){ne(Nn.create("storage-delete",{originalErrorMessage:null===(Ce=wt)||void 0===Ce?void 0:Ce.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ud{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const M=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),ne=yield M;ne&&(D.lastFetchStatus=ne);const Ce=yield F;Ce&&(D.lastSuccessfulFetchTimestampMillis=Ce);const xe=yield Y;xe&&(D.activeConfig=xe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function lu(){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,R.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function Is(){(0,oe._registerComponent)(new de.wA("remote-config",function E(D,{instanceIdentifier:M}){const F=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nn.create("registration-window");if(!(0,re.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:ne,apiKey:Ce,appId:xe}=F.options;if(!ne)throw Nn.create("registration-project-id");if(!Ce)throw Nn.create("registration-api-key");if(!xe)throw Nn.create("registration-app-id");const et=new zh(xe,F.name,M=M||"firebase"),pt=new ud(et),wt=new ue.Yd(Di);wt.logLevel=ue.in.ERROR;const ut=new Rc(Y,oe.SDK_VERSION,M,ne,Ce,xe),gn=new zp(ut,et),or=new Gh(gn,et,pt,wt),Vo=new od(F,or,pt,et,wt);return function kn(E){const D=(0,re.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Vo),Vo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Di,"0.3.11"),(0,oe.registerVersion)(Di,"0.3.11","esm2017")}();const Ti="/firebase-messaging-sw.js",Ai="/firebase-cloud-messaging-push-scope",Yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ca="google.c.a.c_id",du="google.c.a.c_l",kc="google.c.a.ts",qh="google.c.a.e";var Qi=(()=>{return(E=Qi||(Qi={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Qi;var E})();function Wr(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fr(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),Y=new Uint8Array(F.length);for(let ne=0;ne<F.length;++ne)Y[ne]=F.charCodeAt(ne);return Y}const wo="fcm_token_details_db",sr="fcm_token_object_Store";function Zh(E){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,R.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(wo))return null;let D=null;return(yield(0,he.X3)(wo,5,{upgrade:(F=(0,R.Z)(function*(Y,ne,Ce,xe){var et;if(ne<2||!Y.objectStoreNames.contains(sr))return;const pt=xe.objectStore(sr),wt=yield pt.index("fcmSenderId").get(E);if(yield pt.clear(),wt)if(2===ne){const ut=wt;if(!ut.auth||!ut.p256dh||!ut.endpoint)return;D={token:ut.fcmToken,createTime:null!==(et=ut.createTime)&&void 0!==et?et:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:Wr(ut.vapidKey)}}}else if(3===ne){const ut=wt;D={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:Wr(ut.auth),p256dh:Wr(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:Wr(ut.vapidKey)}}}else if(4===ne){const ut=wt;D={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:Wr(ut.auth),p256dh:Wr(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:Wr(ut.vapidKey)}}}}),function(ne,Ce,xe,et){return F.apply(this,arguments)})})).close(),yield(0,he.Lj)(wo),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),vn(D)?D:null;var F}),Kh.apply(this,arguments)}function vn(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const qr="firebase-messaging-store";let Ir=null;function fu(){return Ir||(Ir=(0,he.X3)("firebase-messaging-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(qr)}})),Ir}function Co(E){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,R.Z)(function*(E){const D=ci(E),F=yield(yield fu()).transaction(qr).objectStore(qr).get(D);if(F)return F;{const Y=yield Zh(E.appConfig.senderId);if(Y)return yield Ut(E,Y),Y}})).apply(this,arguments)}function Ut(E,D){return pu.apply(this,arguments)}function pu(){return(pu=(0,R.Z)(function*(E,D){const M=ci(E),Y=(yield fu()).transaction(qr,"readwrite");return yield Y.objectStore(qr).put(D,M),yield Y.done,D})).apply(this,arguments)}function qs(E){return gu.apply(this,arguments)}function gu(){return(gu=(0,R.Z)(function*(E){const D=ci(E),F=(yield fu()).transaction(qr,"readwrite");yield F.objectStore(qr).delete(D),yield F.done})).apply(this,arguments)}function ci({appConfig:E}){return E.appId}const mn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yt(E,D){return yu.apply(this,arguments)}function yu(){return(yu=(0,R.Z)(function*(E,D){var M;const F=yield Lc(E),Y=be(D),ne={method:"POST",headers:F,body:JSON.stringify(Y)};let Ce;try{Ce=yield(yield fetch(Xi(E.appConfig),ne)).json()}catch(xe){throw mn.create("token-subscribe-failed",{errorInfo:null===(M=xe)||void 0===M?void 0:M.toString()})}if(Ce.error)throw mn.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw mn.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function Qh(E,D){return vu.apply(this,arguments)}function vu(){return(vu=(0,R.Z)(function*(E,D){var M;const F=yield Lc(E),Y=be(D.subscriptionOptions),ne={method:"PATCH",headers:F,body:JSON.stringify(Y)};let Ce;try{Ce=yield(yield fetch(`${Xi(E.appConfig)}/${D.token}`,ne)).json()}catch(xe){throw mn.create("token-update-failed",{errorInfo:null===(M=xe)||void 0===M?void 0:M.toString()})}if(Ce.error)throw mn.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw mn.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function _u(E,D){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,R.Z)(function*(E,D){var M;const Y={method:"DELETE",headers:yield Lc(E)};try{const Ce=yield(yield fetch(`${Xi(E.appConfig)}/${D}`,Y)).json();if(Ce.error)throw mn.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(ne){throw mn.create("token-unsubscribe-failed",{errorInfo:null===(M=ne)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function Xi({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Lc(E){return da.apply(this,arguments)}function da(){return(da=(0,R.Z)(function*({appConfig:E,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function be({p256dh:E,auth:D,endpoint:M,vapidKey:F}){const Y={web:{endpoint:M,auth:D,p256dh:E}};return F!==Yi&&(Y.web.applicationPubKey=F),Y}const kt=6048e5;function wu(E){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,R.Z)(function*(E){const D=yield Vc(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Wr(D.getKey("auth")),p256dh:Wr(D.getKey("p256dh"))},F=yield Co(E.firebaseDependencies);if(F){if(hd(F.subscriptionOptions,M))return Date.now()>=F.createTime+kt?Io(E,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield _u(E.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return ha(E.firebaseDependencies,M)}return ha(E.firebaseDependencies,M)})).apply(this,arguments)}function _n(E){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,R.Z)(function*(E){const D=yield Co(E.firebaseDependencies);D&&(yield _u(E.firebaseDependencies,D.token),yield qs(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Io(E,D){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,R.Z)(function*(E,D){try{const M=yield Qh(E.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Ut(E.firebaseDependencies,F),M}catch(M){throw yield _n(E),M}})).apply(this,arguments)}function ha(E,D){return fa.apply(this,arguments)}function fa(){return(fa=(0,R.Z)(function*(E,D){const F={token:yield yt(E,D),createTime:Date.now(),subscriptionOptions:D};return yield Ut(E,F),F.token})).apply(this,arguments)}function Vc(E,D){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,R.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fr(D)})})).apply(this,arguments)}function hd(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}function pa(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function wn(E,D){if(!D.notification)return;E.notification={};const M=D.notification.title;M&&(E.notification.title=M);const F=D.notification.body;F&&(E.notification.body=F);const Y=D.notification.image;Y&&(E.notification.image=Y)}(D,E),function Si(E,D){!D.data||(E.data=D.data)}(D,E),function Bc(E,D){var M,F,Y,ne,Ce;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;E.fcmOptions={};const xe=null!==(Y=null===(F=D.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==Y?Y:null===(ne=D.notification)||void 0===ne?void 0:ne.click_action;xe&&(E.fcmOptions.link=xe);const et=null===(Ce=D.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;et&&(E.fcmOptions.analyticsLabel=et)}(D,E),D}function Zs(E){return"object"==typeof E&&!!E&&ca in E}function es(E,D){const M=[];for(let F=0;F<E.length;F++)M.push(E.charAt(F)),F<D.length&&M.push(D.charAt(F));return M.join("")}function ga(E){return mn.create("missing-app-config-values",{valueName:E})}es("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),es("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yp{constructor(D,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Kp(E){if(!E||!E.options)throw ga("App Configuration Object");if(!E.name)throw ga("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const F of D)if(!M[F])throw ga(F);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function jc(E){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,R.Z)(function*(E){var D;try{E.swRegistration=yield navigator.serviceWorker.register(Ti,{scope:Ai}),E.swRegistration.update().catch(()=>{})}catch(M){throw mn.create("failed-service-worker-registration",{browserErrorMessage:null===(D=M)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function ma(E,D){return $c.apply(this,arguments)}function $c(){return($c=(0,R.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield jc(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function ya(E,D){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,R.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=Yi)})).apply(this,arguments)}function Du(){return(Du=(0,R.Z)(function*(E,D){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield ya(E,D?.vapidKey),yield ma(E,D?.serviceWorkerRegistration),wu(E)})).apply(this,arguments)}function Gc(E,D,M){return zc.apply(this,arguments)}function zc(){return(zc=(0,R.Z)(function*(E,D,M){const F=Wc(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[ca],message_name:M[du],message_time:M[kc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wc(E){switch(E){case Qi.NOTIFICATION_CLICKED:return"notification_open";case Qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ks(){return(Ks=(0,R.Z)(function*(E,D){const M=D.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===Qi.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(pa(M)):E.onMessageHandler.next(pa(M)));const F=M.data;Zs(F)&&"1"===F[qh]&&(yield Gc(E,M.messageType,F))})).apply(this,arguments)}const Ys="@firebase/messaging",zn=E=>{const D=new Yp(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function fd(E,D){return Ks.apply(this,arguments)}(D,M)),D},Lr=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:F=>function bu(E,D){return Du.apply(this,arguments)}(D,F)}};function pd(){return qc.apply(this,arguments)}function qc(){return(qc=(0,R.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function cn(){(0,oe._registerComponent)(new de.wA("messaging",zn,"PUBLIC")),(0,oe._registerComponent)(new de.wA("messaging-internal",Lr,"PRIVATE")),(0,oe.registerVersion)(Ys,"0.9.16"),(0,oe.registerVersion)(Ys,"0.9.16","esm2017")}();const Do="analytics",yd="firebase_id",Qs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Su="https://www.googletagmanager.com/gtag/js",Cn=new ue.Yd("@firebase/analytics");function Mu(E){return Promise.all(E.map(D=>D.catch(M=>M)))}function xu(E,D){const M=document.createElement("script");M.src=`${Su}?l=${E}&id=${D}`,M.async=!0,document.head.appendChild(M)}function Xh(E,D,M,F,Y,ne){return To.apply(this,arguments)}function To(){return(To=(0,R.Z)(function*(E,D,M,F,Y,ne){const Ce=F[Y];try{if(Ce)yield D[Ce];else{const et=(yield Mu(M)).find(pt=>pt.measurementId===Y);et&&(yield D[et.appId])}}catch(xe){Cn.error(xe)}E("config",Y,ne)})).apply(this,arguments)}function Ao(E,D,M,F,Y){return Js.apply(this,arguments)}function Js(){return(Js=(0,R.Z)(function*(E,D,M,F,Y){try{let ne=[];if(Y&&Y.send_to){let Ce=Y.send_to;Array.isArray(Ce)||(Ce=[Ce]);const xe=yield Mu(M);for(const et of Ce){const pt=xe.find(ut=>ut.measurementId===et),wt=pt&&D[pt.appId];if(!wt){ne=[];break}ne.push(wt)}}0===ne.length&&(ne=Object.values(D)),yield Promise.all(ne),E("event",F,Y||{})}catch(ne){Cn.error(ne)}})).apply(this,arguments)}function _d(){const E=window.document.getElementsByTagName("script");for(const D of Object.values(E))if(D.src&&D.src.includes(Su))return D;return null}const tr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ca=new class Mi{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Cd(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Ia(E){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,R.Z)(function*(E){var D;const{appId:M,apiKey:F}=E,Y={method:"GET",headers:Cd(F)},ne=Qs.replace("{app-id}",M),Ce=yield fetch(ne,Y);if(200!==Ce.status&&304!==Ce.status){let xe="";try{const et=yield Ce.json();null!==(D=et.error)&&void 0!==D&&D.message&&(xe=et.error.message)}catch{}throw tr.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:xe})}return Ce.json()})).apply(this,arguments)}function An(E){return li.apply(this,arguments)}function li(){return(li=(0,R.Z)(function*(E,D=Ca,M){const{appId:F,apiKey:Y,measurementId:ne}=E.options;if(!F)throw tr.create("no-app-id");if(!Y){if(ne)return{measurementId:ne,appId:F};throw tr.create("no-api-key")}const Ce=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},xe=new Nu;return setTimeout((0,R.Z)(function*(){xe.abort()}),void 0!==M?M:6e4),Pu({appId:F,apiKey:Y,measurementId:ne},Ce,xe,D)})).apply(this,arguments)}function Pu(E,D,M){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,R.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:M},F,Y=Ca){var ne,Ce;const{appId:xe,measurementId:et}=E;try{yield Ea(F,D)}catch(pt){if(et)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${null===(ne=pt)||void 0===ne?void 0:ne.message}]`),{appId:xe,measurementId:et};throw pt}try{const pt=yield Ia(E);return Y.deleteThrottleMetadata(xe),pt}catch(pt){const wt=pt;if(!Ru(wt)){if(Y.deleteThrottleMetadata(xe),et)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${wt?.message}]`),{appId:xe,measurementId:et};throw pt}const ut=503===Number(null===(Ce=wt?.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,re.$s)(M,Y.intervalMillis,30):(0,re.$s)(M,Y.intervalMillis),gn={throttleEndTimeMillis:Date.now()+ut,backoffCount:M+1};return Y.setThrottleMetadata(xe,gn),Cn.debug(`Calling attemptFetch again in ${ut} millis`),Pu(E,gn,F,Y)}})).apply(this,arguments)}function Ea(E,D){return new Promise((M,F)=>{const Y=Math.max(D-Date.now(),0),ne=setTimeout(M,Y);E.addEventListener(()=>{clearTimeout(ne),F(tr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Ru(E){if(!(E instanceof re.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Nu{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Ds,Da;function Ts(){return(Ts=(0,R.Z)(function*(E,D,M,F,Y){if(Y&&Y.global)E("event",M,F);else{const ne=yield D;E("event",M,Object.assign(Object.assign({},F),{send_to:ne}))}})).apply(this,arguments)}function to(E){Da=E}function Xc(E){Ds=E}function ns(){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,R.Z)(function*(){var E;if(!(0,re.hl)())return Cn.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(D){return Cn.warn(tr.create("indexeddb-unavailable",{errorInfo:null===(E=D)||void 0===E?void 0:E.toString()}).message),!1}return!0})).apply(this,arguments)}function xo(){return(xo=(0,R.Z)(function*(E,D,M,F,Y,ne,Ce){var xe;const et=An(E);et.then(or=>{M[or.measurementId]=or.appId,E.options.measurementId&&or.measurementId!==E.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${or.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(or=>Cn.error(or)),D.push(et);const pt=ns().then(or=>{if(or)return F.getId()}),[wt,ut]=yield Promise.all([et,pt]);_d()||xu(ne,wt.measurementId),Da&&(Y("consent","default",Da),to(void 0)),Y("js",new Date);const gn=null!==(xe=Ce?.config)&&void 0!==xe?xe:{};return gn.origin="firebase",gn.update=!0,null!=ut&&(gn[yd]=ut),Y("config",wt.measurementId,gn),Ds&&(Y("set",Ds),Xc(void 0)),wt.measurementId})).apply(this,arguments)}class Lu{constructor(D){this.app=D}_delete(){return delete Vr[this.app.options.appId],Promise.resolve()}}let Vr={},As=[];const Oo={};let Ro,no,Po="dataLayer",Ta=!1;function Cy(E,D,M){!function Qp(){const E=[];if((0,re.ru)()&&E.push("This is a browser extension environment."),(0,re.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),M=tr.create("invalid-analytics-context",{errorInfo:D});Cn.warn(M.message)}}();const F=E.options.appId;if(!F)throw tr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw tr.create("no-api-key");Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vr[F])throw tr.create("already-exists",{id:F});if(!Ta){!function vd(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(Po);const{wrappedGtag:ne,gtagCore:Ce}=function va(E,D,M,F,Y){let ne=function(...Ce){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ne=window[Y]),window[Y]=function Ou(E,D,M,F){function ne(){return(ne=(0,R.Z)(function*(Ce,xe,et){try{"event"===Ce?yield Ao(E,D,M,xe,et):"config"===Ce?yield Xh(E,D,M,F,xe,et):"consent"===Ce?E("consent","update",et):E("set",xe)}catch(pt){Cn.error(pt)}})).apply(this,arguments)}return function Y(Ce,xe,et){return ne.apply(this,arguments)}}(ne,E,D,M),{gtagCore:ne,wrappedGtag:window[Y]}}(Vr,As,Oo,Po,"gtag");no=ne,Ro=Ce,Ta=!0}return Vr[F]=function Mo(E,D,M,F,Y,ne,Ce){return xo.apply(this,arguments)}(E,As,Oo,D,Ro,Po,M),new Lu(E)}function Ey(){return ef.apply(this,arguments)}function ef(){return(ef=(0,R.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const rt="@firebase/analytics";!function pn(){(0,oe._registerComponent)(new de.wA(Do,(D,{options:M})=>Cy(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe._registerComponent)(new de.wA("analytics-internal",function E(D){try{const M=D.getProvider(Do).getImmediate();return{logEvent:(F,Y,ne)=>function rn(E,D,M,F){E=(0,re.m9)(E),function Id(E,D,M,F,Y){return Ts.apply(this,arguments)}(no,Vr[E.app.options.appId],D,M,F).catch(Y=>Cn.error(Y))}(M,F,Y,ne)}}catch(M){throw tr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.registerVersion)(rt,"0.8.0"),(0,oe.registerVersion)(rt,"0.8.0","esm2017")}();var hi=k(4408),Er=k(7565);const Uu=new class Ss extends Er.v{}(class Aa extends hi.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,M,F):D.flush(this)}});var tl=k(4986),Sa=k(8505),No=k(9468),Ms=k(5363);const it=new f.GfV("7.4.1"),Ma="__angularfire_symbol__analyticsIsSupportedValue",xs="__angularfire_symbol__analyticsIsSupported",xa="__angularfire_symbol__remoteConfigIsSupportedValue",ko="__angularfire_symbol__remoteConfigIsSupported",Wn="__angularfire_symbol__messagingIsSupportedValue",nl="__angularfire_symbol__messagingIsSupported";function Oa(E,D,M){if(D){if(1===D.length)return D[0];const ne=D.filter(Ce=>Ce.app===M);if(1===ne.length)return ne[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[xs]||(globalThis[xs]=Ey().then(E=>globalThis[Ma]=E).catch(()=>globalThis[Ma]=!1)),globalThis[nl]||(globalThis[nl]=pd().then(E=>globalThis[Wn]=E).catch(()=>globalThis[Wn]=!1)),globalThis[ko]||(globalThis[ko]=lu().then(E=>globalThis[xa]=E).catch(()=>globalThis[xa]=!1));const Os=(E,D)=>{const M=D?[D]:(0,ee.C6)(),F=[];return M.forEach(Y=>{Y.container.getProvider(E).instances.forEach(Ce=>{F.includes(Ce)||F.push(Ce)})}),F};function Ps(){}class fi{constructor(D,M=Uu){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,F){const Y=this.zone;return this.delegate.schedule(function(Ce){Y.runGuarded(()=>{D.apply(this,[Ce])})},M,F)}}class il{constructor(D){this.zone=D,this.task=null}call(D,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps)),M.pipe((0,Sa.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lo=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new fi(Zone.current)),this.insideAngular=M.run(()=>new fi(Zone.current,tl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(f.LFG(f.R0b))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ur(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function is(E){return Ur(),function Fn(E){return function(M){return(M=M.lift(new il(E.ngZone))).pipe((0,No.R)(E.outsideAngular),(0,Ms.Q)(E.insideAngular))}}(Ur())(E)}},2090:(ot,De,k)=>{k.d(De,{$s:()=>qi,BH:()=>Ve,G6:()=>je,L:()=>he,LL:()=>Ne,Sg:()=>Se,UG:()=>me,US:()=>de,ZB:()=>j,ZR:()=>te,b$:()=>tt,eu:()=>ge,hl:()=>V,jU:()=>fe,m9:()=>$t,ne:()=>vo,pd:()=>Nr,r3:()=>vr,ru:()=>Ze,tV:()=>pe,uI:()=>Qe,vZ:()=>Pr,w1:()=>ve,xO:()=>ms,xb:()=>Jt,z$:()=>_e,zI:()=>Z,zd:()=>Ei});const oe=function(W){const B=[];let L=0;for(let $=0;$<W.length;$++){let z=W.charCodeAt($);z<128?B[L++]=z:z<2048?(B[L++]=z>>6|192,B[L++]=63&z|128):55296==(64512&z)&&$+1<W.length&&56320==(64512&W.charCodeAt($+1))?(z=65536+((1023&z)<<10)+(1023&W.charCodeAt(++$)),B[L++]=z>>18|240,B[L++]=z>>12&63|128,B[L++]=z>>6&63|128,B[L++]=63&z|128):(B[L++]=z>>12|224,B[L++]=z>>6&63|128,B[L++]=63&z|128)}return B},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,B){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let z=0;z<W.length;z+=3){const Ee=W[z],Ue=z+1<W.length,nt=Ue?W[z+1]:0,sn=z+2<W.length,Wt=sn?W[z+2]:0;let At=(15&nt)<<2|Wt>>6,hn=63&Wt;sn||(hn=64,Ue||(At=64)),$.push(L[Ee>>2],L[(3&Ee)<<4|nt>>4],L[At],L[hn])}return $.join("")},encodeString(W,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(W):this.encodeByteArray(oe(W),B)},decodeString(W,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(W):function(W){const B=[];let L=0,$=0;for(;L<W.length;){const z=W[L++];if(z<128)B[$++]=String.fromCharCode(z);else if(z>191&&z<224){const Ee=W[L++];B[$++]=String.fromCharCode((31&z)<<6|63&Ee)}else if(z>239&&z<365){const sn=((7&z)<<18|(63&W[L++])<<12|(63&W[L++])<<6|63&W[L++])-65536;B[$++]=String.fromCharCode(55296+(sn>>10)),B[$++]=String.fromCharCode(56320+(1023&sn))}else{const Ee=W[L++],Ue=W[L++];B[$++]=String.fromCharCode((15&z)<<12|(63&Ee)<<6|63&Ue)}}return B.join("")}(this.decodeStringToByteArray(W,B))},decodeStringToByteArray(W,B){this.init_();const L=B?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let z=0;z<W.length;){const Ee=L[W.charAt(z++)],nt=z<W.length?L[W.charAt(z)]:0;++z;const Wt=z<W.length?L[W.charAt(z)]:64;++z;const Nt=z<W.length?L[W.charAt(z)]:64;if(++z,null==Ee||null==nt||null==Wt||null==Nt)throw Error();$.push(Ee<<2|nt>>4),64!==Wt&&($.push(nt<<4&240|Wt>>2),64!==Nt&&$.push(Wt<<6&192|Nt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},he=function(W){return function(W){const B=oe(W);return de.encodeByteArray(B,!0)}(W).replace(/\./g,"")},pe=function(W){try{return de.decodeString(W,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function j(W,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return B}for(const L in B)!B.hasOwnProperty(L)||!K(L)||(W[L]=j(W[L],B[L]));return W}function K(W){return"__proto__"!==W}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,L)=>{this.resolve=B,this.reject=L})}wrapCallback(B){return(L,$)=>{L?this.reject(L):this.resolve($),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(L):B(L,$))}}}function Se(W,B){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=B||"demo-project",z=W.iat||0,Ee=W.sub||W.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:z,exp:z+3600,auth_time:z,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},W);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ue)),""].join(".")}function _e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function fe(){return"object"==typeof self&&self.self===self}function Ze(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){const W=_e();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function je(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){return"object"==typeof indexedDB}function ge(){return new Promise((W,B)=>{try{let L=!0;const $="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open($);z.onsuccess=()=>{z.result.close(),L||self.indexedDB.deleteDatabase($),W(!0)},z.onupgradeneeded=()=>{L=!1},z.onerror=()=>{var Ee;B((null===(Ee=z.error)||void 0===Ee?void 0:Ee.message)||"")}}catch(L){B(L)}})}function Z(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class te extends Error{constructor(B,L,$){super(L),this.code=B,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(B,L,$){this.service=B,this.serviceName=L,this.errors=$}create(B,...L){const $=L[0]||{},z=`${this.service}/${B}`,Ee=this.errors[B],Ue=Ee?function Pe(W,B){return W.replace(lt,(L,$)=>{const z=B[$];return null!=z?String(z):`<${$}?>`})}(Ee,$):"Error";return new te(z,`${this.serviceName}: ${Ue} (${z}).`,$)}}const lt=/\{\$([^}]+)}/g;function vr(W,B){return Object.prototype.hasOwnProperty.call(W,B)}function Jt(W){for(const B in W)if(Object.prototype.hasOwnProperty.call(W,B))return!1;return!0}function Pr(W,B){if(W===B)return!0;const L=Object.keys(W),$=Object.keys(B);for(const z of L){if(!$.includes(z))return!1;const Ee=W[z],Ue=B[z];if(lr(Ee)&&lr(Ue)){if(!Pr(Ee,Ue))return!1}else if(Ee!==Ue)return!1}for(const z of $)if(!L.includes(z))return!1;return!0}function lr(W){return null!==W&&"object"==typeof W}function ms(W){const B=[];for(const[L,$]of Object.entries(W))Array.isArray($)?$.forEach(z=>{B.push(encodeURIComponent(L)+"="+encodeURIComponent(z))}):B.push(encodeURIComponent(L)+"="+encodeURIComponent($));return B.length?"&"+B.join("&"):""}function Ei(W){const B={};return W.replace(/^\?/,"").split("&").forEach($=>{if($){const[z,Ee]=$.split("=");B[decodeURIComponent(z)]=decodeURIComponent(Ee)}}),B}function Nr(W){const B=W.indexOf("?");if(!B)return"";const L=W.indexOf("#",B);return W.substring(B,L>0?L:void 0)}function vo(W,B){const L=new qe(W,B);return L.subscribe.bind(L)}class qe{constructor(B,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{B(this)}).catch($=>{this.error($)})}next(B){this.forEachObserver(L=>{L.next(B)})}error(B){this.forEachObserver(L=>{L.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,L,$){let z;if(void 0===B&&void 0===L&&void 0===$)throw new Error("Missing Observer.");z=function Wi(W,B){if("object"!=typeof W||null===W)return!1;for(const L of B)if(L in W&&"function"==typeof W[L])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:L,complete:$},void 0===z.next&&(z.next=Dn),void 0===z.error&&(z.error=Dn),void 0===z.complete&&(z.complete=Dn);const Ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),Ee}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,B)}sendOne(B,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{L(this.observers[B])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}function qi(W,B=1e3,L=2){const $=B*Math.pow(L,W),z=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+z)}function $t(W){return W&&W._delegate?W._delegate:W}},8791:(ot,De,k)=>{var f=k(4650);let ee=null;function R(){return ee}const ue=new f.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function pe(){return(0,f.LFG)(j)}()},providedIn:"platform"}),n})();const U=new f.OlP("Location Initialized");let j=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){K()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){K()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ve(){return new j((0,f.LFG)(ue))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function _e(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(Ze)},providedIn:"root"}),n})();const fe=new f.OlP("appBaseHref");let Ze=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+Qe(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+Qe(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(fe,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tt=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+Qe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+Qe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(fe,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=_e(Be(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qe(r))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=Se,n.stripTrailingSlash=_e,n.\u0275fac=function(t){return new(t||n)(f.LFG(me))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ve(){return new Te((0,f.LFG)(me))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}var V=(()=>((V=V||{})[V.Decimal=0]="Decimal",V[V.Percent=1]="Percent",V[V.Currency=2]="Currency",V[V.Scientific=3]="Scientific",V))(),Z=(()=>((Z=Z||{})[Z.Format=0]="Format",Z[Z.Standalone=1]="Standalone",Z))(),J=(()=>((J=J||{})[J.Narrow=0]="Narrow",J[J.Abbreviated=1]="Abbreviated",J[J.Wide=2]="Wide",J[J.Short=3]="Short",J))(),ie=(()=>((ie=ie||{})[ie.Short=0]="Short",ie[ie.Medium=1]="Medium",ie[ie.Long=2]="Long",ie[ie.Full=3]="Full",ie))(),te=(()=>((te=te||{})[te.Decimal=0]="Decimal",te[te.Group=1]="Group",te[te.List=2]="List",te[te.PercentSign=3]="PercentSign",te[te.PlusSign=4]="PlusSign",te[te.MinusSign=5]="MinusSign",te[te.Exponential=6]="Exponential",te[te.SuperscriptingExponent=7]="SuperscriptingExponent",te[te.PerMille=8]="PerMille",te[te.Infinity=9]="Infinity",te[te.NaN=10]="NaN",te[te.TimeSeparator=11]="TimeSeparator",te[te.CurrencyDecimal=12]="CurrencyDecimal",te[te.CurrencyGroup=13]="CurrencyGroup",te))();function Ht(n,e){return qe((0,f.cg1)(n)[f.wAp.DateFormat],e)}function Gt(n,e){return qe((0,f.cg1)(n)[f.wAp.TimeFormat],e)}function vr(n,e){return qe((0,f.cg1)(n)[f.wAp.DateTimeFormat],e)}function Ot(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===te.CurrencyDecimal)return t[f.wAp.NumberSymbols][te.Decimal];if(e===te.CurrencyGroup)return t[f.wAp.NumberSymbols][te.Group]}return r}function Ei(n){if(!n[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qe(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function kr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Gr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tn={},jn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=(()=>((an=an||{})[an.Short=0]="Short",an[an.ShortGMT=1]="ShortGMT",an[an.Long=2]="Long",an[an.Extended=3]="Extended",an))(),dt=(()=>((dt=dt||{})[dt.FullYear=0]="FullYear",dt[dt.Month=1]="Month",dt[dt.Date=2]="Date",dt[dt.Hours=3]="Hours",dt[dt.Minutes=4]="Minutes",dt[dt.Seconds=5]="Seconds",dt[dt.FractionalSeconds=6]="FractionalSeconds",dt[dt.Day=7]="Day",dt))(),st=(()=>((st=st||{})[st.DayPeriods=0]="DayPeriods",st[st.Days=1]="Days",st[st.Months=2]="Months",st[st.Eras=3]="Eras",st))();function tn(n,e,t,r){let o=function hn(n){if(bi(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,u=1,d=1]=n.split("-").map(m=>+m);return Jn(o,u-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Gr))return function On(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,m=Number(n[5]||0)-r,w=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,d,m,w,b),e}(r)}const e=new Date(n);if(!bi(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Xn(t,e)||e;let m,d=[];for(;e;){if(m=jn.exec(e),!m){d.push(e);break}{d=d.concat(m.slice(1));const S=d.pop();if(!S)break;e=S}}let w=o.getTimezoneOffset();r&&(w=$n(r,w),o=function At(n,e,t){const r=t?-1:1,o=n.getTimezoneOffset();return function Nt(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*($n(e,o)-o))}(o,r,!0));let b="";return d.forEach(S=>{const O=function Wt(n){if(sn[n])return sn[n];let e;switch(n){case"G":case"GG":case"GGG":e=$t(st.Eras,J.Abbreviated);break;case"GGGG":e=$t(st.Eras,J.Wide);break;case"GGGGG":e=$t(st.Eras,J.Narrow);break;case"y":e=zt(dt.FullYear,1,0,!1,!0);break;case"yy":e=zt(dt.FullYear,2,0,!0,!0);break;case"yyy":e=zt(dt.FullYear,3,0,!1,!0);break;case"yyyy":e=zt(dt.FullYear,4,0,!1,!0);break;case"Y":e=nt(1);break;case"YY":e=nt(2,!0);break;case"YYY":e=nt(3);break;case"YYYY":e=nt(4);break;case"M":case"L":e=zt(dt.Month,1,1);break;case"MM":case"LL":e=zt(dt.Month,2,1);break;case"MMM":e=$t(st.Months,J.Abbreviated);break;case"MMMM":e=$t(st.Months,J.Wide);break;case"MMMMM":e=$t(st.Months,J.Narrow);break;case"LLL":e=$t(st.Months,J.Abbreviated,Z.Standalone);break;case"LLLL":e=$t(st.Months,J.Wide,Z.Standalone);break;case"LLLLL":e=$t(st.Months,J.Narrow,Z.Standalone);break;case"w":e=Ue(1);break;case"ww":e=Ue(2);break;case"W":e=Ue(1,!0);break;case"d":e=zt(dt.Date,1);break;case"dd":e=zt(dt.Date,2);break;case"c":case"cc":e=zt(dt.Day,1);break;case"ccc":e=$t(st.Days,J.Abbreviated,Z.Standalone);break;case"cccc":e=$t(st.Days,J.Wide,Z.Standalone);break;case"ccccc":e=$t(st.Days,J.Narrow,Z.Standalone);break;case"cccccc":e=$t(st.Days,J.Short,Z.Standalone);break;case"E":case"EE":case"EEE":e=$t(st.Days,J.Abbreviated);break;case"EEEE":e=$t(st.Days,J.Wide);break;case"EEEEE":e=$t(st.Days,J.Narrow);break;case"EEEEEE":e=$t(st.Days,J.Short);break;case"a":case"aa":case"aaa":e=$t(st.DayPeriods,J.Abbreviated);break;case"aaaa":e=$t(st.DayPeriods,J.Wide);break;case"aaaaa":e=$t(st.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":e=$t(st.DayPeriods,J.Abbreviated,Z.Standalone,!0);break;case"bbbb":e=$t(st.DayPeriods,J.Wide,Z.Standalone,!0);break;case"bbbbb":e=$t(st.DayPeriods,J.Narrow,Z.Standalone,!0);break;case"B":case"BB":case"BBB":e=$t(st.DayPeriods,J.Abbreviated,Z.Format,!0);break;case"BBBB":e=$t(st.DayPeriods,J.Wide,Z.Format,!0);break;case"BBBBB":e=$t(st.DayPeriods,J.Narrow,Z.Format,!0);break;case"h":e=zt(dt.Hours,1,-12);break;case"hh":e=zt(dt.Hours,2,-12);break;case"H":e=zt(dt.Hours,1);break;case"HH":e=zt(dt.Hours,2);break;case"m":e=zt(dt.Minutes,1);break;case"mm":e=zt(dt.Minutes,2);break;case"s":e=zt(dt.Seconds,1);break;case"ss":e=zt(dt.Seconds,2);break;case"S":e=zt(dt.FractionalSeconds,1);break;case"SS":e=zt(dt.FractionalSeconds,2);break;case"SSS":e=zt(dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=B(an.Short);break;case"ZZZZZ":e=B(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=B(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=B(an.Long);break;default:return null}return sn[n]=e,e}(S);b+=O?O(o,t,w):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Jn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Xn(n,e){const t=function Pe(n){return(0,f.cg1)(n)[f.wAp.LocaleId]}(n);if(Tn[t]=Tn[t]||{},Tn[t][e])return Tn[t][e];let r="";switch(e){case"shortDate":r=Ht(n,ie.Short);break;case"mediumDate":r=Ht(n,ie.Medium);break;case"longDate":r=Ht(n,ie.Long);break;case"fullDate":r=Ht(n,ie.Full);break;case"shortTime":r=Gt(n,ie.Short);break;case"mediumTime":r=Gt(n,ie.Medium);break;case"longTime":r=Gt(n,ie.Long);break;case"fullTime":r=Gt(n,ie.Full);break;case"short":const o=Xn(n,"shortTime"),u=Xn(n,"shortDate");r=_r(vr(n,ie.Short),[o,u]);break;case"medium":const d=Xn(n,"mediumTime"),m=Xn(n,"mediumDate");r=_r(vr(n,ie.Medium),[d,m]);break;case"long":const w=Xn(n,"longTime"),b=Xn(n,"longDate");r=_r(vr(n,ie.Long),[w,b]);break;case"full":const S=Xn(n,"fullTime"),O=Xn(n,"fullDate");r=_r(vr(n,ie.Full),[S,O])}return r&&(Tn[t][e]=r),r}function _r(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function mt(n,e,t="-",r,o){let u="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,u=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.slice(d.length-e)),u+d}function zt(n,e,t=0,r=!1,o=!1){return function(u,d){let m=function oi(n,e){switch(n){case dt.FullYear:return e.getFullYear();case dt.Month:return e.getMonth();case dt.Date:return e.getDate();case dt.Hours:return e.getHours();case dt.Minutes:return e.getMinutes();case dt.Seconds:return e.getSeconds();case dt.FractionalSeconds:return e.getMilliseconds();case dt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||m>-t)&&(m+=t),n===dt.Hours)0===m&&-12===t&&(m=12);else if(n===dt.FractionalSeconds)return function qi(n,e){return mt(n,3).substring(0,e)}(m,e);const w=Ot(d,te.MinusSign);return mt(m,e,w,r,o)}}function $t(n,e,t=Z.Format,r=!1){return function(o,u){return function W(n,e,t,r,o,u){switch(t){case st.Months:return function Vt(n,e,t){const r=(0,f.cg1)(n),u=qe([r[f.wAp.MonthsFormat],r[f.wAp.MonthsStandalone]],e);return qe(u,t)}(e,o,r)[n.getMonth()];case st.Days:return function Bt(n,e,t){const r=(0,f.cg1)(n),u=qe([r[f.wAp.DaysFormat],r[f.wAp.DaysStandalone]],e);return qe(u,t)}(e,o,r)[n.getDay()];case st.DayPeriods:const d=n.getHours(),m=n.getMinutes();if(u){const b=function Nr(n){const e=(0,f.cg1)(n);return Ei(e),(e[f.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?kr(r):[kr(r[0]),kr(r[1])])}(e),S=function ii(n,e,t){const r=(0,f.cg1)(n);Ei(r);const u=qe([r[f.wAp.ExtraData][0],r[f.wAp.ExtraData][1]],e)||[];return qe(u,t)||[]}(e,o,r),O=b.findIndex(H=>{if(Array.isArray(H)){const[Q,ae]=H,Oe=d>=Q.hours&&m>=Q.minutes,Le=d<ae.hours||d===ae.hours&&m<ae.minutes;if(Q.hours<ae.hours){if(Oe&&Le)return!0}else if(Oe||Le)return!0}else if(H.hours===d&&H.minutes===m)return!0;return!1});if(-1!==O)return S[O]}return function lt(n,e,t){const r=(0,f.cg1)(n),u=qe([r[f.wAp.DayPeriodsFormat],r[f.wAp.DayPeriodsStandalone]],e);return qe(u,t)}(e,o,r)[d<12?0:1];case st.Eras:return function ze(n,e){return qe((0,f.cg1)(n)[f.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,u,n,e,t,r)}}function B(n){return function(e,t,r){const o=-1*r,u=Ot(t,te.MinusSign),d=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case an.Short:return(o>=0?"+":"")+mt(d,2,u)+mt(Math.abs(o%60),2,u);case an.ShortGMT:return"GMT"+(o>=0?"+":"")+mt(d,1,u);case an.Long:return"GMT"+(o>=0?"+":"")+mt(d,2,u)+":"+mt(Math.abs(o%60),2,u);case an.Extended:return 0===r?"Z":(o>=0?"+":"")+mt(d,2,u)+":"+mt(Math.abs(o%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ee(n){return Jn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ue(n,e=!1){return function(t,r){let o;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();o=1+Math.floor((d+u)/7)}else{const u=Ee(t),d=function z(n){const e=Jn(n,0,1).getDay();return Jn(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),m=u.getTime()-d.getTime();o=1+Math.round(m/6048e5)}return mt(o,n,Ot(r,te.MinusSign))}}function nt(n,e=!1){return function(t,r){return mt(Ee(t).getFullYear(),n,Ot(r,te.MinusSign),e)}}const sn={};function $n(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function bi(n){return n instanceof Date&&!isNaN(n.valueOf())}const wr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Rn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class aa{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zi=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new aa(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),ws(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{ws(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ws(n,e){n.context.$implicit=e.item}let kn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new xc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){er("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){er("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class xc{constructor(){this.$implicit=null,this.ngIf=null}}function er(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}function Gn(n,e){return new f.vHH(2100,!1)}const Zp=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let zh=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",o,u){if(null==t||""===t||t!=t)return null;try{return tn(t,r,u||this.locale,o??this.defaultTimezone??void 0)}catch(d){throw Gn()}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(Zp,24))},n.\u0275pipe=f.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ai=(()=>{class n{constructor(t){this._locale=t}transform(t,r,o){if(!function ca(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale;try{return function St(n,e,t){return function un(n,e,t,r,o,u,d=!1){let m="",w=!1;if(isFinite(n)){let b=function Ac(n){let r,o,u,d,m,e=Math.abs(n)+"",t=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(o<0&&(o=u),o+=+e.slice(u+1),e=e.substring(0,u)):o<0&&(o=e.length),u=0;"0"===e.charAt(u);u++);if(u===(m=e.length))r=[0],o=1;else{for(m--;"0"===e.charAt(m);)m--;for(o-=u,r=[],d=0;u<=m;u++,d++)r[d]=Number(e.charAt(u))}return o>22&&(r=r.splice(0,21),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(n);d&&(b=function Gs(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let S=e.minInt,O=e.minFrac,H=e.maxFrac;if(u){const Tt=u.match(wr);if(null===Tt)throw new Error(`${u} is not a valid digit info`);const Lt=Tt[1],xt=Tt[3],Pt=Tt[5];null!=Lt&&(S=Rn(Lt)),null!=xt&&(O=Rn(xt)),null!=Pt?H=Rn(Pt):null!=xt&&O>H&&(H=O)}!function Di(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,o=r.length-n.integerLen;const u=Math.min(Math.max(e,o),t);let d=u+n.integerLen,m=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let O=d;O<r.length;O++)r[O]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let O=1;O<d;O++)r[O]=0}if(m>=5)if(d-1<0){for(let O=0;O>d;O--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;o<Math.max(0,u);o++)r.push(0);let w=0!==u;const b=e+n.integerLen,S=r.reduceRight(function(O,H,Q,ae){return ae[Q]=(H+=O)<10?H:H-10,w&&(0===ae[Q]&&Q>=b?ae.pop():w=!1),H>=10?1:0},0);S&&(r.unshift(S),n.integerLen++)}(b,O,H);let Q=b.digits,ae=b.integerLen;const Oe=b.exponent;let Le=[];for(w=Q.every(Tt=>!Tt);ae<S;ae++)Q.unshift(0);for(;ae<0;ae++)Q.unshift(0);ae>0?Le=Q.splice(ae,Q.length):(Le=Q,Q=[0]);const Et=[];for(Q.length>=e.lgSize&&Et.unshift(Q.splice(-e.lgSize,Q.length).join(""));Q.length>e.gSize;)Et.unshift(Q.splice(-e.gSize,Q.length).join(""));Q.length&&Et.unshift(Q.join("")),m=Et.join(Ot(t,r)),Le.length&&(m+=Ot(t,o)+Le.join("")),Oe&&(m+=Ot(t,te.Exponential)+"+"+Oe)}else m=Ot(t,te.Infinity);return m=n<0&&!w?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,function fn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),o=r[0],u=r[1],d=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],m=d[0],w=d[1]||"";t.posPre=m.substring(0,m.indexOf("#"));for(let S=0;S<w.length;S++){const O=w.charAt(S);"0"===O?t.minFrac=t.maxFrac=S+1:"#"===O?t.maxFrac=S+1:t.posSuf+=O}const b=m.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,u){const S=o.length-t.posPre.length-t.posSuf.length,O=u.indexOf("#");t.negPre=u.substring(0,O).replace(/'/g,""),t.negSuf=u.slice(O+S).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Jt(n,e){return(0,f.cg1)(n)[f.wAp.NumberFormats][e]}(e,V.Decimal),Ot(e,te.MinusSign)),e,te.Group,te.Decimal,t)}(function du(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,r)}catch(u){throw Gn()}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16))},n.\u0275pipe=f.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let la=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function sr(n){return"server"===n}let hu=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Yh((0,f.LFG)(ue),window)}),n})();class Yh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ir(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qr(this.window.history)||qr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ks extends class fd extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){ee||(ee=n)}(new Ks)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Tu(){return Ys=Ys||document.querySelector("base"),Ys?Ys.getAttribute("href"):null}();return null==t?null:function Lr(n){zn=zn||document.createElement("a"),zn.setAttribute("href",n);const e=zn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function uu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let zn,Ys=null;const cn=new f.OlP("TRANSITION_ID"),qc=[{provide:f.ip1,useFactory:function pd(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[cn,ue,f.zs3],multi:!0}];let Zc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Au=new f.OlP("EventManagerPlugins");let gd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Au),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Kc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Eo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),bo=(()=>{class n extends Eo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(md),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(md))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function md(n){R().remove(n)}const Do={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yd=/%COMP%/g;function xu(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?xu(n,o,t):(o=o.replace(yd,n),t.push(o))}return t}function vd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let To=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ao(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new _d(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new wd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=xu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(gd),f.LFG(bo),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Ao{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Do[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(va(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(va(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Do[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Do[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,vd(r)):this.eventManager.addEventListener(e,t,vd(r))}}function va(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _d extends Ao{constructor(e,t,r,o){super(e),this.component=r;const u=xu(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Cn(n){return"_ngcontent-%COMP%".replace(yd,n)}(o+"-"+r.id),this.hostAttr=function Mu(n){return"_nghost-%COMP%".replace(yd,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wd extends Ao{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=xu(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let tr=(()=>{class n extends Kc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const _a=["alt","control","meta","shift"],wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ca=(()=>{class n extends Kc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),_a.forEach(b=>{const S=r.indexOf(b);S>-1&&(r.splice(S,1),d+=b+".")}),d+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=d,w}static matchEventFullKeyCode(t,r){let o=wa[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),_a.forEach(d=>{d!==o&&(0,Mi[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Nu=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function Pu(){Ks.makeCurrent()},multi:!0},{provide:ue,useFactory:function Ea(){return(0,f.RDi)(document),document},deps:[]}]),Ds=new f.OlP(""),Id=[{provide:f.rWj,useClass:class Jh{addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};o.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Ts=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Xs(){return new f.qLn},deps:[]},{provide:Au,useClass:tr,multi:!0,deps:[ue,f.R0b,f.Lbi]},{provide:Au,useClass:Ca,multi:!0,deps:[ue]},{provide:To,useClass:To,deps:[gd,bo,f.AFp]},{provide:f.FYo,useExisting:To},{provide:Eo,useExisting:bo},{provide:bo,useClass:bo,deps:[ue]},{provide:gd,useClass:gd,deps:[Au,f.R0b]},{provide:class Co{},useClass:Zc,deps:[]},[]];let Qc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:cn,useExisting:f.AFp},qc]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ds,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...Ts,...Id],imports:[la,f.hGG]}),n})(),ts=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function So(){return new ts((0,f.LFG)(ue))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var rn=k(8996),di=k(7669);function rt(...n){const e=(0,di.yG)(n);return(0,rn.D)(n,e)}var Kr=k(7579);class pn extends Kr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Aa=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Er=k(9751);const{isArray:Ss}=Array,{getPrototypeOf:Uu,prototype:Xp,keys:tl}=Object;function Sa(n){if(1===n.length){const e=n[0];if(Ss(e))return{args:e,keys:null};if(function No(n){return n&&"object"==typeof n&&Uu(n)===Xp}(e)){const t=tl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ms=k(4671),it=k(4004);const{isArray:Ma}=Array;function xa(n){return(0,it.U)(e=>function xs(n,e){return Ma(e)?n(...e):n(e)}(n,e))}function ko(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Wn=k(5403),nl=k(9672);function Fo(...n){const e=(0,di.yG)(n),t=(0,di.jO)(n),{args:r,keys:o}=Sa(n);if(0===r.length)return(0,rn.D)([],e);const u=new Er.y(function eg(n,e,t=Ms.y){return r=>{rl(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let w=0;w<o;w++)rl(e,()=>{const b=(0,rn.D)(n[w],e);let S=!1;b.subscribe((0,Wn.x)(r,O=>{u[w]=O,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>ko(o,d):Ms.y));return t?u.pipe(xa(t)):u}function rl(n,e,t){n?(0,nl.f)(t,n,e):e()}var Bu=k(8189);function Os(...n){return function Oa(){return(0,Bu.J)(1)}()((0,rn.D)(n,(0,di.yG)(n)))}var Ps=k(8421);function fi(n){return new Er.y(e=>{(0,Ps.Xf)(n()).subscribe(e)})}var il=k(9635),Lo=k(576);function Ur(n,e){const t=(0,Lo.m)(n)?n:()=>n,r=o=>o.error(t());return new Er.y(e?o=>e.schedule(r,0,o):r)}var rs=k(515),xi=k(727),hr=k(4482);function Rs(){return(0,hr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Wn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class is extends Er.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,hr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Wn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xi.w0.EMPTY)}return e}refCount(){return Rs()(this)}}function Fn(n,e){return(0,hr.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,Wn.x)(r,w=>{o?.unsubscribe();let b=0;const S=u++;(0,Ps.Xf)(n(w,S)).subscribe(o=(0,Wn.x)(r,O=>r.next(e?e(w,O,S,b++):O),()=>{o=null,m()}))},()=>{d=!0,m()}))})}function ln(n){return n<=0?()=>rs.E:(0,hr.e)((e,t)=>{let r=0;e.subscribe((0,Wn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function ju(...n){const e=(0,di.yG)(n);return(0,hr.e)((t,r)=>{(e?Os(n,t,e):Os(n,t)).subscribe(r)})}function E(n,e){return(0,hr.e)((t,r)=>{let o=0;t.subscribe((0,Wn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var D=k(5577);function M(n){return(0,hr.e)((e,t)=>{let r=!1;e.subscribe((0,Wn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function F(n=Y){return(0,hr.e)((e,t)=>{let r=!1;e.subscribe((0,Wn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Y(){return new Aa}function ne(n,e){const t=arguments.length>=2;return r=>r.pipe(n?E((o,u)=>n(o,u,r)):Ms.y,ln(1),t?M(e):F(()=>new Aa))}function Ce(n,e){return(0,Lo.m)(e)?(0,D.z)(n,e,1):(0,D.z)(n,1)}var xe=k(8505);function et(n){return(0,hr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Wn.x)(t,void 0,void 0,d=>{u=(0,Ps.Xf)(n(d,et(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function pt(n,e,t,r,o){return(u,d)=>{let m=t,w=e,b=0;u.subscribe((0,Wn.x)(d,S=>{const O=b++;w=m?n(w,S,O):(m=!0,S),r&&d.next(w)},o&&(()=>{m&&d.next(w),d.complete()})))}}function wt(n,e){return(0,hr.e)(pt(n,e,arguments.length>=2,!0))}function ut(n){return n<=0?()=>rs.E:(0,hr.e)((e,t)=>{let r=[];e.subscribe((0,Wn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function gn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?E((o,u)=>n(o,u,r)):Ms.y,ut(1),t?M(e):F(()=>new Aa))}function Ns(n){return(0,hr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ct="primary",Oi=Symbol("RouteTitle");class ks{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Yr(n){return new ks(n)}function Uo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function pi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!tf(n[o],e[o]))return!1;return!0}function tf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function tg(n){return Array.prototype.concat.apply([],n)}function ng(n){return n.length>0?n[n.length-1]:null}function qn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Pi(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,rn.D)(Promise.resolve(n)):rt(n)}const j0={exact:function ig(n,e,t){if(!so(n.segments,e.segments)||!io(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ig(n.children[r],e.children[r],t))return!1;return!0},subset:Pa},rf={exact:function sf(n,e){return pi(n,e)},subset:function sg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tf(n[t],e[t]))},ignored:()=>!0};function Ay(n,e,t){return j0[t.paths](n.root,e.root,t.matrixParams)&&rf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Pa(n,e,t){return bd(n,e,e.segments,t)}function bd(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!so(o,t)||e.hasChildren()||!io(o,t,r))}if(n.segments.length===t.length){if(!so(n.segments,t)||!io(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Pa(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(so(n.segments,o)&&io(n.segments,o,r)&&n.children[Ct])&&bd(n.children[Ct],e,u,r)}}function io(n,e,t){return e.every((r,o)=>rf[t](n[o].parameters,r.parameters))}class Ra{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yr(this.queryParams)),this._queryParamMap}toString(){return Ad.serialize(this)}}class Ft{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sd(this)}}class Dd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Yr(this.parameters)),this._parameterMap}toString(){return ug(this)}}function so(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let af=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new Td},providedIn:"root"}),n})();class Td{parse(e){const t=new Oy(e);return new Ra(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Na(e.root,!0)}`,r=function H0(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${ol(t)}=${ol(o)}`).join("&"):`${ol(t)}=${ol(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Sy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ad=new Td;function Sd(n){return n.segments.map(e=>ug(e)).join("/")}function Na(n,e){if(!n.hasChildren())return Sd(n);if(e){const t=n.children[Ct]?Na(n.children[Ct],!1):"",r=[];return qn(n.children,(o,u)=>{u!==Ct&&r.push(`${u}:${Na(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function og(n,e){let t=[];return qn(n.children,(r,o)=>{o===Ct&&(t=t.concat(e(r,o)))}),qn(n.children,(r,o)=>{o!==Ct&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ct?[Na(n.children[Ct],!1)]:[`${o}:${Na(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ct]?`${Sd(n)}/${t[0]}`:`${Sd(n)}/(${t.join("//")})`}}function ag(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ol(n){return ag(n).replace(/%3B/gi,";")}function Ri(n){return ag(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bo(n){return decodeURIComponent(n)}function uf(n){return Bo(n.replace(/\+/g,"%20"))}function ug(n){return`${Ri(n.path)}${function $0(n){return Object.keys(n).map(e=>`;${Ri(e)}=${Ri(n[e])}`).join("")}(n.parameters)}`}const G0=/^[^\/()?;=#]+/;function cg(n){const e=n.match(G0);return e?e[0]:""}const jo=/^[^=?&#]+/,xy=/^[^&#]+/;class Oy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ct]=new Ft(e,t)),r}parseSegment(){const e=cg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(e),new Dd(Bo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=cg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=cg(this.remaining);o&&(r=o,this.capture(r))}e[Bo(t)]=Bo(r)}parseQueryParam(e){const t=function My(n){const e=n.match(jo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function cf(n){const e=n.match(xy);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=uf(t),u=uf(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=cg(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new f.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ct);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Ct]:new Ft([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,!1)}}function ka(n){return n.segments.length>0?new Ft([],{[Ct]:n}):n}function Ni(n){const e={};for(const r of Object.keys(n.children)){const u=Ni(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function al(n){if(1===n.numberOfChildren&&n.children[Ct]){const e=n.children[Ct];return new Ft(n.segments.concat(e.segments),e.children)}return n}(new Ft(n.segments,e))}function Fs(n){return n instanceof Ra}function W0(n,e,t,r,o){if(0===t.length)return ul(e.root,e.root,e.root,r,o);const u=function hg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new cl(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return qn(u.outlets,(w,b)=>{m[b]="string"==typeof w?w.split("/"):w}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new cl(t,e,r)}(t);return u.toRoot()?ul(e.root,e.root,new Ft([],{}),r,o):function d(w){const b=function df(n,e,t,r){if(n.isAbsolute)return new $u(e.root,!0,0);if(-1===r)return new $u(t,t===e.root,0);return function hf(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new f.vHH(4005,!1);o=r.segments.length}return new $u(r,!1,o-u)}(t,r+(Fa(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),S=b.processChildren?Va(b.segmentGroup,b.index,u.commands):Hu(b.segmentGroup,b.index,u.commands);return ul(e.root,b.segmentGroup,S,r,o)}(n.snapshot?._lastPathIndex)}function Fa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function La(n){return"object"==typeof n&&null!=n&&n.outlets}function ul(n,e,t,r,o){let d,u={};r&&qn(r,(w,b)=>{u[b]=Array.isArray(w)?w.map(S=>`${S}`):`${w}`}),d=n===e?t:dg(n,e,t);const m=ka(Ni(d));return new Ra(m,u,o)}function dg(n,e,t){const r={};return qn(n.children,(o,u)=>{r[u]=o===e?t:dg(o,e,t)}),new Ft(n.segments,r)}class cl{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fa(r[0]))throw new f.vHH(4003,!1);const o=r.find(La);if(o&&o!==ng(r))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $u{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Hu(n,e,t){if(n||(n=new Ft([],{})),0===n.segments.length&&n.hasChildren())return Va(n,e,t);const r=function Ry(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(La(m))break;const w=`${m}`,b=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&b&&"object"==typeof b&&void 0===b.outlets){if(!Od(w,b,d))return u;r+=2}else{if(!Od(w,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Ft(n.segments.slice(0,r.pathIndex),{});return u.children[Ct]=new Ft(n.segments.slice(r.pathIndex),n.children),Va(u,0,o)}return r.match&&0===o.length?new Ft(n.segments,{}):r.match&&!n.hasChildren()?Sn(n,e,t):r.match?Va(n,0,o):Sn(n,e,t)}function Va(n,e,t){if(0===t.length)return new Ft(n.segments,{});{const r=function xd(n){return La(n[0])?n[0].outlets:{[Ct]:n}}(t),o={};return qn(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=Hu(n.children[d],e,u))}),qn(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new Ft(n.segments,o)}}function Sn(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(La(u)){const w=fg(u.outlets);return new Ft(r,w)}if(0===o&&Fa(t[0])){r.push(new Dd(n.segments[e].path,pg(t[0]))),o++;continue}const d=La(u)?u.outlets[Ct]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&Fa(m)?(r.push(new Dd(d,pg(m))),o+=2):(r.push(new Dd(d,{})),o++)}return new Ft(r,{})}function fg(n){const e={};return qn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Sn(new Ft([],{}),0,t))}),e}function pg(n){const e={};return qn(n,(t,r)=>e[r]=`${t}`),e}function Od(n,e,t){return n==t.path&&pi(e,t.parameters)}class Ls{constructor(e,t){this.id=e,this.url=t}}class ff extends Ls{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ss extends Ls{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pd extends Ls{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pf extends Ls{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ny extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q0 extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z0 extends Ls{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ll extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rd extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kd{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gf{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ky{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fd{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gg{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dl(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=dl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Gu(e,this._root).map(t=>t.value)}}function dl(n,e){if(n===e.value)return e;for(const t of e.children){const r=dl(n,t);if(r)return r}return null}function Gu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gu(n,t);if(r.length)return r.unshift(e),r}return[]}class ki{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fi(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class yf extends mf{constructor(e,t){super(e),this.snapshot=t,ar(this,e)}toString(){return this.snapshot.toString()}}function Vd(n,e){const t=function os(n,e){const d=new Vs([],{},{},"",{},Ct,e,null,n.root,-1,{});return new jd("",new ki(d,[]))}(n,e),r=new pn([new Dd("",{})]),o=new pn({}),u=new pn({}),d=new pn({}),m=new pn(""),w=new $o(r,o,d,m,u,Ct,e,t.root);return w.snapshot=t.root,new yf(new ki(w,[]),t)}class $o{constructor(e,t,r,o,u,d,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,it.U)(b=>b[Oi]))??rt(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>Yr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>Yr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ud(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Bd(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vs{constructor(e,t,r,o,u,d,m,w,b,S,O,H){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.[Oi],this.routeConfig=w,this._urlSegment=b,this._lastPathIndex=S,this._correctedLastPathIndex=H??S,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jd extends mf{constructor(e,t){super(t),this.url=e,ar(this,t)}toString(){return $d(this._root)}}function ar(n,e){e.value._routerState=n,e.children.forEach(t=>ar(n,t))}function $d(n){const e=n.children.length>0?` { ${n.children.map($d).join(", ")} } `:"";return`${n.value}${e}`}function hl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,pi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),pi(e.params,t.params)||n.params.next(t.params),function ro(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!pi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),pi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hd(n,e){const t=pi(n.params,e.params)&&function sl(n,e){return so(n,e)&&n.every((t,r)=>pi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Hd(n.parent,e.parent))}function oo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function mg(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return oo(n,r,o);return oo(n,r)})}(n,e,t);return new ki(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>oo(n,m)),d}}const r=function yg(n){return new $o(new pn(n.url),new pn(n.params),new pn(n.queryParams),new pn(n.fragment),new pn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>oo(n,u));return new ki(r,o)}}const vf="ngNavigationCancelingError";function zu(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=vg(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function vg(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[vf]=!0,r.cancellationCode=e,t&&(r.url=t),r}function _f(n){return _g(n)&&Fs(n.url)}function _g(n){return n&&n[vf]}class wg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new y,this.attachRef=null}}let y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new wg,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h=!1;let g=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=o||Ct,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,h);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,h);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,h);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,h);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new _(t,m,o.injector);if(r&&function A(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(d);this.activated=o.createComponent(b,o.length,w)}else this.activated=o.createComponent(d,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(y),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class _{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$o?this.route:e===y?this.childContexts:this.parent.get(e,t)}}let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[g],encapsulation:2}),n})();function q(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Gd(n){const e=n.children&&n.children.map(Gd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ct&&(t.component=P),t}function Jr(n){return n.outlet||Ct}function fl(n,e){const t=n.filter(r=>Jr(r)===e);return t.push(...n.filter(r=>Jr(r)!==e)),t}function pl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class zd{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Fi(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),qn(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Fi(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Fi(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Fi(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new gg(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ky(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(hl(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),hl(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=pl(o.snapshot),w=m?.get(f._Vd)??null;d.attachRef=null,d.route=o,d.resolver=w,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Ig{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gl{constructor(e,t){this.component=e,this.route=t}}function Fy(n,e,t){const r=n._root;return ml(r,e?e._root:null,t,[r.value])}function Ua(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,f.Z0I)(n)?e.get(n):n:r}function ml(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Fi(e);return n.children.forEach(d=>{(function Y0(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function Ly(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!so(n.url,e.url);case"pathParamsOrQueryParamsChange":return!so(n.url,e.url)||!pi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hd(n,e)||!pi(n.queryParams,e.queryParams);default:return!Hd(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new Ig(r)):(u.data=d.data,u._resolvedData=d._resolvedData),ml(n,e,u.component?m?m.children:null:t,r,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new gl(m.outlet.component,d))}else d&&Wd(e,m,o),o.canActivateChecks.push(new Ig(r)),ml(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),qn(u,(d,m)=>Wd(d,t.getContext(m),o)),o}function Wd(n,e,t){const r=Fi(n),o=n.value;qn(r,(u,d)=>{Wd(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new gl(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function qd(n){return"function"==typeof n}function Eg(n){return n instanceof Aa||"EmptyError"===n?.name}const bg=Symbol("INITIAL_VALUE");function Zd(){return Fn(n=>Fo(n.map(e=>e.pipe(ln(1),ju(bg)))).pipe((0,it.U)(e=>{for(const t of e)if(!0!==t){if(t===bg)return bg;if(!1===t||t instanceof Ra)return t}return!0}),E(e=>e!==bg),ln(1)))}function Xr(n){return(0,il.z)((0,xe.b)(e=>{if(Fs(e))throw zu(0,e)}),(0,it.U)(e=>!0===e))}const Dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tg(n,e,t,r,o){const u=Dr(n,e,t);return u.matched?function jy(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?rt(o.map(d=>{const m=Ua(d,n);return Pi(function WE(n){return n&&qd(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Zd(),Xr()):rt(!0)}(r=q(e,r),e,t).pipe((0,it.U)(d=>!0===d?u:{...Dg})):rt(u)}function Dr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Dg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Uo)(t,n,e);if(!o)return{...Dg};const u={};qn(o.posParams,(m,w)=>{u[w]=m.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function qu(n,e,t,r,o="corrected"){if(t.length>0&&function nb(n,e,t){return t.some(r=>Ag(n,e,r)&&Jr(r)!==Ct)}(n,t,r)){const d=new Ft(e,function tb(n,e,t,r){const o={};o[Ct]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Jr(u)!==Ct){const d=new Ft([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Jr(u)]=d}return o}(n,e,r,new Ft(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function ew(n,e,t){return t.some(r=>Ag(n,e,r))}(n,t,r)){const d=new Ft(n.segments,function X0(n,e,t,r,o,u){const d={};for(const m of r)if(Ag(n,t,m)&&!o[Jr(m)]){const w=new Ft([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Jr(m)]=w}return{...o,...d}}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Ft(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Ag(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $y(n,e,t,r){return!!(Jr(n)===r||r!==Ct&&Ag(e,t,n))&&("**"===n.path||Dr(e,n,t).matched)}function tw(n,e,t){return 0===e.length&&!n.children[t]}const Cf=!1;class Sg{constructor(e){this.segmentGroup=e||null}}class nw{constructor(e){this.urlTree=e}}function If(n){return Ur(new Sg(n))}function rw(n){return Ur(new nw(n))}class ib{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=qu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ft(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ct).pipe((0,it.U)(u=>this.createUrlTree(Ni(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(et(u=>{if(u instanceof nw)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Sg?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ct).pipe((0,it.U)(o=>this.createUrlTree(Ni(o),e.queryParams,e.fragment))).pipe(et(o=>{throw o instanceof Sg?this.noMatchError(o):o}))}noMatchError(e){return new f.vHH(4002,Cf)}createUrlTree(e,t,r){const o=ka(e);return new Ra(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,it.U)(u=>new Ft([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,rn.D)(o).pipe(Ce(u=>{const d=r.children[u],m=fl(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,it.U)(w=>({segment:w,outlet:u})))}),wt((u,d)=>(u[d.outlet]=d.segment,u),{}),gn())}expandSegment(e,t,r,o,u,d){return(0,rn.D)(r).pipe(Ce(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(et(b=>{if(b instanceof Sg)return rt(null);throw b}))),ne(m=>!!m),et((m,w)=>{if(Eg(m))return tw(t,o,u)?rt(new Ft([],{})):If(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return $y(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):If(t):If(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rw(u):this.lineralizeSegments(r,u).pipe((0,D.z)(d=>{const m=new Ft(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:w,remainingSegments:b,positionalParamSegments:S}=Dr(t,o,u);if(!m)return If(t);const O=this.applyRedirectCommands(w,o.redirectTo,S);return o.redirectTo.startsWith("/")?rw(O):this.lineralizeSegments(o,O).pipe((0,D.z)(H=>this.expandSegment(e,t,r,H.concat(b),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=q(r,e),r.loadChildren?(r._loadedRoutes?rt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,it.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Ft(o,{})))):rt(new Ft(o,{}))):Tg(t,r,o,e).pipe(Fn(({matched:d,consumedSegments:m,remainingSegments:w})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,D.z)(S=>{const O=S.injector??e,H=S.routes,{segmentGroup:Q,slicedSegments:ae}=qu(t,m,w,H),Oe=new Ft(Q.segments,Q.children);if(0===ae.length&&Oe.hasChildren())return this.expandChildren(O,H,Oe).pipe((0,it.U)(Lt=>new Ft(m,Lt)));if(0===H.length&&0===ae.length)return rt(new Ft(m,{}));const Le=Jr(r)===u;return this.expandSegment(O,Oe,H,ae,Le?Ct:u,!0).pipe((0,it.U)(Tt=>new Ft(m.concat(Tt.segments),Tt.children)))})):If(t)))}getChildConfig(e,t,r){return t.children?rt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?rt({routes:t._loadedRoutes,injector:t._loadedInjector}):function eb(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?rt(!0):rt(o.map(d=>{const m=Ua(d,n);return Pi(function Vy(n){return n&&qd(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Zd(),Xr())}(e,t,r).pipe((0,D.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,xe.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Kd(n){return Ur(vg(Cf,3))}())):rt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return rt(r);if(o.numberOfChildren>1||!o.children[Ct])return Ur(new f.vHH(4e3,Cf));o=o.children[Ct]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Ra(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return qn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return qn(t.children,(m,w)=>{d[w]=this.createSegmentGroup(e,m,r,o)}),new Ft(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new f.vHH(4001,Cf);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class CA{}class Ho{constructor(e,t,r,o,u,d,m,w){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=w}recognize(){const e=qu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ct).pipe((0,it.U)(t=>{if(null===t)return null;const r=new Vs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ki(r,t),u=new jd(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Ud(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,rn.D)(Object.keys(r.children)).pipe(Ce(o=>{const u=r.children[o],d=fl(t,o);return this.processSegmentGroup(e,d,u,o)}),wt((o,u)=>o&&u?(o.push(...u),o):null),function or(n,e=!1){return(0,hr.e)((t,r)=>{let o=0;t.subscribe((0,Wn.x)(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),M(null),gn(),(0,it.U)(o=>{if(null===o)return null;const u=Wy(o);return function Gy(n){n.sort((e,t)=>e.value.outlet===Ct?-1:t.value.outlet===Ct?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,rn.D)(t).pipe(Ce(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),ne(d=>!!d),et(d=>{if(Eg(d))return tw(r,o,u)?rt([]):rt(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!$y(t,r,o,u))return rt(null);let d;if("**"===t.path){const m=o.length>0?ng(o).parameters:{},w=sw(r)+o.length;d=rt({snapshot:new Vs(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mg(t),Jr(t),t.component??t._loadedComponent??null,t,Yd(r),w,xg(t),w),consumedSegments:[],remainingSegments:[]})}else d=Tg(r,t,o,e).pipe((0,it.U)(({matched:m,consumedSegments:w,remainingSegments:b,parameters:S})=>{if(!m)return null;const O=sw(r)+w.length;return{snapshot:new Vs(w,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mg(t),Jr(t),t.component??t._loadedComponent??null,t,Yd(r),O,xg(t),O),consumedSegments:w,remainingSegments:b}}));return d.pipe(Fn(m=>{if(null===m)return rt(null);const{snapshot:w,consumedSegments:b,remainingSegments:S}=m;e=t._injector??e;const O=t._loadedInjector??e,H=function zy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Q,slicedSegments:ae}=qu(r,b,S,H.filter(Le=>void 0===Le.redirectTo),this.relativeLinkResolution);if(0===ae.length&&Q.hasChildren())return this.processChildren(O,H,Q).pipe((0,it.U)(Le=>null===Le?null:[new ki(w,Le)]));if(0===H.length&&0===ae.length)return rt([new ki(w,[])]);const Oe=Jr(t)===u;return this.processSegment(O,H,Q,ae,Oe?Ct:u).pipe((0,it.U)(Le=>null===Le?null:[new ki(w,Le)]))}))}}function ob(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Wy(n){const e=[],t=new Set;for(const r of n){if(!ob(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Wy(r.children);e.push(new ki(r.value,o))}return e.filter(r=>!t.has(r))}function Yd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Mg(n){return n.data||{}}function xg(n){return n.resolve||{}}function Og(n){return"string"==typeof n.title||null===n.title}function Zy(n){return Fn(e=>{const t=n(e);return t?(0,rn.D)(t).pipe((0,it.U)(()=>e)):rt(e)})}let cw=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Ct);return r}getResolvedTitleForRoute(t){return t.data[Oi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(lw)},providedIn:"root"}),n})(),lw=(()=>{class n extends cw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ts))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cb{}class dw extends class lb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ef=new f.OlP("",{providedIn:"root",factory:()=>({})}),Yy=new f.OlP("ROUTES");let Qy=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return rt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Pi(t.loadComponent()).pipe((0,xe.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Ns(()=>{this.componentLoaders.delete(t)})),o=new is(r,()=>new Kr.x).pipe(Rs());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,it.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,b,S=!1;Array.isArray(m)?b=m:(w=m.create(t).injector,b=tg(w.get(Yy,[],f.XFs.Self|f.XFs.Optional)));return{routes:b.map(Gd),injector:w}}),Ns(()=>{this.childrenLoaders.delete(r)})),d=new is(u,()=>new Kr.x).pipe(Rs());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Pi(t()).pipe((0,D.z)(r=>r instanceof f.YKP||Array.isArray(r)?rt(r):(0,rn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3),f.LFG(f.Sil))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hw{}class fw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pw(n){throw n}function gw(n,e,t){return e.parse("/")}const db={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function mw(){const n=(0,f.f3M)(af),e=(0,f.f3M)(y),t=(0,f.f3M)(Te),r=(0,f.f3M)(f.zs3),o=(0,f.f3M)(f.Sil),u=(0,f.f3M)(Yy,{optional:!0})??[],d=(0,f.f3M)(Ef,{optional:!0})??{},m=(0,f.f3M)(lw),w=(0,f.f3M)(cw,{optional:!0}),b=(0,f.f3M)(hw,{optional:!0}),S=(0,f.f3M)(cb,{optional:!0}),O=new Tr(null,n,e,t,r,o,tg(u));return b&&(O.urlHandlingStrategy=b),S&&(O.routeReuseStrategy=S),O.titleStrategy=w??m,function Rg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,O),O}let Tr=(()=>{class n{constructor(t,r,o,u,d,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Kr.x,this.errorHandler=pw,this.malformedUriErrorHandler=gw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>rt(void 0),this.urlHandlingStrategy=new fw,this.routeReuseStrategy=new dw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Qy),this.configLoader.onLoadEndListener=H=>this.triggerEvent(new kd(H)),this.configLoader.onLoadStartListener=H=>this.triggerEvent(new Nd(H)),this.ngModule=d.get(f.h0i),this.console=d.get(f.c2e);const O=d.get(f.R0b);this.isNgZoneEnabled=O instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function rg(){return new Ra(new Ft([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vd(this.currentUrlTree,this.rootComponentType),this.transitions=new pn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(E(o=>0!==o.id),(0,it.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Fn(o=>{let u=!1,d=!1;return rt(o).pipe((0,xe.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(m=>{const w=this.browserUrlTree.toString(),b=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Jy(m.source)&&(this.browserUrlTree=m.extractedUrl),rt(m).pipe(Fn(O=>{const H=this.transitions.getValue();return r.next(new ff(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),H!==this.transitions.getValue()?rs.E:Promise.resolve(O)}),function sb(n,e,t,r){return Fn(o=>function Ba(n,e,t,r,o){return new ib(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,it.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xe.b)(O=>{this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects},o.urlAfterRedirects=O.urlAfterRedirects}),function aw(n,e,t,r,o,u){return(0,D.z)(d=>function IA(n,e,t,r,o,u,d="emptyOnly",m="legacy"){return new Ho(n,e,t,r,o,d,m,u).recognize().pipe(Fn(w=>null===w?function iw(n){return new Er.y(e=>e.error(n))}(new CA):rt(w)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,o,u).pipe((0,it.U)(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xe.b)(O=>{if(o.targetSnapshot=O.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(Q,O)}this.browserUrlTree=O.urlAfterRedirects}const H=new Ny(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(H)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:Q,source:ae,restoredState:Oe,extras:Le}=m,Et=new ff(H,this.serializeUrl(Q),ae,Oe);r.next(Et);const Tt=Vd(Q,this.rootComponentType).snapshot;return rt(o={...m,targetSnapshot:Tt,urlAfterRedirects:Q,extras:{...Le,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),rs.E}),(0,xe.b)(m=>{const w=new q0(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,it.U)(m=>o={...m,guards:Fy(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function ZE(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?rt({...t,guardsResult:!0}):function KE(n,e,t,r){return(0,rn.D)(n).pipe((0,D.z)(o=>function XE(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?rt(u.map(m=>{const w=pl(e)??o,b=Ua(m,w);return Pi(function wf(n){return n&&qd(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):w.runInContext(()=>b(n,e,t,r))).pipe(ne())})).pipe(Zd()):rt(!0)}(o.component,o.route,t,e,r)),ne(o=>!0!==o,!0))}(d,r,o,n).pipe((0,D.z)(m=>m&&function Q0(n){return"boolean"==typeof n}(m)?function By(n,e,t,r){return(0,rn.D)(e).pipe(Ce(o=>Os(function QE(n,e){return null!==n&&e&&e(new gf(n)),rt(!0)}(o.route.parent,r),function YE(n,e){return null!==n&&e&&e(new Fd(n)),rt(!0)}(o.route,r),function J0(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function K0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>fi(()=>rt(d.guards.map(w=>{const b=pl(d.node)??t,S=Ua(w,b);return Pi(function Uy(n){return n&&qd(n.canActivateChild)}(S)?S.canActivateChild(r,n):b.runInContext(()=>S(r,n))).pipe(ne())})).pipe(Zd())));return rt(u).pipe(Zd())}(n,o.path,t),function JE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return rt(!0);const o=r.map(u=>fi(()=>{const d=pl(e)??t,m=Ua(u,d);return Pi(function zE(n){return n&&qd(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(ne())}));return rt(o).pipe(Zd())}(n,o.route,t))),ne(o=>!0!==o,!0))}(r,u,n,e):rt(m)),(0,it.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,xe.b)(m=>{if(o.guardsResult=m.guardsResult,Fs(m.guardsResult))throw zu(0,m.guardsResult);const w=new Z0(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),E(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),Zy(m=>{if(m.guards.canActivateChecks.length)return rt(m).pipe((0,xe.b)(w=>{const b=new ll(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(b)}),Fn(w=>{let b=!1;return rt(w).pipe(function EA(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return rt(t);let u=0;return(0,rn.D)(o).pipe(Ce(d=>function Qd(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!Og(o)&&(u[Oi]=o.title),function qy(n,e,t,r){const o=function uw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return rt({});const u={};return(0,rn.D)(o).pipe((0,D.z)(d=>function ub(n,e,t,r){const o=pl(e)??r,u=Ua(n,o);return Pi(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(ne(),(0,xe.b)(m=>{u[d]=m}))),ut(1),function Vo(n){return(0,it.U)(()=>n)}(u),et(d=>Eg(d)?rs.E:Ur(d)))}(u,n,e,r).pipe((0,it.U)(d=>(n._resolvedData=d,n.data=Ud(n,t).resolve,o&&Og(o)&&(n.data[Oi]=o.title),null)))}(d.route,r,n,e)),(0,xe.b)(()=>u++),ut(1),(0,D.z)(d=>u===o.length?rt(t):rs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xe.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,xe.b)(w=>{const b=new Rd(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(b)}))}),Zy(m=>{const w=b=>{const S=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,xe.b)(O=>{b.component=O}),(0,it.U)(()=>{})));for(const O of b.children)S.push(...w(O));return S};return Fo(w(m.targetSnapshot.root)).pipe(M(),ln(1))}),Zy(()=>this.afterPreactivation()),(0,it.U)(m=>{const w=function Qr(n,e,t){const r=oo(n,e._root,t?t._root:void 0);return new yf(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return o={...m,targetRouterState:w}}),(0,xe.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,it.U)(r=>(new zd(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,xe.b)({next(){u=!0},complete(){u=!0}}),Ns(()=>{u||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),et(m=>{if(d=!0,_g(m)){_f(m)||(this.navigated=!0,this.restoreHistory(o,!0));const w=new Pd(o.id,this.serializeUrl(o.extractedUrl),m.message,m.cancellationCode);if(r.next(w),_f(m)){const b=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),S={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jy(o.source)};this.scheduleNavigation(b,"imperative",null,S,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new pf(o.id,this.serializeUrl(o.extractedUrl),m,o.targetSnapshot??void 0);r.next(w);try{o.resolve(this.errorHandler(m))}catch(b){o.reject(b)}}return rs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Gd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,b=o||this.routerState.root,S=w?this.currentUrlTree.fragment:d;let O=null;switch(m){case"merge":O={...this.currentUrlTree.queryParams,...u};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),W0(b,this.currentUrlTree,t,O,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Fs(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function yw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new f.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...db}:!1===r?{...DA}:r,Fs(t))return Ay(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Ay(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ss(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let m,w,b;d?(m=d.resolve,w=d.reject,b=d.promise):b=new Promise((H,Q)=>{m=H,w=Q});const S=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),O=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):O=0,this.setTransition({id:S,targetPageId:O,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(H=>Promise.reject(H))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new Pd(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:function(){return mw()},providedIn:"root"}),n})();function Jy(n){return"imperative"!==n}let Jd=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Kr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,f.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,f.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,f.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Tr),f.Y36($o),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),n})();class Xy{}let ev=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(E(t=>t instanceof ss),Ce(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,f.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,rn.D)(o).pipe((0,Bu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):rt(null);const u=o.pipe((0,D.z)(d=>null===d?rt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,rn.D)([u,d]).pipe((0,Bu.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Tr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Xy),f.LFG(Qy))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yl=new f.OlP("");let _w=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ff?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ss&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof br&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new br(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function vl(n,e){return{\u0275kind:n,\u0275providers:e}}function Df(n){return[{provide:Yy,multi:!0,useValue:n}]}function pb(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(Tr),o=n.get(tv);1===n.get(nv)&&r.initialNavigation(),n.get(Us,null,f.XFs.Optional)?.setUpPreloading(),n.get(yl,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const tv=new f.OlP("",{factory:()=>new Kr.x}),nv=new f.OlP("",{providedIn:"root",factory:()=>1});const Us=new f.OlP("");function yb(n){return vl(0,[{provide:Us,useExisting:ev},{provide:Xy,useExisting:n}])}const Iw=new f.OlP("ROUTER_FORROOT_GUARD"),_b=[Te,{provide:af,useClass:Td},{provide:Tr,useFactory:mw},y,{provide:$o,useFactory:function ww(n){return n.routerState.root},deps:[Tr]},Qy];function Ew(){return new f.PXZ("Router",Tr)}let bw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_b,[],Df(t),{provide:Iw,useFactory:Dw,deps:[[Tr,new f.FiY,new f.tp0]]},{provide:Ef,useValue:r||{}},r?.useHash?{provide:me,useClass:tt}:{provide:me,useClass:Ze},{provide:yl,useFactory:()=>{const n=(0,f.f3M)(Tr),e=(0,f.f3M)(hu),t=(0,f.f3M)(Ef);return t.scrollOffset&&e.setOffset(t.scrollOffset),new _w(n,e,t)}},r?.preloadingStrategy?yb(r.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Ew},r?.initialNavigation?Tw(r):[],[{provide:rv,useFactory:pb},{provide:f.tb,multi:!0,useExisting:rv}]]}}static forChild(t){return{ngModule:n,providers:[Df(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Iw,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[P]}),n})();function Dw(n){return"guarded"}function Tw(n){return["disabled"===n.initialNavigation?vl(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const e=(0,f.f3M)(Tr);return()=>{e.setUpLocationChangeListener()}}},{provide:nv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?vl(2,[{provide:nv,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:e=>{const t=e.get(U,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const d=e.get(Tr),m=e.get(tv);(function o(u){e.get(Tr).events.pipe(E(m=>m instanceof ss||m instanceof Pd||m instanceof pf),(0,it.U)(m=>m instanceof ss||m instanceof Pd&&(0===m.code||1===m.code)&&null),E(m=>null!==m),ln(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),d.afterPreactivation=()=>(u(!0),r||m.closed?rt(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const rv=new f.OlP("");var at,ye=k(5861),ja=k(9681),Tf=k(4859),Zu=k(1877),Xt=k(2090),MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zo={},$a=$a||{},Dt=MA||self;function Xd(){}function eh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Af(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Aw="closure_uid_"+(1e9*Math.random()>>>0),OA=0;function Eb(n,e,t){return n.call.apply(n.bind,arguments)}function Sw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function gi(n,e,t){return(gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Eb:Sw).apply(null,arguments)}function Vg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Ku(){this.s=this.s,this.o=this.o}var Ug={};Ku.prototype.s=!1,Ku.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function xA(n){return Object.prototype.hasOwnProperty.call(n,Aw)&&n[Aw]||(n[Aw]=++OA)}(this);delete Ug[n]}},Ku.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Bg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ow(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(eh(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function ei(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ei.prototype.h=function(){this.defaultPrevented=!0};var bb=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Dt.addEventListener("test",Xd,e),Dt.removeEventListener("test",Xd,e)}catch{}return n}();function jg(n){return/^[\s\xa0]*$/.test(n)}var Pw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function $g(n,e){return n<e?-1:n>e?1:0}function Hg(){var n=Dt.navigator;return n&&(n=n.userAgent)?n:""}function ao(n){return-1!=Hg().indexOf(n)}function Gg(n){return Gg[" "](n),n}Gg[" "]=Xd;var wl,n,PA=ao("Opera"),Yu=ao("Trident")||ao("MSIE"),Rw=ao("Edge"),Nw=Rw||Yu,_l=ao("Gecko")&&!(-1!=Hg().toLowerCase().indexOf("webkit")&&!ao("Edge"))&&!(ao("Trident")||ao("MSIE"))&&!ao("Edge"),kw=-1!=Hg().toLowerCase().indexOf("webkit")&&!ao("Edge");function sv(){var n=Dt.document;return n?n.documentMode:void 0}e:{var as="",zg=(n=Hg(),_l?/rv:([^\);]+)(\)|;)/.exec(n):Rw?/Edge\/([\d\.]+)/.exec(n):Yu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kw?/WebKit\/(\S+)/.exec(n):PA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zg&&(as=zg?zg[1]:""),Yu){var ov=sv();if(null!=ov&&ov>parseFloat(as)){wl=String(ov);break e}}wl=as}var av={};var cv=Dt.document&&Yu&&(sv()||parseInt(wl,10))||void 0;function Wg(n,e){if(ei.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_l){e:{try{Gg(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Fw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wg.X.h.call(this)}}Kn(Wg,ei);var Fw={2:"touch",3:"pen",4:"mouse"};Wg.prototype.h=function(){Wg.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qg="closure_listenable_"+(1e6*Math.random()|0),Zg=0;function Kg(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++Zg,this.ba=this.ea=!1}function th(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Mf(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Yg(n){const e={};for(const t in n)e[t]=n[t];return e}const Db="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lw(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Db.length;u++)t=Db[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Qg(n){this.src=n,this.g={},this.h=0}function lv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=xw(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(th(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function dv(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}Qg.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=dv(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new Kg(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var Jg="closure_lm_"+(1e6*Math.random()|0),Vw={};function Uw(n,e,t,r,o){if(r&&r.once)return hv(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Uw(n,e[u],t,r,o);return null}return t=Gw(t),n&&n[qg]?n.N(e,t,Af(r)?!!r.capture:!!r,o):Tb(n,e,t,!1,r,o)}function Tb(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Af(o)?!!o.capture:!!o,m=$w(n);if(m||(n[Jg]=m=new Qg(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function Bw(){const e=RA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)bb||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Ab(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hv(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)hv(n,e[u],t,r,o);return null}return t=Gw(t),n&&n[qg]?n.O(e,t,Af(r)?!!r.capture:!!r,o):Tb(n,e,t,!0,r,o)}function jw(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)jw(n,e[u],t,r,o);else r=Af(r)?!!r.capture:!!r,t=Gw(t),n&&n[qg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=dv(u=n.g[e],t,r,o))&&(th(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=$w(n))&&(e=n.g[e.toString()],n=-1,e&&(n=dv(e,t,r,o)),(t=-1<n?e[n]:null)&&xf(t))}function xf(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[qg])lv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ab(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=$w(e))?(lv(t,n),0==t.h&&(t.src=null,e[Jg]=null)):th(n)}}}function Ab(n){return n in Vw?Vw[n]:Vw[n]="on"+n}function RA(n,e){if(n.ba)n=!0;else{e=new Wg(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&xf(n),n=t.call(r,e)}return n}function $w(n){return(n=n[Jg])instanceof Qg?n:null}var Hw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gw(n){return"function"==typeof n?n:(n[Hw]||(n[Hw]=function(e){return n.handleEvent(e)}),n[Hw])}function Br(){Ku.call(this),this.i=new Qg(this),this.P=this,this.I=null}function ti(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ei(e,n);else if(e instanceof ei)e.target=e.target||n;else{var o=e;Lw(e=new ei(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=fv(d,r,!0,e)&&o}if(o=fv(d=e.g=n,r,!0,e)&&o,o=fv(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=fv(d=e.g=t[u],r,!1,e)&&o}function fv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,w=d.ha||d.src;d.ea&&lv(n.i,d),o=!1!==m.call(w,r)&&o}}return o&&!r.defaultPrevented}Kn(Br,Ku),Br.prototype[qg]=!0,Br.prototype.removeEventListener=function(n,e,t,r){jw(this,n,e,t,r)},Br.prototype.M=function(){if(Br.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)th(t[r]);delete n.g[e],n.h--}}this.I=null},Br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var zw=Dt.JSON.stringify;function NA(){var n=Ga;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tm,Xg=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Sb,n=>n.reset());class Sb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ww(n){Dt.setTimeout(()=>{throw n},0)}function em(n,e){tm||function pv(){var n=Dt.Promise.resolve(void 0);tm=function(){n.then(qw)}}(),gv||(tm(),gv=!0),Ga.add(n,e)}var gv=!1,Ga=new class Qu{constructor(){this.h=this.g=null}add(e,t){const r=Xg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function qw(){for(var n;n=NA();){try{n.h.call(n.g)}catch(t){Ww(t)}var e=Xg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gv=!1}function nm(n,e){Br.call(this),this.h=n||1,this.g=e||Dt,this.j=gi(this.kb,this),this.l=Date.now()}function mv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function rm(n,e,t){if("function"==typeof n)t&&(n=gi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Dt.setTimeout(n,e||0)}function Zw(n){n.g=rm(()=>{n.g=null,n.i&&(n.i=!1,Zw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kn(nm,Br),(at=nm.prototype).ca=!1,at.R=null,at.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ti(this,"tick"),this.ca&&(mv(this),this.start()))}},at.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){nm.X.M.call(this),mv(this),delete this.g};class Mb extends Ku{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zw(this)}M(){super.M(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ju(n){Ku.call(this),this.h=n,this.g={}}Kn(Ju,Ku);var Cl=[];function im(n,e,t,r){Array.isArray(t)||(t&&(Cl[0]=t.toString()),t=Cl);for(var o=0;o<t.length;o++){var u=Uw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Il(n){Mf(n.g,function(e,t){this.g.hasOwnProperty(t)&&xf(e)},n),n.g={}}function nh(){this.g=!0}function El(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return zw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ju.prototype.M=function(){Ju.X.M.call(this),Il(this)},Ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nh.prototype.Aa=function(){this.g=!1},nh.prototype.info=function(){};var Xu={},om=null;function am(){return om=om||new Br}function xb(n){ei.call(this,Xu.Oa,n)}function Of(n){const e=am();ti(e,new xb(e,n))}function _v(n,e){ei.call(this,Xu.STAT_EVENT,n),this.stat=e}function mi(n){const e=am();ti(e,new _v(e,n))}function wv(n,e){ei.call(this,Xu.Pa,n),this.size=e}function rh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){n()},e)}Xu.Oa="serverreachability",Kn(xb,ei),Xu.STAT_EVENT="statevent",Kn(_v,ei),Xu.Pa="timingevent",Kn(wv,ei);var um={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Vi={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cm(){}function Ob(){}cm.prototype.h=null;var Cv,Pf={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Rf(){ei.call(this,"d")}function lm(){ei.call(this,"c")}function dm(){}function Nf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Ju(this),this.O=Pb,this.T=new nm(n=Nw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Iv}function Iv(){this.i=null,this.g="",this.h=!1}Kn(Rf,ei),Kn(lm,ei),Kn(dm,cm),dm.prototype.g=function(){return new XMLHttpRequest},dm.prototype.i=function(){return{}},Cv=new dm;var Pb=45e3,hm={},fm={};function Ev(n,e,t){n.K=1,n.v=kf(uo(e)),n.s=t,n.P=!0,bv(n,null)}function bv(n,e){n.F=Date.now(),bl(n),n.A=uo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),nC(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Iv,n.g=Pm(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Mb(gi(n.Ka,n,n.g),n.N)),im(n.S,n.g,"readystatechange",n.hb),e=n.H?Yg(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Of(1),function sm(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var b=m[w].split("=");if(1<b.length){var S=b[0];b=b[1];var O=S.split("_");d=2<=O.length&&"type"==O[1]?d+(S+"=")+b+"&":d+(S+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Dv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Qw(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Wo(n,t),o==fm){4==e&&(n.o=4,mi(14),r=!1),El(n.j,n.m,null,"[Incomplete Response]");break}if(o==hm){n.o=4,mi(15),El(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}El(n.j,n.m,o,null),Tv(n,o)}Dv(n)&&o!=fm&&o!=hm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Mm(e),e.K=!0,mi(11))):(El(n.j,n.m,t,"[Invalid Chunked Response]"),ec(n),gm(n))}function Wo(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?fm:(t=Number(e.substring(t,r)),isNaN(t)?hm:(r+=1)+t>e.length?fm:(e=e.substr(r,t),n.C=r+t,e))}function bl(n){n.V=Date.now()+n.O,Jw(n,n.O)}function Jw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rh(gi(n.fb,n),e)}function pm(n){n.B&&(Dt.clearTimeout(n.B),n.B=null)}function gm(n){0==n.l.G||n.I||uC(n.l,n)}function ec(n){pm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,mv(n.T),Il(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Tv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Mv(t.h,n)))if(!n.J&&Mv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;xm(t),qa(t)}Sm(t),mi(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=rh(gi(t.bb,t),6e3));if(1>=sC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else xl(t,11)}else if((n.J||t.g==n)&&xm(t),!jg(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const S=b[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const O=b[4];null!=O&&(t.Ca=O,t.j.info("SVER="+t.Ca));const H=b[5];null!=H&&"number"==typeof H&&0<H&&(t.J=r=1.5*H,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Q=n.g;if(Q){const ae=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var u=r.h;u.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Cm(u,u.h),u.h=null))}if(r.D){const Oe=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;Oe&&(r.za=Oe,Ln(r.F,r.D,Oe))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=Om(r,r.H?r.ka:null,r.V),d.J){Im(r.h,d);var m=d,w=r.J;w&&m.setTimeout(w),m.B&&(pm(m),bl(m)),r.g=d}else Pv(r);0<t.i.length&&$f(t)}else"stop"!=b[0]&&"close"!=b[0]||xl(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?xl(t,7):ic(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}Of(4)}catch{}}function mm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(eh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Nb(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(eh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Rb(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(eh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(at=Nf.prototype).setTimeout=function(n){this.O=n},at.hb=function(n){n=n.target;const e=this.L;e&&3==Ui(n)?e.l():this.Ka(n)},at.Ka=function(n){try{if(n==this.g)e:{const S=Ui(this.g);var e=this.g.Ea();const O=this.g.aa();if(!(3>S)&&(3!=S||Nw||this.g&&(this.h.h||this.g.fa()||Tl(this.g)))){this.I||4!=S||7==e||Of(8==e||0>=O?3:2),pm(this);var t=this.g.aa();this.Y=t;t:if(Dv(this)){var r=Tl(this.g);n="";var o=r.length,u=4==Ui(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ec(this),gm(this);var d="";break t}this.h.i=new Dt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function Kw(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jg(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,mi(12),ec(this),gm(this);break e}El(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tv(this,t)}this.P?(Qw(this,S,d),Nw&&this.i&&3==S&&(im(this.S,this.T,"tick",this.gb),this.T.start())):(El(this.j,this.m,d,null),Tv(this,d)),4==S&&ec(this),this.i&&!this.I&&(4==S?uC(this.l,this):(this.i=!1,bl(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,mi(12)):(this.o=0,mi(13)),ec(this),gm(this)}}}catch{}},at.gb=function(){if(this.g){var n=Ui(this.g),e=this.g.fa();this.C<e.length&&(pm(this),Qw(this,n,e),this.i&&4!=n&&bl(this))}},at.cancel=function(){this.I=!0,ec(this)},at.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function yv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Of(3),mi(17)),ec(this),this.o=2,gm(this)):Jw(this,this.V-n)};var Xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qo){this.h=void 0!==e?e:n.h,Dl(this,n.j),this.s=n.s,this.g=n.g,Av(this,n.m),this.l=n.l,e=n.i;var t=new Lf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ym(this,t),this.o=n.o}else n&&(t=String(n).match(Xw))?(this.h=!!e,Dl(this,t[1]||"",!0),this.s=ih(t[2]||""),this.g=ih(t[3]||"",!0),Av(this,t[4]),this.l=ih(t[5]||"",!0),ym(this,t[6]||"",!0),this.o=ih(t[7]||"")):(this.h=!!e,this.i=new Lf(null,this.h))}function uo(n){return new qo(n)}function Dl(n,e,t){n.j=t?ih(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Av(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ym(n,e,t){e instanceof Lf?(n.i=e,function Fb(n,e){e&&!n.j&&(Zo(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Sv(this,r),nC(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=sh(e,wm)),n.i=new Lf(e,n.h))}function Ln(n,e,t){n.i.set(e,t)}function kf(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ih(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,eC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function eC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sh(e,vm,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sh(e,vm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(sh(t,"/"==t.charAt(0)?_m:za,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sh(t,Ff)),n.join("")};var vm=/[#\/\?@]/g,za=/[#\?:]/g,_m=/[#\?]/g,wm=/[#\?@]/g,Ff=/#/g;function Lf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Zo(n){n.g||(n.g=new Map,n.h=0,n.i&&function kb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sv(n,e){Zo(n),e=Ko(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function tC(n,e){return Zo(n),e=Ko(n,e),n.g.has(e)}function nC(n,e,t){Sv(n,e),0<t.length&&(n.i=null,n.g.set(Ko(n,e),Bg(t)),n.h+=t.length)}function Ko(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function rC(n){this.l=n||FA,n=Dt.PerformanceNavigationTiming?0<(n=Dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ga&&Dt.g.Ga()&&Dt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=Lf.prototype).add=function(n,e){Zo(this),this.i=null,n=Ko(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){Zo(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},at.oa=function(){Zo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},at.W=function(n){Zo(this);let e=[];if("string"==typeof n)tC(this,n)&&(e=e.concat(this.g.get(Ko(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},at.set=function(n,e){return Zo(this),this.i=null,tC(this,n=Ko(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var FA=10;function iC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sC(n){return n.h?1:n.g?n.g.size:0}function Mv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Cm(n,e){n.g?n.g.add(e):n.h=e}function Im(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function oC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Bg(n.i)}function Vf(){}function Lb(){this.g=new Vf}function Vb(n,e,t){const r=t||"";try{mm(n,function(o,u){let d=o;Af(o)&&(d=zw(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Em(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Uf(n){this.l=n.$b||null,this.j=n.ib||!1}function bm(n,e){Br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=oh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rC.prototype.cancel=function(){if(this.i=oC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Vf.prototype.stringify=function(n){return Dt.JSON.stringify(n,void 0)},Vf.prototype.parse=function(n){return Dt.JSON.parse(n,void 0)},Kn(Uf,cm),Uf.prototype.g=function(){return new bm(this.l,this.j)},Uf.prototype.i=function(n){return function(){return n}}({}),Kn(bm,Br);var oh=0;function tc(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Dm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wa(n)}function Wa(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=bm.prototype).open=function(n,e){if(this.readyState!=oh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wa(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Dt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dm(this)),this.readyState=oh},at.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tc(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},at.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Dm(this):Wa(this),3==this.readyState&&tc(this)}},at.Ua=function(n){this.g&&(this.response=this.responseText=n,Dm(this))},at.Ta=function(n){this.g&&(this.response=n,Dm(this))},at.ga=function(){this.g&&Dm(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Bb=Dt.JSON.parse;function ur(n){Br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tm,this.K=this.L=!1}Kn(ur,Br);var Tm="",jb=/^https?$/i,Yo=["POST","PUT"];function jr(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,nc(n),yi(n)}function nc(n){n.D||(n.D=!0,ti(n,"complete"),ti(n,"error"))}function jf(n){if(n.h&&typeof $a<"u"&&(!n.C[1]||4!=Ui(n)||2!=n.aa()))if(n.v&&4==Ui(n))rm(n.Ha,0,n);else if(ti(n,"readystatechange"),4==Ui(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(Xw)[1]||null;if(!o&&Dt.self&&Dt.self.location){var u=Dt.self.location.protocol;o=u.substr(0,u.length-1)}r=!jb.test(o?o.toLowerCase():"")}t=r}if(t)ti(n,"complete"),ti(n,"success");else{n.m=6;try{var d=2<Ui(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",nc(n)}}finally{yi(n)}}}function yi(n,e){if(n.g){Am(n);const t=n.g,r=n.C[0]?Xd:null;n.g=null,n.C=null,e||ti(n,"ready");try{t.onreadystatechange=r}catch{}}}function Am(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Dt.clearTimeout(n.A),n.A=null)}function Ui(n){return n.g?n.g.readyState:0}function Tl(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Tm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Al(n){let e="";return Mf(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function rc(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Al(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function Qo(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Sl(n){this.Ca=0,this.i=[],this.j=new nh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Qo("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Qo("baseRetryDelayMs",5e3,n),this.ab=Qo("retryDelaySeedMs",1e4,n),this.Za=Qo("forwardChannelMaxRetries",2,n),this.ta=Qo("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new rC(n&&n.concurrentRequestLimit),this.Fa=new Lb,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ic(n){if(Ml(n),3==n.G){var e=n.U++,t=uo(n.F);Ln(t,"SID",n.I),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),ah(n,t),(e=new Nf(n,n.j,e,void 0)).K=2,e.v=kf(uo(t)),t=!1,Dt.navigator&&Dt.navigator.sendBeacon&&(t=Dt.navigator.sendBeacon(e.v.toString(),"")),!t&&Dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Pm(e.l,null),e.g.da(e.v)),e.F=Date.now(),bl(e)}kv(n)}function qa(n){n.g&&(Mm(n),n.g.cancel(),n.g=null)}function Ml(n){qa(n),n.u&&(Dt.clearTimeout(n.u),n.u=null),xm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Dt.clearTimeout(n.m),n.m=null)}function $f(n){iC(n.h)||n.m||(n.m=!0,em(n.Ja,n),n.C=0)}function xv(n,e){var t;t=e?e.m:n.U++;const r=uo(n.F);Ln(r,"SID",n.I),Ln(r,"RID",t),Ln(r,"AID",n.T),ah(n,r),n.o&&n.s&&rc(r,n.o,n.s),t=new Nf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Ov(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Cm(n.h,t),Ev(t,r,e)}function ah(n,e){n.ia&&Mf(n.ia,function(t,r){Ln(e,r,t)}),n.l&&mm({},function(t,r){Ln(e,r,t)})}function Ov(n,e,t){t=Math.min(n.i.length,t);var r=n.l?gi(n.l.Qa,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let b=o[w].h;const S=o[w].g;if(b-=u,0>b)u=Math.max(0,o[w].h-100),m=!1;else try{Vb(S,d,"req"+b+"_")}catch{r&&r(S)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Pv(n){n.g||n.u||(n.Z=1,em(n.Ia,n),n.A=0)}function Sm(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=rh(gi(n.Ia,n),Nv(n,n.A)),n.A++,0))}function Mm(n){null!=n.B&&(Dt.clearTimeout(n.B),n.B=null)}function Rv(n){n.g=new Nf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=uo(n.sa);Ln(e,"RID","rpc"),Ln(e,"SID",n.I),Ln(e,"CI",n.L?"0":"1"),Ln(e,"AID",n.T),Ln(e,"TYPE","xmlhttp"),ah(n,e),n.o&&n.s&&rc(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=kf(uo(e)),t.s=null,t.P=!0,bv(t,n)}function xm(n){null!=n.v&&(Dt.clearTimeout(n.v),n.v=null)}function uC(n,e){var t=null;if(n.g==e){xm(n),Mm(n),n.g=null;var r=2}else{if(!Mv(n.h,e))return;t=e.D,Im(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ti(r=am(),new wv(r,t,e,o)),$f(n)}else Pv(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function aC(n,e){return!(sC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=rh(gi(n.Ja,n,e),Nv(n,n.C)),n.C++,0)))}(n,e)||2==r&&Sm(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:xl(n,5);break;case 4:xl(n,10);break;case 3:xl(n,6);break;default:xl(n,2)}}function Nv(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function xl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=gi(n.jb,n);t||(t=new qo("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||Dl(t,"https"),kf(t)),function Ub(n,e){const t=new nh;if(Dt.Image){const r=new Image;r.onload=Vg(Em,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Vg(Em,t,r,"TestLoadImage: error",!1,e),r.onabort=Vg(Em,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vg(Em,t,r,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else mi(2);n.G=0,n.l&&n.l.va(e),kv(n),Ml(n)}function kv(n){if(n.G=0,n.la=[],n.l){const e=oC(n.h);(0!=e.length||0!=n.i.length)&&(Ow(n.la,e),Ow(n.la,n.i),n.h.i.length=0,Bg(n.i),n.i.length=0),n.l.ua()}}function Om(n,e,t){var r=t instanceof qo?uo(t):new qo(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Av(r,r.m);else{var o=Dt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new qo(null,void 0);r&&Dl(u,r),e&&(u.g=e),o&&Av(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&Ln(r,t,e),Ln(r,"VER",n.ma),ah(n,r),r}function Pm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ur(t&&n.Da&&!n.ra?new Uf({ib:!0}):n.ra)).L=n.H,e}function cC(){}function Ol(){if(Yu&&!(10<=Number(cv)))throw Error("Environmental error: no available transport.")}function ni(n,e){Br.call(this),this.g=new Sl(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!jg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new sc(this)}function Rm(n){Rf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function lC(){lm.call(this),this.status=1}function sc(n){this.g=n}(at=ur.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cv.g(),this.C=function Yw(n){return n.h||(n.h=n.i())}(this.u?this.u:Cv),this.g.onreadystatechange=gi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void jr(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Dt.FormData&&n instanceof Dt.FormData,!(0<=xw(Yo,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Am(this),0<this.B&&((this.K=function Bf(n){return Yu&&function Ha(){return function iv(n){var e=av;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Pw(String(wl)).split("."),t=Pw("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=$g(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||$g(0==o[2].length,0==u[2].length)||$g(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gi(this.qa,this)):this.A=rm(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){jr(this,u)}},at.qa=function(){typeof $a<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ti(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ti(this,"complete"),ti(this,"abort"),yi(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yi(this,!0)),ur.X.M.call(this)},at.Ha=function(){this.s||(this.F||this.v||this.l?jf(this):this.eb())},at.eb=function(){jf(this)},at.aa=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}},at.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},at.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Bb(e)}},at.Ea=function(){return this.m},at.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=Sl.prototype).ma=8,at.G=1,at.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Nf(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=Yg(u),Lw(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ov(this,o,e),Ln(t=uo(this.F),"RID",n),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),ah(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(Al(u)))+"&"+e:this.o&&rc(t,this.o,u)),Cm(this.h,o),this.Xa&&Ln(t,"TYPE","init"),this.O?(Ln(t,"$req",e),Ln(t,"SID","null"),o.Z=!0,Ev(o,t,null)):Ev(o,t,e),this.G=2}}else 3==this.G&&(n?xv(this,n):0==this.i.length||iC(this.h)||xv(this))},at.Ia=function(){if(this.u=null,Rv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=rh(gi(this.cb,this),n)}},at.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mi(10),qa(this),Rv(this))},at.bb=function(){null!=this.v&&(this.v=null,qa(this),Sm(this),mi(19))},at.jb=function(n){n?(this.j.info("Successfully pinged google.com"),mi(2)):(this.j.info("Failed to ping google.com"),mi(1))},(at=cC.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Qa=function(){},Ol.prototype.g=function(n,e){return new ni(n,e)},Kn(ni,Br),ni.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;mi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Om(n,null,n.V),$f(n)},ni.prototype.close=function(){ic(this.g)},ni.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=zw(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&$f(e)},ni.prototype.M=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,ni.X.M.call(this)},Kn(Rm,Rf),Kn(lC,lm),Kn(sc,cC),sc.prototype.xa=function(){ti(this.g,"a")},sc.prototype.wa=function(n){ti(this.g,new Rm(n))},sc.prototype.va=function(n){ti(this.g,new lC(n))},sc.prototype.ua=function(){ti(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,ni.prototype.send=ni.prototype.u,ni.prototype.open=ni.prototype.m,ni.prototype.close=ni.prototype.close,um.NO_ERROR=0,um.TIMEOUT=8,um.HTTP_ERROR=6,Vi.COMPLETE="complete",Ob.EventType=Pf,Pf.OPEN="a",Pf.CLOSE="b",Pf.ERROR="c",Pf.MESSAGE="d",Br.prototype.listen=Br.prototype.N,ur.prototype.listenOnce=ur.prototype.O,ur.prototype.getLastError=ur.prototype.Na,ur.prototype.getLastErrorCode=ur.prototype.Ea,ur.prototype.getStatus=ur.prototype.aa,ur.prototype.getResponseJson=ur.prototype.Ra,ur.prototype.getResponseText=ur.prototype.fa,ur.prototype.send=ur.prototype.da;var Fv=zo.createWebChannelTransport=function(){return new Ol},dC=zo.getStatEventTarget=function(){return am()},Nm=zo.ErrorCode=um,Lv=zo.EventType=Vi,hC=zo.Event=Xu,Vv=zo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Uv=zo.FetchXmlHttpFactory=Uf,Hf=zo.WebChannel=Ob,$b=zo.XhrIo=ur;const Bv="@firebase/firestore";class fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let Pl="9.10.0";const Za=new Zu.Yd("@firebase/firestore");function jv(){return Za.logLevel}function Re(n,...e){if(Za.logLevel<=Zu.in.DEBUG){const t=e.map(km);Za.debug(`Firestore (${Pl}): ${n}`,...t)}}function Vn(n,...e){if(Za.logLevel<=Zu.in.ERROR){const t=e.map(km);Za.error(`Firestore (${Pl}): ${n}`,...t)}}function Ka(n,...e){if(Za.logLevel<=Zu.in.WARN){const t=e.map(km);Za.warn(`Firestore (${Pl}): ${n}`,...t)}}function km(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+n;throw Vn(e),new Error(e)}function It(n,e){n||Je()}function We(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fr.UNAUTHENTICATED))}shutdown(){}}class Wb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pC{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=b=>this.i!==o?(o=this.i,t(b)):Promise.resolve();let d=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new pr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const b=d;e.enqueueRetryable((0,ye.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},w=b=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>w(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?w(b):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new pr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new Gb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new fr(e)}}class qb{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(It(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class gr{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new qb(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zb{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,Re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),this.A=t.token,new $v(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class mC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=gC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function bt(n,e){return n<e?-1:n>e?1:0}function Rl(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Nl(n){return n+"\0"}class Mn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Mn(0,0))}static max(){return new vt(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class uh{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===uh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof uh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qt extends uh{construct(e,t,r){return new qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new qt(t)}static emptyPath(){return new qt([])}}const yC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends uh{construct(e,t,r){return new rr(e,t,r)}static isValidIdentifier(e){return yC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Me(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Me(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Me(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Me(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(t)}static emptyPath(){return new rr([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(qt.fromString(e))}static fromName(e){return new Ge(qt.fromString(e).popFirst(5))}static empty(){return new Ge(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new qt(e.slice()))}}class ch{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Bs(n){return n.fields.find(e=>2===e.kind)}function kl(n){return n.fields.filter(e=>2!==e.kind)}ch.UNKNOWN_ID=-1;class us{constructor(e,t){this.fieldPath=e,this.kind=t}}class vi{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vi(0,cs.min())}}function Hv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(1e9===r?new Mn(t+1,0):new Mn(t,r));return new cs(o,Ge.empty(),e)}function Gv(n){return new cs(n.readTime,n.key,-1)}class cs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new cs(vt.min(),Ge.empty(),-1)}static max(){return new cs(vt.max(),Ge.empty(),-1)}}function zv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:bt(n.largestBatchId,e.largestBatchId))}const vC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Jo(n){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,ye.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==vC)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),Fl.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},w=>r(w))}),d=!0,u===o&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(o=>o?se.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new se((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let w=0;w<u;w++){const b=w;t(e[b]).next(S=>{d[b]=S,++m,m===u&&r(d)},S=>o(S))}})}static doWhile(e,t){return new se((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Gf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new lh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=zf(r.target.error);this.P.reject(new lh(e,o))}}static open(e,t,r,o){try{return new Gf(t,e.transaction(o,r))}catch(u){throw new lh(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Yb(t)}}class lo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===lo.D((0,Xt.z$)())&&Vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),oc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Xt.hl)())return!1;if(lo.N())return!0;const e=(0,Xt.z$)(),t=lo.D(e),r=0<t&&t<10,o=lo.k(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new lh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Me(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new lh(e,m))},u.onupgradeneeded=d=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ye.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.F(e);const w=Gf.open(u.db,e,d?"readonly":"readwrite",r),b=o(w).next(S=>(w.V(),S)).catch(S=>(w.abort(S),se.reject(S))).toPromise();return b.catch(()=>{}),yield w.v,b}catch(w){const b=w,S="FirebaseError"!==b.name&&m<3;if(Re("SimpleDb","Transaction failed with error:",b.message,"Retrying:",S),u.close(),!S)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wC{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return oc(this.U.delete())}}class lh extends Me{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ho(n){return"IndexedDbTransactionError"===n.name}class Yb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),oc(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),oc(this.store.add(e))}get(e){return oc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),oc(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),oc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.H(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new se((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new se((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Y(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(u,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new se((r,o)=>{t.onerror=u=>{const d=zf(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new se((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const w=new wC(m),b=t(m.primaryKey,m.value,w);if(b instanceof se){const S=b.catch(O=>(w.done(),se.reject(O)));r.push(S)}w.isDone?o():null===w.G?m.continue():m.continue(w.G)}}).next(()=>se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function oc(n){return new se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=zf(r.target.error);t(o)}})}let Wv=!1;function zf(n){const e=lo.D((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Wv||(Wv=!0,setTimeout(()=>{throw r},0)),r}}return n}class qv{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Re("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){ho(r)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Jo(r)}yield t.nt(6e4)}))}}class Zv{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,u=!0;return se.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Re("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(o,u)).next(m=>(Re("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=Gv(u);zv(d,r)>0&&(r=d)}),new cs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class _i{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Kv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ac(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Yv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}_i.at=-1;class Un{constructor(e,t){this.comparator=e,this.root=t||Ar.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Ar.RED,this.left=o??Ar.EMPTY,this.right=u??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Ar(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ar.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1,Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ar(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CC(this.data.getIterator())}getIteratorFrom(e){return new CC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class CC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dh(n){return n.hasNext()?n.getNext():void 0}class ls{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new ls([])}unionWith(e){let t=new dn(rr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new mr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const Jb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uc(n){if(It(!!n),"string"==typeof n){let e=0;const t=Jb.exec(n);if(It(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ll(n){return"string"==typeof n?mr.fromBase64String(n):mr.fromUint8Array(n)}function Qv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function IC(n){const e=n.mapValue.fields.__previous_value__;return Qv(e)?IC(e):e}function qf(n){const e=uc(n.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}class Xb{constructor(e,t,r,o,u,d,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class cc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}function Zf(n){return null==n}function Kf(n){return 0===n&&1/n==-1/0}function EC(n){return"number"==typeof n&&Number.isInteger(n)&&!Kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yf={nullValue:"NULL_VALUE"};function lc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qv(n)?4:Um(n)?9007199254740991:10:Je()}function fo(n,e){if(n===e)return!0;const t=lc(n);if(t!==lc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qf(n).isEqual(qf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=uc(r.timestampValue),d=uc(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ll(n.bytesValue).isEqual(Ll(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Yn(r.geoPointValue.latitude)===Yn(o.geoPointValue.latitude)&&Yn(r.geoPointValue.longitude)===Yn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Yn(r.integerValue)===Yn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Yn(r.doubleValue),d=Yn(o.doubleValue);return u===d?Kf(u)===Kf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Rl(n.arrayValue.values||[],e.arrayValue.values||[],fo);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(Kv(u)!==Kv(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!fo(u[m],d[m])))return!1;return!0}(n,e);default:return Je()}var o}function hh(n,e){return void 0!==(n.values||[]).find(t=>fo(t,e))}function Qa(n,e){if(n===e)return 0;const t=lc(n),r=lc(e);if(t!==r)return bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return bt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=Yn(o.integerValue||o.doubleValue),m=Yn(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return Jv(n.timestampValue,e.timestampValue);case 4:return Jv(qf(n),qf(e));case 5:return bt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Ll(o),m=Ll(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const b=bt(d[w],m[w]);if(0!==b)return b}return bt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=bt(Yn(o.latitude),Yn(u.latitude));return 0!==d?d:bt(Yn(o.longitude),Yn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const b=Qa(d[w],m[w]);if(b)return b}return bt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Ya.mapValue&&u===Ya.mapValue)return 0;if(o===Ya.mapValue)return 1;if(u===Ya.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),w=u.fields||{},b=Object.keys(w);m.sort(),b.sort();for(let S=0;S<m.length&&S<b.length;++S){const O=bt(m[S],b[S]);if(0!==O)return O;const H=Qa(d[m[S]],w[b[S]]);if(0!==H)return H}return bt(m.length,b.length)}(n.mapValue,e.mapValue);default:throw Je()}}function Jv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bt(n,e);const t=uc(n),r=uc(e),o=bt(t.seconds,r.seconds);return 0!==o?o:bt(t.nanos,r.nanos)}function Vl(n){return Fm(n)}function Fm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=uc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ll(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=Fm(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${Fm(r.fields[m])}`;return u+"}"}(n.mapValue):Je();var e}function dc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lm(n){return!!n&&"integerValue"in n}function po(n){return!!n&&"arrayValue"in n}function bC(n){return!!n&&"nullValue"in n}function DC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ja(n){return!!n&&"mapValue"in n}function Vm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ac(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Um(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function VA(n){return"nullValue"in n?Yf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dc(cc.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function TC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dc(cc.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ya:Je()}function Xv(n,e){const t=Qa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function eD(n,e){const t=Qa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ye{constructor(e){this.value=e}static empty(){return new Ye({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ja(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vm(t)}setAll(e){let t=rr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=Vm(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Ja(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Ja(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ac(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Ye(Vm(this.value))}}function AC(n){const e=[];return ac(n.fields,(t,r)=>{const o=new rr([t]);if(Ja(r)){const u=AC(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new ls(e)}class yn{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new yn(e,0,vt.min(),vt.min(),Ye.empty(),0)}static newFoundDocument(e,t,r){return new yn(e,1,t,vt.min(),r,0)}static newNoDocument(e,t){return new yn(e,2,t,vt.min(),Ye.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,vt.min(),Ye.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ye.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ye.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tD{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ht=null}}function Ul(n,e=null,t=[],r=[],o=null,u=null,d=null){return new tD(n,e,t,r,o,u,d)}function Bl(n){const e=We(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Vl(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Zf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Vl(r)).join(",")),e.ht=t}return e.ht}function hc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!sD(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!fo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!i_(n.startAt,e.startAt)&&i_(n.endAt,e.endAt)}function In(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function e_(n,e){return n.filters.filter(t=>t instanceof $r&&t.field.isEqual(e))}function t_(n,e,t){let r=Yf,o=!0;for(const u of e_(n,e)){let d=Yf,m=!0;switch(u.op){case"<":case"<=":d=VA(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=Yf}Xv({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Xv({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function n_(n,e,t){let r=Ya,o=!0;for(const u of e_(n,e)){let d=Ya,m=!0;switch(u.op){case">=":case">":d=TC(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Ya}eD({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];eD({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class $r extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new SC(e,t,r):"array-contains"===t?new nD(e,r):"in"===t?new rD(e,r):"not-in"===t?new iD(e,r):"array-contains-any"===t?new Qf(e,r):new $r(e,t,r)}static lt(e,t,r){return"in"===t?new MC(e,r):new xC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Qa(t,this.value)):null!==t&&lc(this.value)===lc(t)&&this.ft(Qa(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class SC extends $r{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.ft(t)}}class MC extends $r{constructor(e,t){super(e,"in",t),this.keys=r_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xC extends $r{constructor(e,t){super(e,"not-in",t),this.keys=r_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function r_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class nD extends $r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return po(t)&&hh(t.arrayValue,this.value)}}class rD extends $r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hh(this.value.arrayValue,t)}}class iD extends $r{constructor(e,t){super(e,"not-in",t)}matches(e){if(hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hh(this.value.arrayValue,t)}}class Qf extends $r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!po(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hh(this.value.arrayValue,r))}}class fc{constructor(e,t){this.position=e,this.inclusive=t}}class fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function sD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Jf(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?Ge.comparator(Ge.fromName(d.referenceValue),t.key):Qa(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function i_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fo(n.position[t],e.position[t]))return!1;return!0}class Xo{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this._t=null,this.wt=null}}function s_(n,e,t,r,o,u,d,m){return new Xo(n,e,t,r,o,u,d,m)}function ph(n){return new Xo(n)}function gh(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jl(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function o_(n){for(const e of n.filters)if(e.dt())return e.field;return null}function a_(n){return null!==n.collectionGroup}function mh(n){const e=We(n);if(null===e._t){e._t=[];const t=o_(e),r=jl(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new fh(t)),e._t.push(new fh(rr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new fh(rr.keyField(),u))}}}return e._t}function wi(n){const e=We(n);if(!e.wt)if("F"===e.limitType)e.wt=Ul(e.path,e.collectionGroup,mh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of mh(e))t.push(new fh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new fc(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new fc(e.startAt.position,e.startAt.inclusive):null;e.wt=Ul(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function Xf(n,e,t){return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yh(n,e){return hc(wi(n),wi(e))&&n.limitType===e.limitType}function OC(n){return`${Bl(wi(n))}|lt:${n.limitType}`}function jm(n){return`Query(target=${function Bm(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Vl(r.value)}`;var r}).join(", ")}]`),Zf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Vl(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Vl(t)).join(",")),`Target(${e})`}(wi(n))}; limitType=${n.limitType})`}function u_(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ge.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=Jf(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,mh(t),r)||t.endAt&&!function(o,u,d){const m=Jf(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,mh(t),r)));var t,r}function PC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oD(n){return(e,t)=>{let r=!1;for(const o of mh(n)){const u=UA(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function UA(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),w=d.data.field(o);return null!==m&&null!==w?Qa(m,w):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}function aD(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(e)?"-0":e}}function uD(n){return{integerValue:""+n}}function c_(n,e){return EC(e)?uD(e):aD(n,e)}class $l{constructor(){this._=void 0}}function cD(n,e,t){return n instanceof ea?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Hl?RC(n,e):n instanceof Gl?NC(n,e):function(r,o){const u=l_(r,o),d=d_(u)+d_(r.yt);return Lm(u)&&Lm(r.yt)?uD(d):aD(r.It,d)}(n,e)}function lD(n,e,t){return n instanceof Hl?RC(n,e):n instanceof Gl?NC(n,e):t}function l_(n,e){return n instanceof vh?Lm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ea extends $l{}class Hl extends $l{constructor(e){super(),this.elements=e}}function RC(n,e){const t=kC(e);for(const r of n.elements)t.some(o=>fo(o,r))||t.push(r);return{arrayValue:{values:t}}}class Gl extends $l{constructor(e){super(),this.elements=e}}function NC(n,e){let t=kC(e);for(const r of n.elements)t=t.filter(o=>!fo(o,r));return{arrayValue:{values:t}}}class vh extends $l{constructor(e,t){super(),this.It=e,this.yt=t}}function d_(n){return Yn(n.integerValue||n.doubleValue)}function kC(n){return po(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ep{constructor(e,t){this.field=e,this.transform=t}}class dD{constructor(e,t){this.version=e,this.transformResults=t}}class En{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $m(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class np{}function FC(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new pc(n.key,En.none()):new zl(n.key,n.data,En.none());{const t=n.data,r=Ye.empty();let o=new dn(rr.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new ta(n.key,r,new ls(o.toArray()),En.none())}}function LC(n,e,t){n instanceof zl?function(r,o,u){const d=r.value.clone(),m=BC(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ta?function(r,o,u){if(!$m(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=BC(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(UC(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rp(n,e,t,r){return n instanceof zl?function(o,u,d,m){if(!$m(o.precondition,u))return d;const w=o.value.clone(),b=jC(o.fieldTransforms,m,u);return w.setAll(b),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof ta?function(o,u,d,m){if(!$m(o.precondition,u))return d;const w=jC(o.fieldTransforms,m,u),b=u.data;return b.setAll(UC(o)),b.setAll(w),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(d=t,$m(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function h_(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=l_(r.transform,o||null);null!=u&&(null===t&&(t=Ye.empty()),t.set(r.field,u))}return t||null}function VC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Rl(t,r,(o,u)=>function tp(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hl&&r instanceof Hl||t instanceof Gl&&r instanceof Gl?Rl(t.elements,r.elements,fo):t instanceof vh&&r instanceof vh?fo(t.yt,r.yt):t instanceof ea&&r instanceof ea);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class zl extends np{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ta extends np{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function UC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function BC(n,e,t){const r=new Map;It(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,lD(d,m,t[o]))}return r}function jC(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,cD(u,d,e))}return r}class pc extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f_ extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $C{constructor(e){this.count=e}}var cr,Zt;function HC(n){switch(n){default:return Je();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function GC(n){if(void 0===n)return Vn("GRPC error has no .code"),le.UNKNOWN;switch(n){case cr.OK:return le.OK;case cr.CANCELLED:return le.CANCELLED;case cr.UNKNOWN:return le.UNKNOWN;case cr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case cr.INTERNAL:return le.INTERNAL;case cr.UNAVAILABLE:return le.UNAVAILABLE;case cr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case cr.NOT_FOUND:return le.NOT_FOUND;case cr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case cr.ABORTED:return le.ABORTED;case cr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case cr.DATA_LOSS:return le.DATA_LOSS;default:return Je()}}(Zt=cr||(cr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class gc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Yv(this.inner)}size(){return this.innerSize}}const hD=new Un(Ge.comparator);function Bi(){return hD}const zC=new Un(Ge.comparator);function _h(...n){let e=zC;for(const t of n)e=e.insert(t.key,t);return e}function p_(n){let e=zC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function na(){return wh()}function WC(){return wh()}function wh(){return new gc(n=>n.toString(),(n,e)=>n.isEqual(e))}const fD=new Un(Ge.comparator),pD=new dn(Ge.comparator);function Rt(...n){let e=pD;for(const t of n)e=e.add(t);return e}const g_=new dn(bt);function Ch(){return g_}class Ih{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ih(vt.min(),r,Ch(),Bi(),Rt())}}class Wl{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Wl(mr.EMPTY_BYTE_STRING,t,Rt(),Rt(),Rt())}}class Hm{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class qC{constructor(e,t){this.targetId=e,this.At=t}}class Gm{constructor(e,t,r=mr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class ZC{constructor(){this.Rt=0,this.bt=m_(),this.Pt=mr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rt(),t=Rt(),r=Rt();return this.bt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Je()}}),new Wl(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=m_()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class KC{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Bi(),this.qt=ql(),this.Kt=new dn(bt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const u=o.target;if(In(u))if(0===r){const d=new Ge(u.path);this.jt(t,d,yn.newNoDocument(d,vt.min()))}else It(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const m=this.Xt(d);if(m){if(u.current&&In(m.target)){const w=new Ge(m.target.path);null!==this.Ut.get(w)||this.ee(d,w)||this.jt(d,w,yn.newNoDocument(w,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=Rt();this.qt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const b=this.Xt(w);return!b||2===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const o=new Ih(e,t,this.Kt,this.Ut,r);return this.Ut=Bi(),this.qt=ql(),this.Kt=new dn(bt),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new ZC,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new dn(bt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new ZC),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ql(){return new Un(Ge.comparator)}function m_(){return new Un(Ge.comparator)}const gD={asc:"ASCENDING",desc:"DESCENDING"},BA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class YC{constructor(e,t){this.databaseId=e,this.gt=t}}function Zl(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QC(n,e){return n.gt?e.toBase64():e.toUint8Array()}function y_(n,e){return Zl(n,e.toTimestamp())}function Sr(n){return It(!!n),vt.fromTimestamp(function(e){const t=uc(e);return new Mn(t.seconds,t.nanos)}(n))}function zm(n,e){return(t=n,new qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Wm(n){const e=qt.fromString(n);return It(rI(e)),e}function Eh(n,e){return zm(n.databaseId,e.path)}function go(n,e){const t=Wm(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(JC(t))}function qm(n,e){return zm(n.databaseId,e)}function v_(n){const e=Wm(n);return 4===e.length?qt.emptyPath():JC(e)}function ip(n){return new qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JC(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function XC(n,e,t){return{name:Eh(n,e),fields:t.value.mapValue.fields}}function eI(n,e,t){const r=go(n,e.name),o=Sr(e.updateTime),u=new Ye({mapValue:{fields:e.fields}}),d=yn.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function bh(n,e){let t;if(e instanceof zl)t={update:XC(n,e.key,e.value)};else if(e instanceof pc)t={delete:Eh(n,e.key)};else if(e instanceof ta)t={update:XC(n,e.key,e.data),updateMask:bD(e.fieldMask)};else{if(!(e instanceof f_))return Je();t={verify:Eh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof ea)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vh)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:y_(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Je()),t;var o}function __(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?En.updateTime(Sr(o.updateTime)):void 0!==o.exists?En.exists(o.exists):En.none():En.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(It("REQUEST_TIME"===d.setToServerValue),m=new ea):"appendMissingElements"in d?m=new Hl(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Gl(d.removeAllFromArray.values||[]):"increment"in d?m=new vh(u,d.increment):Je();const w=rr.fromServerFormat(d.fieldPath);return new ep(w,m)}(n,o)):[];var o;if(e.update){const o=go(n,e.update.name),u=new Ye({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ls((e.updateMask.fieldPaths||[]).map(b=>rr.fromServerFormat(b)));return new ta(o,u,d,t,r)}return new zl(o,u,t,r)}if(e.delete){const o=go(n,e.delete);return new pc(o,t)}if(e.verify){const o=go(n,e.verify);return new f_(o,t)}return Je()}function yD(n,e){return{documents:[qm(n,e.path)]}}function vD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=qm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0===w.length)return;const b=w.map(S=>function(O){if("=="===O.op){if(DC(O.value))return{unaryFilter:{field:Dh(O.field),op:"IS_NAN"}};if(bC(O.value))return{unaryFilter:{field:Dh(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(DC(O.value))return{unaryFilter:{field:Dh(O.field),op:"IS_NOT_NAN"}};if(bC(O.value))return{unaryFilter:{field:Dh(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dh(O.field),op:CD(O.op),value:O.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(w){if(0!==w.length)return w.map(b=>{return{field:Dh((S=b).field),direction:wD(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(b=e.limit,n.gt||Zf(b)?b:{value:b});var b,m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function nI(n){let e=v_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){It(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=w_(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new fh(Th((O=S).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(S){let O;return O="object"==typeof S?S.value:S,Zf(O)?null:O}(t.limit));let w=null;var S;t.startAt&&(w=new fc((S=t.startAt).values||[],!!S.before));let b=null;return t.endAt&&(b=function(S){return new fc(S.values||[],!S.before)}(t.endAt)),s_(e,o,d,u,m,"F",w,b)}function w_(n){return n?void 0!==n.unaryFilter?[ED(n)]:void 0!==n.fieldFilter?[ID(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>w_(e)).reduce((e,t)=>e.concat(t)):Je():[]}function wD(n){return gD[n]}function CD(n){return BA[n]}function Dh(n){return{fieldPath:n.canonicalString()}}function Th(n){return rr.fromServerFormat(n.fieldPath)}function ID(n){return $r.create(Th(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(n.fieldFilter.op),n.fieldFilter.value)}function ED(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Th(n.unaryFilter.field);return $r.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Th(n.unaryFilter.field);return $r.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Th(n.unaryFilter.field);return $r.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Th(n.unaryFilter.field);return $r.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}function bD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ci(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=C_(e)),e=sp(n.get(t),e);return C_(e)}function sp(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function C_(n){return n+"\x01\x01"}function mo(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),qt.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&Je(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===o.length?w=m:(o+=m,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:Je()}u=d+2}return new qt(r)}const I_=["userId","batchId"];function op(n,e){return[n,Ci(e)]}function E_(n,e,t){return[n,Ci(e),t]}const iI={},DD=["prefixPath","collectionGroup","readTime","documentId"],$A=["prefixPath","collectionGroup","documentId"],sI=["collectionGroup","readTime","prefixPath","documentId"],oI=["canonicalId","targetId"],TD=["targetId","path"],AD=["path","targetId"],SD=["collectionId","parent"],ap=["indexId","uid"],MD=["uid","sequenceNumber"],b_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ra=["indexId","uid","orderedDocumentKey"],xD=["userId","collectionPath","documentId"],D_=["userId","collectionPath","largestBatchId"],up=["userId","collectionGroup","largestBatchId"],aI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OD=[...aI,"documentOverlays"],uI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cp=uI,Zm=[...cp,"indexConfiguration","indexState","indexEntries"];class T_ extends _C{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Mr(n,e){const t=We(n);return lo.O(t.ie,e)}class Km{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&LC(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=WC();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const w=FC(d,m);null!==w&&r.set(o.key,w),d.isValidDocument()||d.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rt())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(t,r)=>VC(t,r))&&Rl(this.baseMutations,e.baseMutations,(t,r)=>VC(t,r))}}class Ym{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){It(e.mutations.length===r.length);let o=fD;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Ym(e,t,r,o)}}class lp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xa{constructor(e,t,r,o,u=vt.min(),d=vt.min(),m=mr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cI{constructor(e){this.re=e}}function RD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ah(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Eh(o=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Zl(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:eu(e.version)};else{if(!e.isUnknownDocument())return Je();r.unknownDocument={path:t.path.toArray(),version:eu(e.version)}}var o,u;return r}function Ah(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function eu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mc(n){const e=new Mn(n.seconds,n.nanoseconds);return vt.fromTimestamp(e)}function tu(n,e){const t=(e.baseMutations||[]).map(u=>__(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>__(n.re,u)),o=Mn.fromMillis(e.localWriteTimeMs);return new Km(e.batchId,o,t,r)}function Kl(n){const e=mc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?mc(n.lastLimboFreeSnapshotVersion):vt.min();let r;var o;return void 0!==n.query.documents?(It(1===(o=n.query).documents.length),r=wi(ph(v_(o.documents[0])))):r=wi(nI(n.query)),new Xa(r,n.targetId,0,n.lastListenSequenceNumber,e,t,mr.fromBase64String(n.resumeToken))}function lI(n,e){const t=eu(e.snapshotVersion),r=eu(e.lastLimboFreeSnapshotVersion);let o;o=In(e.target)?yD(n.re,e.target):vD(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function A_(n){const e=nI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Xf(e,e.limit,"L"):e}function S_(n,e){return new lp(e.largestBatchId,__(n.re,e.overlayMutation))}function dI(n,e){const t=e.path.lastSegment();return[n,Ci(e.path.popLast()),t]}function M_(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:eu(r.readTime),documentKey:Ci(r.documentKey.path),largestBatchId:r.largestBatchId}}class x_{getBundleMetadata(e,t){return O_(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:mc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return O_(e).put({bundleId:(r=t).id,createTime:eu(Sr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return hI(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:A_(o.bundledQuery),readTime:mc(o.readTime)};var o})}saveNamedQuery(e,t){return hI(e).put({name:(r=t).name,readTime:eu(Sr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function O_(n){return Mr(n,"bundles")}function hI(n){return Mr(n,"namedQueries")}class dp{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new dp(e,t.uid||"")}getOverlay(e,t){return Sh(e).get(dI(this.userId,t)).next(r=>r?S_(this.It,r):null)}getOverlays(e,t){const r=na();return se.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new lp(t,d);o.push(this.ue(e,m))}),se.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Ci(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(Sh(e).Y("collectionPathOverlayIndex",m))}),se.waitFor(u)}getOverlaysForCollection(e,t,r){const o=na(),u=Ci(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Sh(e).W("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const b=S_(this.It,w);o.set(b.getKey(),b)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=na();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sh(e).Z({index:"collectionGroupOverlayIndex",range:m},(w,b,S)=>{const O=S_(this.It,b);u.size()<o||O.largestBatchId===d?(u.set(O.getKey(),O),d=O.largestBatchId):S.done()}).next(()=>u)}ue(e,t){return Sh(e).put(function(r,o,u){const[d,m,w]=dI(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:bh(r.re,u.mutation)}}(this.It,this.userId,t))}}function Sh(n){return Mr(n,"documentOverlays")}class Yl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Kf(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ll(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Um(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Je()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),Ge.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function fI(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function P_(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=fI(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Yl.Te=new Yl;class ND{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=P_(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=P_(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class pI{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class kD{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class yr{constructor(){this.Be=new ND,this.Le=new pI(this.Be),this.Ue=new kD(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class js{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new js(this.indexId,this.documentKey,this.arrayValue,r)}}function Ql(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=gI(n.arrayValue,e.arrayValue),0!==t?t:(t=gI(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function gI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class HA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Bs(e);if(void 0!==t&&!this.ze(t))return!1;const r=kl(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const d=r[o];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class GA{constructor(){this.Ye=new Qm}addToCollectionParentIndex(e,t){return this.Ye.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(cs.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Qm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new dn(qt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dn(qt.comparator)).toArray()}}const hp=new Uint8Array(0);class fp{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Qm,this.Ze=new gc(r=>Bl(r),(r,o)=>hc(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:Ci(o)};return mI(e).put(u)}return se.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Nl(t),""],!1,!0);return mI(e).W(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(mo(d.parent))}return r})}addFieldIndex(e,t){const r=Jm(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=Mh(e);return u.next(m=>{d.put(M_(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Jm(e),o=Mh(e),u=Jl(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Jl(e);let o=!0;const u=new Map;return se.forEach(this.tn(t),d=>this.en(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=Rt();const m=[];return se.forEach(u,(w,b)=>{var S;Re("IndexedDbIndexManager",`Using index ${S=w,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Lt=>`${Lt.fieldPath}:${Lt.kind}`).join(",")}`} to execute ${Bl(t)}`);const O=function(Lt,xt){const Pt=Bs(xt);if(void 0===Pt)return null;for(const jt of e_(Lt,Pt.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(b,w),H=function(Lt,xt){const Pt=new Map;for(const jt of kl(xt))for(const Hr of e_(Lt,jt.fieldPath))switch(Hr.op){case"==":case"in":Pt.set(jt.fieldPath.canonicalString(),Hr.value);break;case"not-in":case"!=":return Pt.set(jt.fieldPath.canonicalString(),Hr.value),Array.from(Pt.values())}return null}(b,w),Q=function(Lt,xt){const Pt=[];let jt=!0;for(const Hr of kl(xt)){const U0=0===Hr.kind?t_(Lt,Hr.fieldPath,Lt.startAt):n_(Lt,Hr.fieldPath,Lt.startAt);Pt.push(U0.value),jt&&(jt=U0.inclusive)}return new fc(Pt,jt)}(b,w),ae=function(Lt,xt){const Pt=[];let jt=!0;for(const Hr of kl(xt)){const U0=0===Hr.kind?n_(Lt,Hr.fieldPath,Lt.endAt):t_(Lt,Hr.fieldPath,Lt.endAt);Pt.push(U0.value),jt&&(jt=U0.inclusive)}return new fc(Pt,jt)}(b,w),Oe=this.nn(w,b,Q),Le=this.nn(w,b,ae),Et=this.sn(w,b,H),Tt=this.rn(w.indexId,O,Oe,Q.inclusive,Le,ae.inclusive,Et);return se.forEach(Tt,Lt=>r.J(Lt,t.limit).next(xt=>{xt.forEach(Pt=>{const jt=Ge.fromSegments(Pt.documentKey);d.has(jt)||(d=d.add(jt),m.push(jt))})}))}).next(()=>m)}return se.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,u,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),b=w/(null!=t?t.length:1),S=[];for(let O=0;O<w;++O){const H=t?this.on(t[O/b]):hp,Q=this.un(e,H,r[O%b],o),ae=this.cn(e,H,u[O%b],d),Oe=m.map(Le=>this.un(e,H,Le,!0));S.push(...this.createRange(Q,ae,Oe))}return S}un(e,t,r,o){const u=new js(e,Ge.empty(),t,r);return o?u:u.Ke()}cn(e,t,r,o){const u=new js(e,Ge.empty(),t,r);return o?u.Ke():u}en(e,t){const r=new HA(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return se.forEach(this.tn(t),o=>this.en(e,o).next(u=>{u?0!==r&&u.fields.length<function(d){let m=new dn(rr.comparator),w=!1;for(const b of d.filters){const S=b;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?w=!0:m=m.add(S.field))}for(const b of d.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(w?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new yr;for(const o of kl(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.qe(o.kind);Yl.Te.ce(u,d)}return r.$e()}on(e){const t=new yr;return Yl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new yr;return Yl.Te.ce(dc(this.databaseId,t),r.qe(function(o){const u=kl(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new yr);let u=0;for(const d of kl(e)){const m=r[u++];for(const w of o)if(this.ln(t,d.fieldPath)&&po(m))o=this.fn(o,d,m);else{const b=w.qe(d.kind);Yl.Te.ce(m,b)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const w=new yr;w.seed(m.$e()),Yl.Te.ce(d,w.qe(t.kind)),u.push(w)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof $r&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Jm(e),o=Mh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return se.forEach(u,m=>o.get([m.indexId,this.uid]).next(w=>{d.push(function(b,S){const O=S?new vi(S.sequenceNumber,new cs(mc(S.readTime),new Ge(mo(S.documentKey)),S.largestBatchId)):vi.empty(),H=b.fields.map(([Q,ae])=>new us(rr.fromServerFormat(Q),ae));return new ch(b.indexId,b.collectionGroup,H,O)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:bt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Jm(e),u=Mh(e);return this._n(e).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>se.forEach(m,w=>u.put(M_(w.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return se.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?se.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),se.forEach(m,w=>this.wn(e,o,w).next(b=>{const S=this.mn(u,w);return b.isEqual(S)?se.resolve():this.gn(e,u,w,b,S)}))))})}yn(e,t,r,o){return Jl(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return Jl(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=Jl(e);let u=new dn(Ql);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,m)=>{u=u.add(new js(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}mn(e,t){let r=new dn(Ql);const o=this.an(t,e);if(null==o)return r;const u=Bs(t);if(null!=u){const d=e.data.field(u.fieldPath);if(po(d))for(const m of d.arrayValue.values||[])r=r.add(new js(t.indexId,e.key,this.on(m),o))}else r=r.add(new js(t.indexId,e.key,hp,o));return r}gn(e,t,r,o,u){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,b,S,O){const H=m.getIterator(),Q=w.getIterator();let ae=dh(H),Oe=dh(Q);for(;ae||Oe;){let Le=!1,Et=!1;if(ae&&Oe){const Tt=b(ae,Oe);Tt<0?Et=!0:Tt>0&&(Le=!0)}else null!=ae?Et=!0:Le=!0;Le?(S(Oe),Oe=dh(Q)):Et?(O(ae),ae=dh(H)):(ae=dh(H),Oe=dh(Q))}}(o,u,Ql,m=>{d.push(this.yn(e,t,r,m))},m=>{d.push(this.pn(e,t,r,m))}),se.waitFor(d)}_n(e){let t=1;return Mh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Ql(d,m)).filter((d,m,w)=>!m||0!==Ql(d,w[m-1]));const o=[];o.push(e);for(const d of r){const m=Ql(d,e),w=Ql(d,t);if(0===m)o[0]=e.Ke();else if(m>0&&w<0)o.push(d),o.push(d.Ke());else if(w>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,hp,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,hp,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(yI)}getMinOffset(e,t){return se.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||Je())).next(yI)}}function mI(n){return Mr(n,"collectionParents")}function Jl(n){return Mr(n,"indexEntries")}function Jm(n){return Mr(n,"indexConfiguration")}function Mh(n){return Mr(n,"indexState")}function yI(n){It(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;zv(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new cs(e.readTime,e.documentKey,t)}const vI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ji{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xm(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.Z({range:d},(S,O,H)=>(m++,H.delete()));u.push(w.next(()=>{It(1===m)}));const b=[];for(const S of t.mutations){const O=E_(e,S.key.path,t.batchId);u.push(o.delete(O)),b.push(S.key)}return se.waitFor(u).next(()=>b)}function pp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(41943040,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);class gp{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){It(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new gp(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ia(e).Z({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=yp(e),d=ia(e);return d.add({}).next(m=>{It("number"==typeof m);const w=new Km(m,t,r,o),b=function(H,Q,ae){const Oe=ae.baseMutations.map(Et=>bh(H.re,Et)),Le=ae.mutations.map(Et=>bh(H.re,Et));return{userId:Q,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:Oe,mutations:Le}}(this.It,this.userId,w),S=[];let O=new dn((H,Q)=>bt(H.canonicalString(),Q.canonicalString()));for(const H of o){const Q=E_(this.userId,H.key.path,m);O=O.add(H.key.path.popLast()),S.push(d.put(b)),S.push(u.put(Q,iI))}return O.forEach(H=>{S.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.In[m]=w.keys()}),se.waitFor(S).next(()=>w)})}lookupMutationBatch(e,t){return ia(e).get(t).next(r=>r?(It(r.userId===this.userId),tu(this.It,r)):null)}Tn(e,t){return this.In[t]?se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return ia(e).Z({index:"userMutationsIndex",range:o},(d,m,w)=>{m.userId===this.userId&&(It(m.batchId>=r),u=tu(this.It,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ia(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ia(e).W("userMutationsIndex",t).next(r=>r.map(o=>tu(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=op(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return yp(e).Z({range:o},(d,m,w)=>{const[b,S,O]=d,H=mo(S);if(b===this.userId&&t.path.isEqual(H))return ia(e).get(O).next(Q=>{if(!Q)throw Je();It(Q.userId===this.userId),u.push(tu(this.It,Q))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dn(bt);const o=[];return t.forEach(u=>{const d=op(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=yp(e).Z({range:m},(b,S,O)=>{const[H,Q,ae]=b,Oe=mo(Q);H===this.userId&&u.path.isEqual(Oe)?r=r.add(ae):O.done()});o.push(w)}),se.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=op(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new dn(bt);return yp(e).Z({range:d},(w,b,S)=>{const[O,H,Q]=w,ae=mo(H);O===this.userId&&r.isPrefixOf(ae)?ae.length===o&&(m=m.add(Q)):S.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],o=[];return t.forEach(u=>{o.push(ia(e).get(u).next(d=>{if(null===d)throw Je();It(d.userId===this.userId),r.push(tu(this.It,d))}))}),se.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Xm(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),se.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return yp(e).Z({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=mo(u[1]);o.push(w)}else m.done()}).next(()=>{It(0===o.length)})})}containsKey(e,t){return mp(e,this.userId,t)}Rn(e){return R_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mp(n,e,t){const r=op(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return yp(n).Z({range:u,X:!0},(m,w,b)=>{const[S,O,H]=m;S===e&&O===o&&(d=!0),b.done()}).next(()=>d)}function ia(n){return Mr(n,"mutations")}function yp(n){return Mr(n,"documentMutations")}function R_(n){return Mr(n,"mutationQueues")}class Xl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Xl(0)}static vn(){return new Xl(-1)}}class _I{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Xl(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>vt.fromTimestamp(new Mn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>yo(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return yo(e).Z((d,m)=>{const w=Kl(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,u.push(this.removeTargetData(e,w)))}).next(()=>se.waitFor(u)).next(()=>o)}forEachTarget(e,t){return yo(e).Z((r,o)=>{const u=Kl(o);t(u)})}Vn(e){return wI(e).get("targetGlobalKey").next(t=>(It(null!==t),t))}Sn(e,t){return wI(e).put("targetGlobalKey",t)}Dn(e,t){return yo(e).put(lI(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Bl(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return yo(e).Z({range:o,index:"queryTargetsIndex"},(d,m,w)=>{const b=Kl(m);hc(t,b.target)&&(u=b,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=nu(e);return t.forEach(d=>{const m=Ci(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),se.waitFor(o)}removeMatchingKeys(e,t,r){const o=nu(e);return se.forEach(t,u=>{const d=Ci(u.path);return se.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=nu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=nu(e);let u=Rt();return o.Z({range:r,X:!0},(d,m,w)=>{const b=mo(d[1]),S=new Ge(b);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=Ci(t.path),o=IDBKeyRange.bound([r],[Nl(r)],!1,!0);let u=0;return nu(e).Z({index:"documentTargetsIndex",X:!0,range:o},([d,m],w,b)=>{0!==d&&(u++,b.done())}).next(()=>u>0)}se(e,t){return yo(e).get(t).next(r=>r?Kl(r):null)}}function yo(n){return Mr(n,"targets")}function wI(n){return Mr(n,"targetGlobal")}function nu(n){return Mr(n,"targetDocuments")}function ey([n,e],[t,r]){const o=bt(n,t);return 0===o?bt(e,r):o}class zA{constructor(e){this.xn=e,this.buffer=new dn(ey),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ey(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ho(r)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Jo(r)}yield t.Fn(3e5)}))}}class WA{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return se.resolve(_i.at);const r=new zA(t);return this.$n.forEachTarget(e,o=>r.Mn(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.Mn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(vI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vI):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,u,d,m,w,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,d=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(b=Date.now(),jv()<=Zu.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${O} documents in `+(b-w)+`ms\nTotal Duration: ${b-S}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}class LD{constructor(e,t){this.db=e,this.garbageCollector=new WA(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return ty(e,r)}removeReference(e,t,r){return ty(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ty(e,t)}Gn(e,t){return function(r,o){let u=!1;return R_(r).tt(d=>mp(r,d,o).next(m=>(m&&(u=!0),se.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Kn(e,(d,m)=>{if(m<=t){const w=this.Gn(e,d).next(b=>{if(!b)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,vt.min()),nu(e).delete([0,Ci(d.path)])))});o.push(w)}}).next(()=>se.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ty(e,t)}Kn(e,t){const r=nu(e);let o,u=_i.at;return r.Z({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:b})=>{0===d?(u!==_i.at&&t(new Ge(mo(o)),u),u=b,o=w):u=_i.at}).next(()=>{u!==_i.at&&t(new Ge(mo(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ty(n,e){return nu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:r}));var r}class CI{constructor(){this.changes=new gc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class II{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return yc(e).put(r)}removeEntry(e,t,r){return yc(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ah(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=yn.newInvalidDocument(t);return yc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(vp(t))},(o,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:yn.newInvalidDocument(t)};return yc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(vp(t))},(o,u)=>{r={document:this.jn(t,u),size:pp(u)}}).next(()=>r)}getEntries(e,t){let r=Bi();return this.zn(e,t,(o,u)=>{const d=this.jn(o,u);r=r.insert(o,d)}).next(()=>r)}Hn(e,t){let r=Bi(),o=new Un(Ge.comparator);return this.zn(e,t,(u,d)=>{const m=this.jn(u,d);r=r.insert(u,m),o=o.insert(u,pp(d))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return se.resolve();let o=new dn(F_);t.forEach(w=>o=o.add(w));const u=IDBKeyRange.bound(vp(o.first()),vp(o.last())),d=o.getIterator();let m=d.getNext();return yc(e).Z({index:"documentKeyIndex",range:u},(w,b,S)=>{const O=Ge.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;m&&F_(m,O)<0;)r(m,null),m=d.getNext();m&&m.isEqual(O)&&(r(m,b),m=d.hasNext()?d.getNext():null),m?S.j(vp(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Ah(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yc(e).W(IDBKeyRange.bound(o,u,!0)).next(d=>{let m=Bi();for(const w of d){const b=this.jn(Ge.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);m=m.insert(b.key,b)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=Bi();const d=EI(t,r),m=EI(t,cs.max());return yc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,b,S)=>{const O=this.jn(Ge.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(O.key,O),u.size===o&&S.done()}).next(()=>u)}newChangeBuffer(e){return new VD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return k_(e).get("remoteDocumentGlobalKey").next(t=>(It(!!t),t))}Qn(e,t){return k_(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function PD(n,e){let t;if(e.document)t=eI(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),o=mc(e.noDocument.readTime);t=yn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const r=Ge.fromSegments(e.unknownDocument.path),o=mc(e.unknownDocument.version);t=yn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Mn(r[0],r[1]);return vt.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(vt.min()))return r}return yn.newInvalidDocument(e)}}function N_(n){return new II(n)}class VD extends CI{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new gc(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new dn((u,d)=>bt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=RD(this.Yn.It,d);o=o.add(u.path.popLast()),r+=pp(w)-m.size,t.push(this.Yn.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=RD(this.Yn.It,d.convertToNoDocument(vt.min()));t.push(this.Yn.addEntry(e,u,w))}}),o.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function k_(n){return Mr(n,"remoteDocumentGlobal")}function yc(n){return Mr(n,"remoteDocumentsV14")}function vp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function EI(n,e){const t=e.documentKey.path.toArray();return[n,Ah(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function F_(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=bt(t[u],r[u]),o)return o;return o=bt(t.length,r.length),o||(o=bt(t[t.length-2],r[r.length-2]),o||bt(t[t.length-1],r[r.length-1]))}class UD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class L_{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&rp(r.mutation,o,ls.empty(),Mn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Rt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Rt()){const o=na();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=_h();return u.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Rt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=Bi();const d=wh(),m=wh();return t.forEach((w,b)=>{const S=r.get(b.key);o.has(b.key)&&(void 0===S||S.mutation instanceof ta)?u=u.insert(b.key,b):void 0!==S&&(d.set(b.key,S.mutation.getFieldMask()),rp(S.mutation,b,S.mutation.getFieldMask(),Mn.now()))}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((b,S)=>d.set(b,S)),t.forEach((b,S)=>{var O;return m.set(b,new UD(S,null!==(O=d.get(b))&&void 0!==O?O:null))}),m))}recalculateAndSaveOverlays(e,t){const r=wh();let o=new Un((d,m)=>d-m),u=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const b=t.get(w);if(null===b)return;let S=r.get(w)||ls.empty();S=m.applyToLocalView(b,S),r.set(w,S);const O=(o.get(m.batchId)||Rt()).add(w);o=o.insert(m.batchId,O)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),b=w.key,S=w.value,O=WC();S.forEach(H=>{if(!u.has(H)){const Q=FC(t.get(H),r.get(H));null!==Q&&O.set(H,Q),u=u.add(H)}}),d.push(this.documentOverlayCache.saveOverlays(e,b,O))}return se.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):a_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):se.resolve(na());let m=-1,w=u;return d.next(b=>se.forEach(b,(S,O)=>(m<O.largestBatchId&&(m=O.largestBatchId),u.get(S)?se.resolve():this.getBaseDocument(e,S,O).next(H=>{w=w.insert(S,H)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,w,b,Rt())).next(S=>({batchId:m,changes:p_(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let o=_h();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=_h();return this.indexManager.getCollectionParents(e,o).next(d=>se.forEach(d,m=>{const w=(b=t,S=m.child(o),new Xo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(b=>{b.forEach((S,O)=>{u=u.insert(S,O)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,w)=>{const b=w.getKey();null===o.get(b)&&(o=o.insert(b,yn.newInvalidDocument(b)))});let d=_h();return o.forEach((m,w)=>{const b=u.get(m);void 0!==b&&rp(b.mutation,w,ls.empty(),Mn.now()),u_(t,w)&&(d=d.insert(m,w))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):se.resolve(yn.newInvalidDocument(t))}}class bI{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Sr(r.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:A_(r.bundledQuery),readTime:Sr(r.readTime)}),se.resolve();var r}}class DI{constructor(){this.overlays=new Un(Ge.comparator),this.es=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=na();return se.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ue(e,t,u)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const o=na(),u=t.length+1,d=new Ge(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,b=w.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&w.largestBatchId>r&&o.set(w.getKey(),w)}return se.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Un((b,S)=>b-S);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let S=u.get(b.largestBatchId);null===S&&(S=na(),u=u.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const m=na(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((b,S)=>m.set(b,S)),!(m.size()>=o)););return se.resolve(m)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new lp(t,r));let u=this.es.get(t);void 0===u&&(u=Rt(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class ny{constructor(){this.ns=new dn(xr.ss),this.rs=new dn(xr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new xr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new xr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new qt([])),r=new xr(t,e),o=new xr(t,e+1),u=[];return this.rs.forEachInRange([r,o],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new qt([])),r=new xr(t,e),o=new xr(t,e+1);let u=Rt();return this.rs.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new xr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class xr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||bt(e._s,t._s)}static os(e,t){return bt(e._s,t._s)||Ge.comparator(e.key,t.key)}}class BD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new dn(xr.ss)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const d=new Km(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this.gs=this.gs.add(new xr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,t){return se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xr(t,0),o=new xr(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,o],d=>{const m=this.ys(d._s);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dn(bt);return t.forEach(o=>{const u=new xr(o,0),d=new xr(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],m=>{r=r.add(m._s)})}),se.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ge.isDocumentKey(u)||(u=u.child(""));const d=new xr(new Ge(u),0);let m=new dn(bt);return this.gs.forEachWhile(w=>{const b=w.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(m=m.add(w._s)),!0)},d),se.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){It(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return se.forEach(t.mutations,o=>{const u=new xr(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new xr(t,0),o=this.gs.firstAfterOrEqual(r);return se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qA{constructor(e){this.Es=e,this.docs=new Un(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let r=Bi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))}),se.resolve(r)}getAllFromCollection(e,t,r){let o=Bi();const u=new Ge(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:w}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||zv(Gv(w),r)<=0||(o=o.insert(w.key,w.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Je()}As(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TI(this)}getSize(e){return se.resolve(this.size)}}class TI extends CI{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class ZA{constructor(e){this.persistence=e,this.Rs=new gc(t=>Bl(t),hc),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ny,this.targetCount=0,this.vs=Xl.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Xl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Dn(t),se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Ps.containsKey(t))}}class jD{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new _i(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ZA(this),this.indexManager=new GA,this.remoteDocumentCache=new qA(r=>this.referenceDelegate.xs(r)),this.It=new cI(t),this.Ns=new bI(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new BD(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const o=new KA(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(u=>this.referenceDelegate.Ms(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Os(e,t){return se.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class KA extends _C{constructor(e){super(),this.currentSequenceNumber=e}}class V_{constructor(e){this.persistence=e,this.Fs=new ny,this.$s=null}static Bs(e){return new V_(e)}get Ls(){if(this.$s)return this.$s;throw Je()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ls,r=>{const o=Ge.fromPath(r);return this.Us(e,o).next(u=>{u||t.removeEntry(o,vt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return se.or([()=>se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class YA{constructor(e){this.It=e}$(e,t,r,o){const u=new Gf("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",I_,{unique:!0}),m.createObjectStore("documentMutations"),$D(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=se.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),$D(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",b)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").W().next(b=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",I_,{unique:!0});const S=w.store("mutations"),O=b.map(H=>S.put(H));return se.waitFor(O)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&o>=7&&(d=d.next(()=>this.Gs(u))),r<8&&o>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.js(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:xD});w.createIndex("collectionPathOverlayIndex",D_,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",up,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:DD});w.createIndex("documentKeyIndex",$A),w.createIndex("collectionGroupIndex",sI)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:ap}).createIndex("sequenceNumberIndex",MD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:b_}).createIndex("documentKeyIndex",ra,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=pp(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>se.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>se.forEach(m,w=>{It(w.userId===u.userId);const b=tu(this.It,w);return Xm(e,u.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((d,m)=>{const w=new qt(d),b=[0,Ci(w)];u.push(t.get(b).next(S=>S?se.resolve():t.put({targetId:0,path:Ci(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>se.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:SD});const r=t.store("collectionParents"),o=new Qm,u=d=>{if(o.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:Ci(w)})}};return t.store("remoteDocuments").Z({X:!0},(d,m)=>{const w=new qt(d);return u(w.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,m,w],b)=>{const S=mo(m);return u(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const u=Kl(o),d=lI(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(b=d,b.document?new Ge(qt.fromString(b.document.name).popFirst(5)):b.noDocument?Ge.fromSegments(b.noDocument.path):b.unknownDocument?Ge.fromSegments(b.unknownDocument.path):Je()).path.toArray();var b;const S={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(S))}).next(()=>se.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=N_(this.It),u=new jD(V_.Bs,this.It.re);return r.W().next(d=>{const m=new Map;return d.forEach(w=>{var b;let S=null!==(b=m.get(w.userId))&&void 0!==b?b:Rt();tu(this.It,w).keys().forEach(O=>S=S.add(O)),m.set(w.userId,S)}),se.forEach(m,(w,b)=>{const S=new fr(b),O=dp.oe(this.It,S),H=u.getIndexManager(S),Q=gp.oe(S,this.It,H,u.referenceDelegate);return new L_(o,Q,O,H).recalculateAndSaveOverlaysForDocumentKeys(new T_(t,_i.at),w).next()})})}}function $D(n){n.createObjectStore("targetDocuments",{keyPath:TD}).createIndex("documentTargetsIndex",AD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oI,{unique:!0}),n.createObjectStore("targetGlobal")}const AI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class SI{constructor(e,t,r,o,u,d,m,w,b,S,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=m,this.Js=b,this.Ys=S,this.Xs=O,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=H=>Promise.resolve(),!SI.C())throw new Me(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LD(this,o),this.ii=t+"main",this.It=new cI(w),this.ri=new lo(this.ii,this.Xs,new YA(this.It)),this.Cs=new _I(this.referenceDelegate,this.It),this.remoteDocumentCache=N_(this.It),this.Ns=new x_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&Vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,AI);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new _i(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>U_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ho(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return vc(e).get("owner").next(t=>se.resolve(this.mi(t)))}gi(e){return U_(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Mr(r,"clientMetadata");return o.W().next(u=>{const d=e.Ii(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return se.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?se.resolve(!0):vc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,AI);return!1}}return!(!this.networkEnabled||!this.inForeground)||U_(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new T_(t,_i.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>U_(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return gp.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fp(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return dp.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Re("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?Zm:14===d?cp:13===d?uI:12===d?OD:11===d?aI:void Je();var d;let m;return this.ri.runTransaction(e,o,u,w=>(m=new T_(w,this.Ss?this.Ss.next():_i.at),"readwrite-primary"===t?this.fi(m).next(b=>!!b||this.di(m)).next(b=>{if(!b)throw Vn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Me(le.FAILED_PRECONDITION,vC);return r(m)}).next(b=>this.wi(m).next(()=>b)):this.Vi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Vi(e){return vc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(le.FAILED_PRECONDITION,AI)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vc(e).put("owner",t)}static C(){return lo.C()}_i(e){const t=vc(e);return t.get("owner").next(r=>this.mi(r)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Vn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vc(n){return Mr(n,"owner")}function U_(n){return Mr(n,"clientMetadata")}function ry(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class xh{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=Rt(),o=Rt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xh(e,t.fromCache,r,o)}}class B_{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(u=>u||this.Mi(e,t,o,r)).next(u=>u||this.Oi(e,t))}ki(e,t){if(gh(t))return se.resolve(null);let r=wi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Xf(t,null,"F"),r=wi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Rt(...u);return this.Ni.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const b=this.Fi(t,m);return this.$i(t,b,d,w.readTime)?this.ki(e,Xf(t,null,"F")):this.Bi(e,b,t,w)}))})))}Mi(e,t,r,o){return gh(t)||o.isEqual(vt.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,o)?this.Oi(e,t):(jv()<=Zu.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jm(t)),this.Bi(e,d,t,Hv(o,-1)))})}Fi(e,t){let r=new dn(oD(e));return t.forEach((o,u)=>{u_(e,u)&&(r=r.add(u))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Oi(e,t){return jv()<=Zu.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",jm(t)),this.Ni.getDocumentsMatchingQuery(e,t,cs.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class MI{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Un(bt),this.qi=new gc(u=>Bl(u),hc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function HD(n,e,t,r){return new MI(n,e,t,r)}function iy(n,e){return sy.apply(this,arguments)}function sy(){return sy=(0,ye.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=Rt();for(const b of o){d.push(b.batchId);for(const S of b.mutations)w=w.add(S.key)}for(const b of u){m.push(b.batchId);for(const S of b.mutations)w=w.add(S.key)}return t.localDocuments.getDocuments(r,w).next(b=>({ji:b,removedBatchIds:d,addedBatchIds:m}))})})}),sy.apply(this,arguments)}function GD(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,b){const S=w.batch,O=S.keys();let H=se.resolve();return O.forEach(Q=>{H=H.next(()=>b.getEntry(m,Q)).next(ae=>{const Oe=w.docVersions.get(Q);It(null!==Oe),ae.version.compareTo(Oe)<0&&(S.applyToRemoteDocument(ae,w),ae.isValidDocument()&&(ae.setReadTime(w.commitVersion),b.addEntry(ae)))})}),H.next(()=>d.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Rt();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function j_(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function QA(n,e){const t=We(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const m=[];e.targetChanges.forEach((S,O)=>{const H=o.get(O);if(!H)return;m.push(t.Cs.removeMatchingKeys(u,S.removedDocuments,O).next(()=>t.Cs.addMatchingKeys(u,S.addedDocuments,O)));let Q=H.withSequenceNumber(u.currentSequenceNumber);var ae,Oe,Le;e.targetMismatches.has(O)?Q=Q.withResumeToken(mr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),o=o.insert(O,Q),Oe=Q,Le=S,(0===(ae=H).resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(u,Q))});let w=Bi(),b=Rt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(zD(u,d,e.documentUpdates).next(S=>{w=S.Wi,b=S.zi})),!r.isEqual(vt.min())){const S=t.Cs.getLastRemoteSnapshotVersion(u).next(O=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return se.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,b)).next(()=>w)}).then(u=>(t.Ui=o,u))}function zD(n,e,t){let r=Rt(),o=Rt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Bi();return t.forEach((m,w)=>{const b=u.get(m);w.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(m)),w.isNoDocument()&&w.version.isEqual(vt.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!b.isValidDocument()||w.version.compareTo(b.version)>0||0===w.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):Re("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",w.version)}),{Wi:d,zi:o}})}function WD(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oh(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(u=>u?(o=u,se.resolve(o)):t.Cs.allocateTargetId(r).next(d=>(o=new Xa(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function ru(n,e,t){return $_.apply(this,arguments)}function $_(){return $_=(0,ye.Z)(function*(n,e,t){const r=We(n),o=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ho(d))throw d;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),$_.apply(this,arguments)}function H_(n,e,t){const r=We(n);let o=vt.min(),u=Rt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,b){const S=We(m),O=S.qi.get(b);return void 0!==O?se.resolve(S.Ui.get(O)):S.Cs.getTargetData(w,b)}(r,d,wi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?o:vt.min(),t?u:Rt())).next(m=>(xI(r,PC(e),m),{documents:m,Hi:u})))}function qD(n,e){const t=We(n),r=We(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function ZD(n,e){const t=We(n),r=t.Ki.get(e)||vt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,Hv(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(xI(t,e,o),o))}function xI(n,e,t){let r=vt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function G_(){return G_=(0,ye.Z)(function*(n,e,t,r){const o=We(n);let u=Rt(),d=Bi();for(const b of t){const S=e.Ji(b.metadata.name);b.document&&(u=u.add(S));const O=e.Yi(b);O.setReadTime(e.Xi(b.metadata.readTime)),d=d.insert(S,O)}const m=o.Gi.newChangeBuffer({trackRemovals:!0}),w=yield Oh(o,(b=r,wi(ph(qt.fromString(`__bundle__/docs/${b}`)))));var b;return o.persistence.runTransaction("Apply bundle documents","readwrite",b=>zD(b,m,d).next(S=>(m.apply(b),S)).next(S=>o.Cs.removeMatchingKeysForTargetId(b,w.targetId).next(()=>o.Cs.addMatchingKeys(b,u,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(b,S.Wi,S.zi)).next(()=>S.Wi)))}),G_.apply(this,arguments)}function JA(n,e){return z_.apply(this,arguments)}function z_(){return z_=(0,ye.Z)(function*(n,e,t=Rt()){const r=yield Oh(n,wi(A_(e.bundledQuery))),o=We(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Sr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ns.saveNamedQuery(u,e);const m=r.withResumeToken(mr.EMPTY_BYTE_STRING,d);return o.Ui=o.Ui.insert(m.targetId,m),o.Cs.updateTargetData(u,m).next(()=>o.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(u,e))})}),z_.apply(this,arguments)}function W_(n,e){return`firestore_clients_${n}_${e}`}function q_(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function OI(n,e){return`firestore_targets_${n}_${e}`}class $i{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Me(o.error.code,o.error.message))),d?new $i(e,t,o.state,u):(Vn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _p{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Me(r.error.code,r.error.message))),u?new _p(e,r.state,o):(Vn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ph{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Ch();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=EC(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new Ph(e,u):(Vn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Z_{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Z_(t.clientId,t.onlineState):(Vn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Hi{constructor(){this.activeTargetIds=Ch()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K_{constructor(e,t,r,o,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Un(bt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=W_(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Hi),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const u=e.getItem(W_(e.persistenceKey,o));if(u){const d=Ph.Zi(o,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(OI(this.persistenceKey,e));if(r){const o=_p.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(OI(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(u){let d=_i.at;if(null!=u)try{const m=JSON.parse(u);It("number"==typeof m),d=m}catch(m){Vn("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==_i.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Mr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new $i(this.currentUser,e,t,r),u=q_(this.persistenceKey,this.currentUser,e);this.setItem(u,o.tr())}Er(e){const t=q_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=OI(this.persistenceKey,e),u=new _p(e,t,r);this.setItem(o,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Ph.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return $i.Zi(new fr(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return _p.Zi(o,t)}yr(e){return Z_.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),u=this.Ir(r),d=[],m=[];return u.forEach(w=>{o.has(w)||d.push(w)}),o.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Br(d,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Ch();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class oy{constructor(){this.Lr=new Hi,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Hi,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YD{qr(e){}shutdown(){}}class PI{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Y_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class RI{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class NI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,o,u){const d=this.ao(e,t);Re("RestConnection","Sending: ",d,r);const m={};return this.ho(m,o,u),this.lo(e,d,m,r).then(w=>(Re("RestConnection","Received: ",w),w),w=>{throw Ka("RestConnection",`${e} failed with error: `,w,"url: ",d,"request:",r),w})}fo(e,t,r,o,u,d){return this.co(e,t,r,o,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ao(e,t){return`${this.oo}/v1/${t}:${Y_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,o){return new Promise((u,d)=>{const m=new $b;m.listenOnce(Lv.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Nm.NO_ERROR:const b=m.getResponseJson();Re("Connection","XHR received:",JSON.stringify(b)),u(b);break;case Nm.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),d(new Me(le.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const S=m.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const H=function(Q){const ae=Q.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ae)>=0?ae:le.UNKNOWN}(O.status);d(new Me(H,O.message))}else d(new Me(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Me(le.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(o);m.send(t,"POST",w,r,15)})}_o(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Fv(),d=dC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Uv({})),this.ho(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const w=o.join("");Re("Connection","Creating WebChannel: "+w,m);const b=u.createWebChannel(w,m);let S=!1,O=!1;const H=new RI({Hr:ae=>{O?Re("Connection","Not sending because WebChannel is closed:",ae):(S||(Re("Connection","Opening WebChannel transport."),b.open(),S=!0),Re("Connection","WebChannel sending:",ae),b.send(ae))},Jr:()=>b.close()}),Q=(ae,Oe,Le)=>{ae.listen(Oe,Et=>{try{Le(Et)}catch(Tt){setTimeout(()=>{throw Tt},0)}})};return Q(b,Hf.EventType.OPEN,()=>{O||Re("Connection","WebChannel transport opened.")}),Q(b,Hf.EventType.CLOSE,()=>{O||(O=!0,Re("Connection","WebChannel transport closed"),H.io())}),Q(b,Hf.EventType.ERROR,ae=>{O||(O=!0,Ka("Connection","WebChannel transport errored:",ae),H.io(new Me(le.UNAVAILABLE,"The operation could not be completed")))}),Q(b,Hf.EventType.MESSAGE,ae=>{var Oe;if(!O){const Le=ae.data[0];It(!!Le);const Et=Le,Tt=Et.error||(null===(Oe=Et[0])||void 0===Oe?void 0:Oe.error);if(Tt){Re("Connection","WebChannel received error:",Tt);const Lt=Tt.status;let xt=function(jt){const Hr=cr[jt];if(void 0!==Hr)return GC(Hr)}(Lt),Pt=Tt.message;void 0===xt&&(xt=le.INTERNAL,Pt="Unknown error status: "+Lt+" with message "+Tt.message),O=!0,H.io(new Me(xt,Pt)),b.close()}else Re("Connection","WebChannel received:",Le),H.ro(Le)}}),Q(d,hC.STAT_EVENT,ae=>{ae.stat===Vv.PROXY?Re("Connection","Detected buffering proxy"):ae.stat===Vv.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.so()},0),H}}function kI(){return typeof window<"u"?window:null}function wp(){return typeof document<"u"?document:null}function Rh(n){return new YC(n,!0)}class Q_{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=o,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),o=Math.max(0,t-r);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class J_{constructor(e,t,r,o,u,d,m,w){this.Hs=e,this.Po=r,this.vo=o,this.Vo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Q_(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ye.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ye.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Vn(t.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.So===t&&this.Go(r,o)},r=>{e(()=>{const o=new Me(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(o)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.Qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ye.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QD extends J_{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function jA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Je(),o=e.targetChange.targetIds||[],u=function(w,b){return w.gt?(It(void 0===b||"string"==typeof b),mr.fromBase64String(b||"")):(It(void 0===b||b instanceof Uint8Array),mr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const b=void 0===w.code?le.UNKNOWN:GC(w.code);return new Me(b,w.message||"")}(d);t=new Gm(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=go(n,r.document.name),u=Sr(r.document.updateTime),d=new Ye({mapValue:{fields:r.document.fields}}),m=yn.newFoundDocument(o,u,d);t=new Hm(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=go(n,r.document),u=r.readTime?Sr(r.readTime):vt.min(),d=yn.newNoDocument(o,u);t=new Hm([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=go(n,r.document);t=new Hm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Je();{const r=e.filter,u=new $C(r.count||0);t=new qC(r.targetId,u)}}var w;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return vt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?vt.min():u.readTime?Sr(u.readTime):vt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=ip(this.It),t.addTarget=function(o,u){let d;const m=u.target;return d=In(m)?{documents:yD(o,m)}:{query:vD(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=QC(o,u.resumeToken):u.snapshotVersion.compareTo(vt.min())>0&&(d.readTime=Zl(o,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function _D(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=ip(this.It),t.removeTarget=e,this.Bo(t)}}class X_ extends J_{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function mD(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,o){let u=Sr(r.updateTime?r.updateTime:o);return u.isEqual(vt.min())&&(u=Sr(o)),new dD(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.Zo(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ip(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bh(this.It,r))};this.Bo(t)}}class _c extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=o,this.nu=!1}su(){if(this.nu)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.Vo.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(le.UNKNOWN,o.toString())})}fo(e,t,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.Vo.fo(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(le.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class FI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Vn(t),this.ou=!1):Re("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class e0{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var w;wc(d)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ye.Z)(function*(b){const S=We(b);S._u.add(4),yield Cp(S),S.gu.set("Unknown"),S._u.delete(4),yield ds(S)}),function(b){return w.apply(this,arguments)})(d))}))}),this.gu=new FI(r,o)}}function ds(n){return t0.apply(this,arguments)}function t0(){return t0=(0,ye.Z)(function*(n){if(wc(n))for(const e of n.wu)yield e(!0)}),t0.apply(this,arguments)}function Cp(n){return n0.apply(this,arguments)}function n0(){return n0=(0,ye.Z)(function*(n){for(const e of n.wu)yield e(!1)}),n0.apply(this,arguments)}function ay(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),uy(t)?LI(t):iu(t).ko()&&r0(t,e))}function Ip(n,e){const t=We(n),r=iu(t);t.du.delete(e),r.ko()&&s0(t,e),0===t.du.size&&(r.ko()?r.Fo():wc(t)&&t.gu.set("Unknown"))}function r0(n,e){n.yu.Ot(e.targetId),iu(n).zo(e)}function s0(n,e){n.yu.Ot(e),iu(n).Ho(e)}function LI(n){n.yu=new KC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),iu(n).start(),n.gu.uu()}function uy(n){return wc(n)&&!iu(n).No()&&n.du.size>0}function wc(n){return 0===We(n)._u.size}function o0(n){n.yu=void 0}function XA(n){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,ye.Z)(function*(n){n.du.forEach((e,t)=>{r0(n,e)})}),Ep.apply(this,arguments)}function VI(n,e){return cy.apply(this,arguments)}function cy(){return cy=(0,ye.Z)(function*(n,e){o0(n),uy(n)?(n.gu.hu(e),LI(n)):n.gu.set("Unknown")}),cy.apply(this,arguments)}function UI(n,e,t){return ly.apply(this,arguments)}function ly(){return ly=(0,ye.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Gm&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o.du.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.du.delete(m),o.yu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bp(n,r)}else if(e instanceof Hm?n.yu.Gt(e):e instanceof qC?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(vt.min()))try{const r=yield j_(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.yu.te(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const b=o.du.get(w);b&&o.du.set(w,b.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const w=o.du.get(m);if(!w)return;o.du.set(m,w.withResumeToken(mr.EMPTY_BYTE_STRING,w.snapshotVersion)),s0(o,m);const b=new Xa(w.target,m,1,w.sequenceNumber);r0(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield bp(n,r)}var r}),ly.apply(this,arguments)}function bp(n,e,t){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,ye.Z)(function*(n,e,t){if(!ho(e))throw e;n._u.add(1),yield Cp(n),n.gu.set("Offline"),t||(t=()=>j_(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield ds(n)}))}),Nh.apply(this,arguments)}function Dp(n,e){return e().catch(t=>bp(n,t,e))}function ed(n){return a0.apply(this,arguments)}function a0(){return a0=(0,ye.Z)(function*(n){const e=We(n),t=Cc(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;BI(e);)try{const o=yield WD(e.localStore,r);if(null===o){0===e.fu.length&&t.Fo();break}r=o.batchId,jI(e,o)}catch(o){yield bp(e,o)}$I(e)&&HI(e)}),a0.apply(this,arguments)}function BI(n){return wc(n)&&n.fu.length<10}function jI(n,e){n.fu.push(e);const t=Cc(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function $I(n){return wc(n)&&!Cc(n).No()&&n.fu.length>0}function HI(n){Cc(n).start()}function eS(n){return GI.apply(this,arguments)}function GI(){return GI=(0,ye.Z)(function*(n){Cc(n).eu()}),GI.apply(this,arguments)}function zI(n){return u0.apply(this,arguments)}function u0(){return u0=(0,ye.Z)(function*(n){const e=Cc(n);for(const t of n.fu)e.Xo(t.mutations)}),u0.apply(this,arguments)}function JD(n,e,t){return c0.apply(this,arguments)}function c0(){return c0=(0,ye.Z)(function*(n,e,t){const r=n.fu.shift(),o=Ym.from(r,e,t);yield Dp(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield ed(n)}),c0.apply(this,arguments)}function tS(n,e){return WI.apply(this,arguments)}function WI(){return WI=(0,ye.Z)(function*(n,e){var t;e&&Cc(n).Yo&&(yield(t=(0,ye.Z)(function*(r,o){if(HC(u=o.code)&&u!==le.ABORTED){const d=r.fu.shift();Cc(r).Oo(),yield Dp(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield ed(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),$I(n)&&HI(n)}),WI.apply(this,arguments)}function XD(n,e){return qI.apply(this,arguments)}function qI(){return qI=(0,ye.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=wc(t);t._u.add(3),yield Cp(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield ds(t)}),qI.apply(this,arguments)}function ZI(n,e){return l0.apply(this,arguments)}function l0(){return l0=(0,ye.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield ds(t)):e||(t._u.add(2),yield Cp(t),t.gu.set("Unknown"))}),l0.apply(this,arguments)}function iu(n){return n.pu||(n.pu=function(e,t,r){const o=We(e);return o.su(),new QD(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:XA.bind(null,n),Zr:VI.bind(null,n),Wo:UI.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.pu.Oo(),uy(n)?LI(n):n.gu.set("Unknown")):(yield n.pu.stop(),o0(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Cc(n){return n.Iu||(n.Iu=function(e,t,r){const o=We(e);return o.su(),new X_(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:eS.bind(null,n),Zr:tS.bind(null,n),tu:zI.bind(null,n),Zo:JD.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Iu.Oo(),yield ed(n)):(yield n.Iu.stop(),n.fu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class d0{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new d0(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function td(n,e){if(Vn("AsyncQueue",`${e}: ${n}`),ho(n))return new Me(le.UNAVAILABLE,`${e}: ${n}`);throw n}class $s{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=_h(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new $s(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class h0{constructor(){this.Tu=new Un(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Je():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ic{constructor(e,t,r,o,u,d,m,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Ic(e,t,$s.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class f0{constructor(){this.Au=void 0,this.listeners=[]}}class eT{constructor(){this.queries=new gc(e=>OC(e),yh),this.onlineState="Unknown",this.Ru=new Set}}function Tp(n,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,ye.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new f0),o)try{u.Au=yield t.onListen(r)}catch(d){const m=td(d,`Initialization of query '${jm(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&YI(t)}),Ap.apply(this,arguments)}function kh(n,e){return KI.apply(this,arguments)}function KI(){return KI=(0,ye.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),KI.apply(this,arguments)}function nS(n,e){const t=We(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.Pu(o)&&(r=!0);d.Au=o}}r&&YI(t)}function rS(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function YI(n){n.Ru.forEach(e=>{e.next()})}class dy{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class tT{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class QI{constructor(e){this.It=e}Ji(e){return go(this.It,e)}Yi(e){return e.metadata.exists?eI(this.It,e.document,!1):yn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Sr(e)}}class nT{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JI(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new QI(this.It);for(const o of e)if(o.metadata.queries){const u=r.Ji(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||Rt()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function KD(n,e,t,r){return G_.apply(this,arguments)}(e.localStore,new QI(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const o of e.queries)yield JA(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function JI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class p0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class m0{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Rt(),this.mutatedKeys=Rt(),this.Ku=oD(e),this.Gu=new $s(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new h0,o=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,O)=>{const H=o.get(S),Q=u_(this.query,O)?O:null,ae=!!H&&this.mutatedKeys.has(H.key),Oe=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Le=!1;H&&Q?H.data.isEqual(Q.data)?ae!==Oe&&(r.track({type:3,doc:Q}),Le=!0):this.zu(H,Q)||(r.track({type:2,doc:Q}),Le=!0,(w&&this.Ku(Q,w)>0||b&&this.Ku(Q,b)<0)&&(m=!0)):!H&&Q?(r.track({type:0,doc:Q}),Le=!0):H&&!Q&&(r.track({type:1,doc:H}),Le=!0,(w||b)&&(m=!0)),Le&&(Q?(d=d.add(Q),u=Oe?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Gu:d,Wu:r,$i:m,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((b,S)=>function(O,H){const Q=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return Q(O)-Q(H)}(b.type,S.type)||this.Ku(b.doc,S.doc)),this.Hu(r);const d=t?this.Ju():[],m=0===this.qu.size&&this.current?1:0,w=m!==this.Uu;return this.Uu=m,0!==u.length||w?{snapshot:new Ic(this.query,e.Gu,o,u,e.mutatedKeys,0===m,w,!1),Yu:d}:{Yu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new h0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Rt(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new g0(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new p0(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=Rt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Ic.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class rT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iT{constructor(e){this.key=e,this.ec=!1}}class XI{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new gc(m=>OC(m),yh),this.ic=new Map,this.rc=new Set,this.oc=new Un(Ge.comparator),this.uc=new Map,this.cc=new ny,this.ac={},this.hc=new Map,this.lc=Xl.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function y0(n,e){return eE.apply(this,arguments)}function eE(){return eE=(0,ye.Z)(function*(n,e){const t=xp(n);let r,o;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.tc();else{const d=yield Oh(t.localStore,wi(e));t.isPrimaryClient&&ay(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield hy(t,e,r,"current"===m)}return o}),eE.apply(this,arguments)}function hy(n,e,t,r){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,ye.Z)(function*(n,e,t,r){n.dc=(S,O,H)=>{return(Q=(0,ye.Z)(function*(ae,Oe,Le,Et){let Tt=Oe.view.ju(Le);Tt.$i&&(Tt=yield H_(ae.localStore,Oe.query,!1).then(({documents:Pt})=>Oe.view.ju(Pt,Tt)));const Lt=Et&&Et.targetChanges.get(Oe.targetId),xt=Oe.view.applyChanges(Tt,ae.isPrimaryClient,Lt);return i(ae,Oe.targetId,xt.Yu),xt.snapshot}),function(ae,Oe,Le,Et){return Q.apply(this,arguments)})(n,S,O,H);var Q};const o=yield H_(n.localStore,e,!0),u=new m0(e,o.Hi),d=u.ju(o.documents),m=Wl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=u.applyChanges(d,n.isPrimaryClient,m);i(n,t,w.Yu);const b=new rT(e,t,u);return n.sc.set(e,b),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),w.snapshot}),Sp.apply(this,arguments)}function sT(n,e){return v0.apply(this,arguments)}function v0(){return v0=(0,ye.Z)(function*(n,e){const t=We(n),r=t.sc.get(e),o=t.ic.get(r.targetId);if(o.length>1)return t.ic.set(r.targetId,o.filter(u=>!yh(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ru(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ip(t.remoteStore,r.targetId),Mp(t,r.targetId)}).catch(Jo))):(Mp(t,r.targetId),yield ru(t.localStore,r.targetId,!0))}),v0.apply(this,arguments)}function tE(){return tE=(0,ye.Z)(function*(n,e,t){const r=Op(n);try{const o=yield function(u,d){const m=We(u),w=Mn.now(),b=d.reduce((H,Q)=>H.add(Q.key),Rt());let S,O;return m.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Q=Bi(),ae=Rt();return m.Gi.getEntries(H,b).next(Oe=>{Q=Oe,Q.forEach((Le,Et)=>{Et.isValidDocument()||(ae=ae.add(Le))})}).next(()=>m.localDocuments.getOverlayedDocuments(H,Q)).next(Oe=>{S=Oe;const Le=[];for(const Et of d){const Tt=h_(Et,S.get(Et.key).overlayedDocument);null!=Tt&&Le.push(new ta(Et.key,Tt,AC(Tt.value.mapValue),En.exists(!0)))}return m.mutationQueue.addMutationBatch(H,w,Le,d)}).next(Oe=>{O=Oe;const Le=Oe.applyToLocalDocumentSet(S,ae);return m.documentOverlayCache.saveOverlays(H,Oe.batchId,Le)})}).then(()=>({batchId:O.batchId,changes:p_(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let w=u.ac[u.currentUser.toKey()];w||(w=new Un(bt)),w=w.insert(d,m),u.ac[u.currentUser.toKey()]=w}(r,o.batchId,t),yield c(r,o.changes),yield ed(r.remoteStore)}catch(o){const u=td(o,"Failed to persist write");t.reject(u)}}),tE.apply(this,arguments)}function nE(n,e){return _0.apply(this,arguments)}function _0(){return _0=(0,ye.Z)(function*(n,e){const t=We(n);try{const r=yield QA(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.uc.get(u);d&&(It(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.ec=!0:o.modifiedDocuments.size>0?It(d.ec):o.removedDocuments.size>0&&(It(d.ec),d.ec=!1))}),yield c(t,r,e)}catch(r){yield Jo(r)}}),_0.apply(this,arguments)}function rE(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.sc.forEach((u,d)=>{const m=d.view.bu(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=We(u);m.onlineState=d;let w=!1;m.queries.forEach((b,S)=>{for(const O of S.listeners)O.bu(d)&&(w=!0)}),w&&YI(m)}(r.eventManager,e),o.length&&r.nc.Wo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sS(n,e,t){return iE.apply(this,arguments)}function iE(){return iE=(0,ye.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.uc.get(e),u=o&&o.key;if(u){let d=new Un(Ge.comparator);d=d.insert(u,yn.newNoDocument(u,vt.min()));const m=Rt().add(u),w=new Ih(vt.min(),new Map,new dn(bt),d,m);yield nE(r,w),r.oc=r.oc.remove(u),r.uc.delete(e),a(r)}else yield ru(r.localStore,e,!1).then(()=>Mp(r,e,t)).catch(Jo)}),iE.apply(this,arguments)}function oS(n,e){return sE.apply(this,arguments)}function sE(){return sE=(0,ye.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const o=yield GD(t.localStore,e);uE(t,r,null),aE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield c(t,o)}catch(o){yield Jo(o)}}),sE.apply(this,arguments)}function aS(n,e,t){return w0.apply(this,arguments)}function w0(){return w0=(0,ye.Z)(function*(n,e,t){const r=We(n);try{const o=yield function(u,d){const m=We(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let b;return m.mutationQueue.lookupMutationBatch(w,d).next(S=>(It(null!==S),b=S.keys(),m.mutationQueue.removeMutationBatch(w,S))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,b,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,b)).next(()=>m.localDocuments.getDocuments(w,b))})}(r.localStore,e);uE(r,e,t),aE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield c(r,o)}catch(o){yield Jo(o)}}),w0.apply(this,arguments)}function oE(){return oE=(0,ye.Z)(function*(n,e){const t=We(n);wc(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=We(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.hc.get(r)||[];o.push(e),t.hc.set(r,o)}catch(r){const o=td(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),oE.apply(this,arguments)}function aE(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function uE(n,e,t){const r=We(n);let o=r.ac[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ac[r.currentUser.toKey()]=o}}function Mp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||oT(n,r)})}function oT(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Ip(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),a(n))}function i(n,e,t){for(const r of t)r instanceof p0?(n.cc.addReference(r.key,e),s(n,r)):r instanceof g0?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||oT(n,r.key)):Je()}function s(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.rc.add(r),a(n))}function a(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ge(qt.fromString(e)),r=n.lc.next();n.uc.set(r,new iT(t)),n.oc=n.oc.insert(t,r),ay(n.remoteStore,new Xa(wi(ph(t.path)),r,2,_i.at))}}function c(n,e,t){return l.apply(this,arguments)}function l(){return l=(0,ye.Z)(function*(n,e,t){const r=We(n),o=[],u=[],d=[];var m;r.sc.isEmpty()||(r.sc.forEach((m,w)=>{d.push(r.dc(w,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,b.fromCache?"not-current":"current"),o.push(b);const S=xh.Ci(w.targetId,b);u.push(S)}}))}),yield Promise.all(d),r.nc.Wo(o),yield(m=(0,ye.Z)(function*(w,b){const S=We(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>se.forEach(b,H=>se.forEach(H.Si,Q=>S.persistence.referenceDelegate.addReference(O,H.targetId,Q)).next(()=>se.forEach(H.Di,Q=>S.persistence.referenceDelegate.removeReference(O,H.targetId,Q)))))}catch(O){if(!ho(O))throw O;Re("LocalStore","Failed to update sequence numbers: "+O)}for(const O of b){const H=O.targetId;if(!O.fromCache){const Q=S.Ui.get(H),Oe=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);S.Ui=S.Ui.insert(H,Oe)}}}),function(w,b){return m.apply(this,arguments)})(r.localStore,u))}),l.apply(this,arguments)}function p(n,e){return v.apply(this,arguments)}function v(){return v=(0,ye.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield iy(t.localStore,e);t.currentUser=e,(o=t).hc.forEach(d=>{d.forEach(m=>{m.reject(new Me(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield c(t,r.ji)}var o}),v.apply(this,arguments)}function C(n,e){const t=We(n),r=t.uc.get(e);if(r&&r.ec)return Rt().add(r.key);{let o=Rt();const u=t.ic.get(e);if(!u)return o;for(const d of u){const m=t.sc.get(d);o=o.unionWith(m.view.Qu)}return o}}function I(n,e){return T.apply(this,arguments)}function T(){return T=(0,ye.Z)(function*(n,e){const t=We(n),r=yield H_(t.localStore,e.query,!0),o=e.view.Zu(r);return t.isPrimaryClient&&i(t,e.targetId,o.Yu),o}),T.apply(this,arguments)}function x(n,e){return N.apply(this,arguments)}function N(){return N=(0,ye.Z)(function*(n,e){const t=We(n);return ZD(t.localStore,e).then(r=>c(t,r))}),N.apply(this,arguments)}function G(n,e,t,r){return X.apply(this,arguments)}function X(){return X=(0,ye.Z)(function*(n,e,t,r){const o=We(n),u=yield function(d,m){const w=We(d),b=We(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",S=>b.Tn(S,m).next(O=>O?w.localDocuments.getDocuments(S,O):se.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield ed(o.remoteStore):"acknowledged"===t||"rejected"===t?(uE(o,e,r||null),aE(o,e),m=e,We(We(o.localStore).mutationQueue).An(m)):Je(),yield c(o,u)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),X.apply(this,arguments)}function ke(){return ke=(0,ye.Z)(function*(n,e){const t=We(n);if(xp(t),Op(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield He(t,r.toArray());t.fc=!0,yield ZI(t.remoteStore,!0);for(const u of o)ay(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let o=Promise.resolve();t.ic.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(Mp(t,d),ru(t.localStore,d,!0))),Ip(t.remoteStore,d)}),yield o,yield He(t,r),function(u){const d=We(u);d.uc.forEach((m,w)=>{Ip(d.remoteStore,w)}),d.cc.fs(),d.uc=new Map,d.oc=new Un(Ge.comparator)}(t),t.fc=!1,yield ZI(t.remoteStore,!1)}}),ke.apply(this,arguments)}function He(n,e,t){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,ye.Z)(function*(n,e,t){const r=We(n),o=[],u=[];for(const d of e){let m;const w=r.ic.get(d);if(w&&0!==w.length){m=yield Oh(r.localStore,wi(w[0]));for(const b of w){const S=r.sc.get(b),O=yield I(r,S);O.snapshot&&u.push(O.snapshot)}}else{const b=yield qD(r.localStore,d);m=yield Oh(r.localStore,b),yield hy(r,ht(b),d,!1)}o.push(m)}return r.nc.Wo(u),o}),Xe.apply(this,arguments)}function ht(n){return s_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Ae(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function _t(n,e,t,r){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,ye.Z)(function*(n,e,t,r){const o=We(n);if(o.fc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const u=o.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield ZD(o.localStore,PC(u[0])),m=Ih.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield c(o,d,m);break}case"rejected":yield ru(o.localStore,e,!0),Mp(o,e,r);break;default:Je()}}),Yt.apply(this,arguments)}function xn(n,e,t){return su.apply(this,arguments)}function su(){return su=(0,ye.Z)(function*(n,e,t){const r=xp(n);if(r.fc){for(const o of e){if(r.ic.has(o)){Re("SyncEngine","Adding an already active target "+o);continue}const u=yield qD(r.localStore,o),d=yield Oh(r.localStore,u);yield hy(r,ht(u),d.targetId,!1),ay(r.remoteStore,d)}for(const o of t)r.ic.has(o)&&(yield ru(r.localStore,o,!1).then(()=>{Ip(r.remoteStore,o),Mp(r,o)}).catch(Jo))}}),su.apply(this,arguments)}function xp(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sS.bind(null,e),e.nc.Wo=nS.bind(null,e.eventManager),e.nc._c=rS.bind(null,e.eventManager),e}function Op(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aS.bind(null,e),e}class fy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.It=Rh(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return HD(this.persistence,new B_,e.initialUser,this.It)}gc(e){return new jD(V_.Bs,this.It)}mc(e){return new oy}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class py extends fy{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield Op(r.Ec.syncEngine),yield ed(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return HD(this.persistence,new B_,e.initialUser,this.It)}Ic(e,t){return new FD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new Zv(t,this.persistence);return new qv(e.asyncQueue,r)}gc(e){const t=ry(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new SI(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,kI(),wp(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new oy}}class I0 extends py{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.Ec.syncEngine;r.sharedClientState instanceof K_&&(r.sharedClientState.syncEngine={Fr:G.bind(null,o),$r:_t.bind(null,o),Br:xn.bind(null,o),vi:Ae.bind(null,o),Or:x.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ye.Z)(function*(d){yield function we(n,e){return ke.apply(this,arguments)}(r.Ec.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}mc(e){const t=kI();if(!K_.C(t))throw new Me(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ry(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new K_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Pp{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>rE(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=p.bind(null,r.syncEngine),yield ZI(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eT}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),r=new NI(e.databaseInfo);return new _c(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>rE(this.syncEngine,m,0),d=PI.C()?new PI:new YD,new e0(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,w,b){const S=new XI(r,o,u,d,m,w);return b&&(S.fc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=We(t);Re("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Cp(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gy(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Fh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Kx{constructor(e,t){this.bc=e,this.It=t,this.metadata=new pr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),o=Number(r);isNaN(o)&&e.Sc(`length string (${r}) is not valid number`);const u=yield e.Dc(o);return new tT(JSON.parse(u),t.length+o)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ye.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Yx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(u,d){const m=We(u),w=ip(m.It)+"/documents",b={documents:d.map(Q=>Eh(m.It,Q))},S=yield m.fo("BatchGetDocuments",w,b,d.length),O=new Map;S.forEach(Q=>{const ae=function tI(n,e){return"found"in e?function(t,r){It(!!r.found);const o=go(t,r.found.name),u=Sr(r.found.updateTime),d=new Ye({mapValue:{fields:r.found.fields}});return yn.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const o=go(t,r.missing),u=Sr(r.readTime);return yn.newNoDocument(o,u)}(n,e):Je()}(m.It,Q);O.set(ae.key.toString(),ae)});const H=[];return d.forEach(Q=>{const ae=O.get(Q.toString());It(!!ae),H.push(ae)}),H}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new pc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Ge.fromPath(o);e.mutations.push(new f_(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(o,u){const d=We(o),m=ip(d.It)+"/documents",w={writes:u.map(b=>bh(d.It,b))};yield d.co("Commit",m,w)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vt.min())?En.exists(!1):En.updateTime(t):En.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new Me(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return En.updateTime(t)}return En.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qx{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Nc=r.maxAttempts,this.xo=new Q_(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ye.Z)(function*(){const t=new Yx(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Oc(u)}))}).catch(o=>{e.Oc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!Zf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!HC(t)}return!1}}class Jx{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=fr.UNAUTHENTICATED,this.clientId=mC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ye.Z)(function*(m){Re("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Re("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=td(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function cS(n,e){return aT.apply(this,arguments)}function aT(){return aT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(u){r.isEqual(u)||(yield iy(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),aT.apply(this,arguments)}function lS(n,e){return uT.apply(this,arguments)}function uT(){return uT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cT(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>XD(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>XD(e.remoteStore,u)),n.onlineComponents=e}),uT.apply(this,arguments)}function cT(n){return lT.apply(this,arguments)}function lT(){return lT=(0,ye.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield cS(n,new fy)),n.offlineComponents}),lT.apply(this,arguments)}function cE(n){return dT.apply(this,arguments)}function dT(){return dT=(0,ye.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield lS(n,new Pp)),n.onlineComponents}),dT.apply(this,arguments)}function dS(n){return cT(n).then(e=>e.persistence)}function lE(n){return cT(n).then(e=>e.localStore)}function hS(n){return cE(n).then(e=>e.remoteStore)}function hT(n){return cE(n).then(e=>e.syncEngine)}function my(n){return fT.apply(this,arguments)}function fT(){return fT=(0,ye.Z)(function*(n){const e=yield cE(n),t=e.eventManager;return t.onListen=y0.bind(null,e.syncEngine),t.onUnlisten=sT.bind(null,e.syncEngine),t}),fT.apply(this,arguments)}function fS(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,d,m,w){const b=new Fh({next:O=>{u.enqueueAndForget(()=>kh(o,S));const H=O.docs.has(d);!H&&O.fromCache?w.reject(new Me(le.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&m&&"server"===m.source?w.reject(new Me(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(O)},error:O=>w.reject(O)}),S=new dy(ph(d.path),b,{includeMetadataChanges:!0,Nu:!0});return Tp(o,S)}(yield my(n),n.asyncQueue,e,t,r)})),r.promise}function pS(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,d,m,w){const b=new Fh({next:O=>{u.enqueueAndForget(()=>kh(o,S)),O.fromCache&&"server"===m.source?w.reject(new Me(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(O)},error:O=>w.reject(O)}),S=new dy(d,b,{includeMetadataChanges:!0,Nu:!0});return Tp(o,S)}(yield my(n),n.asyncQueue,e,t,r)})),r.promise}const gS=new Map;function pT(n,e,t){if(!t)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mS(n,e,t,r){if(!0===e&&!0===r)throw new Me(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yS(n){if(!Ge.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vS(n){if(Ge.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function Qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dE(n);throw new Me(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _S(n,e){if(e<=0)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class wS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E0{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zb;switch(t.type){case"gapi":return new gr(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gS.get(e);t&&(Re("ComponentProvider","Removing Datastore"),gS.delete(e),t.terminate())}(this),Promise.resolve()}}class Bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class Gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class Ec extends Gi{constructor(e,t,r){super(e,t,ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new Ge(e))}withConverter(e){return new Ec(this.firestore,e,this._path)}}function gT(n,e,...t){if(n=(0,Xt.m9)(n),pT("collection","path",e),n instanceof E0){const r=qt.fromString(e,...t);return vS(r),new Ec(n,null,r)}{if(!(n instanceof Bn||n instanceof Ec))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return vS(r),new Ec(n.firestore,null,r)}}function Rp(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=mC.R()),pT("doc","path",e),n instanceof E0){const r=qt.fromString(e,...t);return yS(r),new Bn(n,null,new Ge(r))}{if(!(n instanceof Bn||n instanceof Ec))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return yS(r),new Bn(n.firestore,n instanceof Ec?n.converter:null,new Ge(r))}}function CS(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof Bn||n instanceof Ec)&&(e instanceof Bn||e instanceof Ec)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function IS(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof Gi&&e instanceof Gi&&n.firestore===e.firestore&&yh(n._query,e._query)&&n.converter===e.converter}class cO{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Q_(this,"async_queue_retry"),this.jc=()=>{const t=wp();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=wp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=wp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new pr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ho(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Vn("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const o=d0.createAndSchedule(this,e,t,r,u=>this.Jc(u));return this.Uc.push(o),o}Wc(){this.qc&&Je()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function mT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class lO{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends E0{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new cO,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bS(this),this._firestoreClient.terminate()}}function ES(n,e){const t="object"==typeof n?n:(0,ja.getApp)(),r="string"==typeof n?n:e||"(default)";return(0,ja._getProvider)(t,"firestore").getImmediate({identifier:r})}function Or(n){return n._firestoreClient||bS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Xb(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new Jx(n._authCredentials,n._appCheckCredentials,n._queue,r)}function DS(n,e,t){const r=new pr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield cS(n,t),yield lS(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(d=u).name?d.code===le.FAILED_PRECONDITION||d.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;Ka("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function TS(n){if(n._initialized||n._terminated)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bc(mr.fromBase64String(e))}catch(t){throw new Me(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bc(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Np{constructor(e){this._methodName=e}}class hE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}const wO=/^__.*__$/;class CO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class AS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class fE{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new fE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.oa(e),o}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.ea(),o}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return mE(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(SS(this.na)&&wO.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class IO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Rh(e)}fa(e,t,r,o=!1){return new fE({na:e,methodName:t,la:r,path:rr.emptyPath(),ra:!1,ha:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function kp(n){const e=n._freezeSettings(),t=Rh(n._databaseId);return new IO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pE(n,e,t,r,o,u={}){const d=n.fa(u.merge||u.mergeFields?2:0,e,t,o);wT("Data must be an object, but it was:",d,r);const m=OS(r,d);let w,b;if(u.merge)w=new ls(d.fieldMask),b=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const O of u.mergeFields){const H=CT(e,O,t);if(!d.contains(H))throw new Me(le.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);RS(S,H)||S.push(H)}w=new ls(S),b=d.fieldTransforms.filter(O=>w.covers(O.field))}else w=null,b=d.fieldTransforms;return new CO(new Ye(m),w,b)}class b0 extends Np{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof b0}}function MS(n,e,t){return new fE({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class yT extends Np{_toFieldTransform(e){return new ep(e.path,new ea)}isEqual(e){return e instanceof yT}}class EO extends Np{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=MS(this,e,!0),r=this.da.map(u=>Fp(u,t)),o=new Hl(r);return new ep(e.path,o)}isEqual(e){return this===e}}class bO extends Np{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=MS(this,e,!0),r=this.da.map(u=>Fp(u,t)),o=new Gl(r);return new ep(e.path,o)}isEqual(e){return this===e}}class DO extends Np{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new vh(e.It,c_(e.It,this._a));return new ep(e.path,t)}isEqual(e){return this===e}}function vT(n,e,t,r){const o=n.fa(1,e,t);wT("Data must be an object, but it was:",o,r);const u=[],d=Ye.empty();ac(r,(w,b)=>{const S=gE(e,w,t);b=(0,Xt.m9)(b);const O=o.ua(S);if(b instanceof b0)u.push(S);else{const H=Fp(b,O);null!=H&&(u.push(S),d.set(S,H))}});const m=new ls(u);return new AS(d,m,o.fieldTransforms)}function _T(n,e,t,r,o,u){const d=n.fa(1,e,t),m=[CT(e,r,t)],w=[o];if(u.length%2!=0)throw new Me(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<u.length;H+=2)m.push(CT(e,u[H])),w.push(u[H+1]);const b=[],S=Ye.empty();for(let H=m.length-1;H>=0;--H)if(!RS(b,m[H])){const Q=m[H];let ae=w[H];ae=(0,Xt.m9)(ae);const Oe=d.ua(Q);if(ae instanceof b0)b.push(Q);else{const Le=Fp(ae,Oe);null!=Le&&(b.push(Q),S.set(Q,Le))}}const O=new ls(b);return new AS(S,O,d.fieldTransforms)}function xS(n,e,t,r=!1){return Fp(t,n.fa(r?4:3,e))}function Fp(n,e){if(PS(n=(0,Xt.m9)(n)))return wT("Unsupported field value:",e,n),OS(n,e);if(n instanceof Np)return function(t,r){if(!SS(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=Fp(d,r.ca(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return c_(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Mn.fromDate(t);return{timestampValue:Zl(r.It,o)}}if(t instanceof Mn){const o=new Mn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zl(r.It,o)}}if(t instanceof hE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof bc)return{bytesValue:QC(r.It,t._byteString)};if(t instanceof Bn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${dE(t)}`)}(n,e)}function OS(n,e){const t={};return Yv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ac(n,(r,o)=>{const u=Fp(o,e.ia(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function PS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mn||n instanceof hE||n instanceof bc||n instanceof Bn||n instanceof Np)}function wT(n,e,t){if(!PS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dE(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function CT(n,e,t){if((e=(0,Xt.m9)(e))instanceof nd)return e._internalPath;if("string"==typeof e)return gE(n,e);throw mE("Field path arguments must be of type string or ",n,!1,void 0,t)}const TO=new RegExp("[~\\*/\\[\\]]");function gE(n,e,t){if(e.search(TO)>=0)throw mE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nd(...e.split("."))._internalPath}catch{throw mE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mE(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${o}`),w+=")"),new Me(le.INVALID_ARGUMENT,m+n+w)}function RS(n,e){return n.some(t=>t.isEqual(e))}class D0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new AO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class AO extends D0{data(){return super.data()}}function yE(n,e){return"string"==typeof e?gE(n,e):e instanceof nd?e._internalPath:e._delegate._internalPath}class Lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rd extends D0{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class T0 extends rd{data(e={}){return super.data(e)}}class Lh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Lp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new T0(this._firestore,this._userDataWriter,r.key,r,new Lp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new T0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Lp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new T0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Lp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,b=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),b=u.indexOf(d.doc.key)),{type:SO(d.type),doc:m,oldIndex:w,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function SO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function NS(n,e){return n instanceof rd&&e instanceof rd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Lh&&e instanceof Lh&&n._firestore===e._firestore&&IS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function kS(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A0{}function Vh(n,...e){for(const t of e)n=t._apply(n);return n}class MO extends A0{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=kp(e.firestore),r=function(o,u,d,m,w,b,S){let O;if(w.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){jS(S,b);const Q=[];for(const ae of S)Q.push(BS(m,o,ae));O={arrayValue:{values:Q}}}else O=BS(m,o,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||jS(S,b),O=xS(d,"where",S,"in"===b||"not-in"===b);const H=$r.create(w,b,O);return function(Q,ae){if(ae.dt()){const Le=o_(Q);if(null!==Le&&!Le.isEqual(ae.field))throw new Me(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Le.toString()}' and '${ae.field.toString()}'`);const Et=jl(Q);null!==Et&&$S(0,ae.field,Et)}const Oe=function(Le,Et){for(const Tt of Le.filters)if(Et.indexOf(Tt.op)>=0)return Tt.op;return null}(Q,function(Le){switch(Le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ae.op));if(null!==Oe)throw new Me(le.INVALID_ARGUMENT,Oe===ae.op?`Invalid query. You cannot use more than one '${ae.op.toString()}' filter.`:`Invalid query. You cannot use '${ae.op.toString()}' filters with '${Oe.toString()}' filters.`)}(o,H),H}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Gi(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new Xo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class OO extends A0{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new fh(o,u);return function(m,w){if(null===jl(m)){const b=o_(m);null!==b&&$S(0,b,w.field)}}(r,d),d}(e._query,this.wa,this.ya);return new Gi(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Xo(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class FS extends A0{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new Gi(e.firestore,e.converter,Xf(e._query,this.pa,this.Ia))}}class LS extends A0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=US(e,this.type,this.Ta,this.Ea);return new Gi(e.firestore,e.converter,(o=t,new Xo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class VS extends A0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=US(e,this.type,this.Ta,this.Ea);return new Gi(e.firestore,e.converter,(o=t,new Xo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function US(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof D0)return function(o,u,d,m,w){if(!m)throw new Me(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const b=[];for(const S of mh(o))if(S.field.isKeyField())b.push(dc(u,m.key));else{const O=m.data.field(S.field);if(Qv(O))throw new Me(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const H=S.field.canonicalString();throw new Me(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}b.push(O)}return new fc(b,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=kp(n.firestore);return function(u,d,m,w,b,S){const O=u.explicitOrderBy;if(b.length>O.length)throw new Me(le.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let Q=0;Q<b.length;Q++){const ae=b[Q];if(O[Q].field.isKeyField()){if("string"!=typeof ae)throw new Me(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ae}`);if(!a_(u)&&-1!==ae.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ae}' contains a slash.`);const Oe=u.path.child(qt.fromString(ae));if(!Ge.isDocumentKey(Oe))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Oe}' is not because it contains an odd number of segments.`);const Le=new Ge(Oe);H.push(dc(d,Le))}else{const Oe=xS(m,w,ae);H.push(Oe)}}return new fc(H,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function BS(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Me(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a_(e)&&-1!==t.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qt.fromString(t));if(!Ge.isDocumentKey(r))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dc(n,new Ge(r))}if(t instanceof Bn)return dc(n,t._key);throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dE(t)}.`)}function jS(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $S(n,e,t){if(!t.isEqual(e))throw new Me(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const UO={maxAttempts:5};class IT{convertValue(e,t="none"){switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){const r={};return ac(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new hE(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=IC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qf(e));default:return null}}convertTimestamp(e){const t=uc(e);return new Mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qt.fromString(e);It(rI(r));const o=new cc(r.get(1),r.get(3)),u=new Ge(r.popFirst(5));return o.isEqual(t)||Vn(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function vE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class BO extends IT{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}class HS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=kp(e)}set(e,t,r){this._verifyNotCommitted();const o=Uh(e,this._firestore),u=vE(o.converter,t,r),d=pE(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,En.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Uh(e,this._firestore);let d;return d="string"==typeof(t=(0,Xt.m9)(t))||t instanceof nd?_T(this._dataReader,"WriteBatch.update",u._key,t,r,o):vT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,En.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uh(e,this._firestore);return this._mutations=this._mutations.concat(new pc(t._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uh(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Me(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function GS(n){n=Qt(n,Bn);const e=Qt(n.firestore,Qn);return fS(Or(e),n._key).then(t=>DT(e,n,t))}class Vp extends IT{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function zS(n){n=Qt(n,Gi);const e=Qt(n.firestore,Qn),t=Or(e),r=new Vp(e);return kS(n._query),pS(t,n._query).then(o=>new Lh(e,r,n,o))}function ET(n,e,t){n=Qt(n,Bn);const r=Qt(n.firestore,Qn),o=vE(n.converter,e,t);return yy(r,[pE(kp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,En.none())])}function bT(n,e,t,...r){n=Qt(n,Bn);const o=Qt(n.firestore,Qn),u=kp(o);let d;return d="string"==typeof(e=(0,Xt.m9)(e))||e instanceof nd?_T(u,"updateDoc",n._key,e,t,r):vT(u,"updateDoc",n._key,e),yy(o,[d.toMutation(n._key,En.exists(!0))])}function WS(n,...e){var t,r,o;n=(0,Xt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||mT(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(mT(e[d])){const O=e[d];e[d]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[d+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[d+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let w,b,S;if(n instanceof Bn)b=Qt(n.firestore,Qn),S=ph(n._key.path),w={next:O=>{e[d]&&e[d](DT(b,n,O))},error:e[d+1],complete:e[d+2]};else{const O=Qt(n,Gi);b=Qt(O.firestore,Qn),S=O._query;const H=new Vp(b);w={next:Q=>{e[d]&&e[d](new Lh(b,H,O,Q))},error:e[d+1],complete:e[d+2]},kS(n._query)}return function(O,H,Q,ae){const Oe=new Fh(ae),Le=new dy(H,Oe,Q);return O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Tp(yield my(O),Le)})),()=>{Oe.Rc(),O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return kh(yield my(O),Le)}))}}(Or(b),S,m,w)}function yy(n,e){return function(t,r){const o=new pr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function iS(n,e,t){return tE.apply(this,arguments)}(yield hT(t),r,o)})),o.promise}(Or(n),e)}function DT(n,e,t){const r=t.docs.get(e._key),o=new Vp(n);return new rd(n,o,e._key,r,new Lp(t.hasPendingWrites,t.fromCache),e.converter)}class ZO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=kp(e)}get(e){const t=Uh(e,this._firestore),r=new BO(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Je();const u=o[0];if(u.isFoundDocument())return new D0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new D0(this._firestore,r,t._key,null,t.converter);throw Je()})}set(e,t,r){const o=Uh(e,this._firestore),u=vE(o.converter,t,r),d=pE(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Uh(e,this._firestore);let d;return d="string"==typeof(t=(0,Xt.m9)(t))||t instanceof nd?_T(this._dataReader,"Transaction.update",u._key,t,r,o):vT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uh(e,this._firestore),r=new Vp(this._firestore);return super.get(e).then(o=>new rd(this._firestore,r,t._key,o._document,new Lp(!1,!1),t.converter))}}function qS(...n){return new EO("arrayUnion",n)}!function(n,e=!0){Pl=ja.SDK_VERSION,(0,ja._registerComponent)(new Tf.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new Qn(new pC(t.getProvider("auth-internal")),new Zb(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Me(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(m.options.projectId,w)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,ja.registerVersion)(Bv,"3.5.0",n),(0,ja.registerVersion)(Bv,"3.5.0","esm2017")}();class e1{constructor(){}}var _E=k(5867);const wE_firebaseConfig={apiKey:"AIzaSyCzOvmy4B3RLxMbFbX2B3BUkCWRGwCKUvM",authDomain:"car-app-35313.firebaseapp.com",projectId:"car-app-35313",storageBucket:"car-app-35313.appspot.com",messagingSenderId:"94703992749",appId:"1:94703992749:web:6e53d2fad27d3f2763eb24",measurementId:"G-QYNH698LJT"};let CE=(()=>{class n{constructor(){this.app=(0,_E.ZF)(wE_firebaseConfig),this.db=ES(this.app)}addData(t){var r=this;return(0,ye.Z)(function*(){yield ET(Rp(r.db,"cars",t.name+" "+t.year+"p"),{car:t})})()}addDetails(t){var r=this;return(0,ye.Z)(function*(){const o=Rp(r.db,"cars",r.car.name+" "+r.car.year+"p");yield bT(o,{detail:qS(t)})})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t1(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",3)(1,"p",4),f._uU(2),f.qZA(),f.TgZ(3,"p"),f._uU(4),f.qZA(),f.TgZ(5,"button",5),f.NdJ("click",function(){const u=f.CHM(t).$implicit,d=f.oxw();return f.KtG(d.showWindow(u))}),f._uU(6,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0434\u0430\u043d\u0456"),f.qZA(),f.TgZ(7,"button",5),f.NdJ("click",function(){const u=f.CHM(t).$implicit,d=f.oxw();return f.KtG(d.showWatchCar(u))}),f._uU(8,"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u0434\u0430\u043d\u0456"),f.qZA()()}if(2&n){const t=e.$implicit;f.xp6(2),f.AsE('\u0410\u0432\u0442\u043e: "',t.name,'" ',t.year," \u0440\u043e\u043a\u0443 \u0432\u0438\u043f\u0443\u0441\u043a\u0443"),f.xp6(2),f.Oqu(t.info)}}function n1(n,e){1&n&&f._UZ(0,"add-details-window")}function r1(n,e){1&n&&f._UZ(0,"app-watch-car")}let IE=(()=>{class n{constructor(t){this.service=t,this.cars=[]}ngOnInit(){this.show()}show(){var t=this;return(0,ye.Z)(function*(){(yield zS(gT(t.service.db,"cars"))).forEach(o=>{if(o){const u=new e1;u.name=o.data().car.name,u.year=o.data().car.year,u.color=o.data().car.color,u.info=o.data().car.info,u.photo=o.data().car.photo,t.cars.push(u)}})})()}showWindow(t){this.activWindow=!0,this.service.car=t}showWatchCar(t){this.activWatchCar=!0,this.service.car=t}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(CE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-search"]],decls:4,vars:3,consts:[[1,"search-container"],["class","car-show",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"car-show"],[1,"title"],[1,"add-info","btn",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.YNc(1,t1,9,3,"div",1),f.YNc(2,n1,1,0,"add-details-window",2),f.YNc(3,r1,1,0,"app-watch-car",2),f.qZA()),2&t&&(f.xp6(1),f.Q6J("ngForOf",r.cars),f.xp6(1),f.Q6J("ngIf",r.activWindow),f.xp6(1),f.Q6J("ngIf",r.activWatchCar))},styles:[".container[_ngcontent-%COMP%]{--orange-color: #fea866;--brown-color: #fec192;--gray-color: rgb(241, 241, 241);background-color:var(--orange-color);font-size:18px;height:100vh}.hidden[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:block}.input[_ngcontent-%COMP%]{border-radius:10px;border:none;font-size:1rem;height:2rem;outline:none;padding-left:.8rem}.btn[_ngcontent-%COMP%]{border-radius:7px;border:none;padding:.5rem;font-size:.9rem;cursor:pointer;width:-moz-fit-content;width:fit-content;background-color:var(--gray-color)}.btn[_ngcontent-%COMP%]:disabled{background-color:#787878}.textarea[_ngcontent-%COMP%]{border-radius:7px;border:none;outline:none;padding:1vh;font-size:1.1rem}.label[_ngcontent-%COMP%]{margin:0 .5vw 0 2vw}header[_ngcontent-%COMP%]{display:flex;align-items:baseline;background-color:var(--orange-color)}.search[_ngcontent-%COMP%]{display:flex;align-items:baseline;width:35%;padding-left:5%}.header-input[_ngcontent-%COMP%]{margin:1vw}.header-btn[_ngcontent-%COMP%]{height:2.5rem}.header-btn[_ngcontent-%COMP%]:focus{background-color:gray}.add-car[_ngcontent-%COMP%]{padding-left:5%;border-right:1px solid white;border-left:1px solid white;width:18%}.contact[_ngcontent-%COMP%]{padding-left:5%}.main[_ngcontent-%COMP%]{background-color:var(--brown-color);padding:1vw}.search-container[_ngcontent-%COMP%]{position:relative}.car-show[_ngcontent-%COMP%]{margin:1vw;padding:1vw;background-color:#f7d8c1}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:0;margin:0}.add-info[_ngcontent-%COMP%]{margin:0 2vw}.window[_ngcontent-%COMP%]{width:92vw;height:auto;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.textarea-window[_ngcontent-%COMP%]{width:98%;height:50vh}.btn-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:2vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.btn-box[_ngcontent-%COMP%]{display:flex}.btn-save[_ngcontent-%COMP%]{margin:2vh 0 0 40vw;background-color:#fff;border:rgb(169,168,168) solid 1px}.input-file[_ngcontent-%COMP%]{display:none}.add-photo[_ngcontent-%COMP%]{background-color:#fff;border:rgb(169,168,168) solid 1px;height:-moz-fit-content;height:fit-content;padding:.8rem}.window-photo[_ngcontent-%COMP%]{width:8vw;height:8vw;margin-left:1vw}.watch-car-window[_ngcontent-%COMP%]{width:92vw;height:-moz-fit-content;height:fit-content;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.watch-car-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1vw;background-color:var(--gray-color)}.watch-car-text[_ngcontent-%COMP%]{width:60vw}.watch-car-title[_ngcontent-%COMP%]{font-size:2.5rem;text-align:center;margin:0}.watch-car-info[_ngcontent-%COMP%]{font-size:1.5rem}.photo-watch-car[_ngcontent-%COMP%]{width:20vw;height:auto;box-shadow:0 0 15px #5c5c5c}.watch-car-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:1vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.details[_ngcontent-%COMP%]{padding:1vw}.photo-detail[_ngcontent-%COMP%]{margin:.5vw;width:5vw;height:5vw}.photo-detail[_ngcontent-%COMP%]:active{position:fixed;top:2vw;left:2vw;width:92vw;height:auto}.add-car-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name-color-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.image-box[_ngcontent-%COMP%]{margin-top:3vh;padding-top:2vh;display:flex;align-items:center;border:1px solid var(--orange-color)}.add-photo-text[_ngcontent-%COMP%]{width:30vw;margin:0 1vw}.add-photo-btn[_ngcontent-%COMP%]{margin-right:1vw;height:3rem}.add-car-submit[_ngcontent-%COMP%]{margin:2vh auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:3vh 1vw .5vh 1vw}.err[_ngcontent-%COMP%]{color:red;text-align:center}.alert-window[_ngcontent-%COMP%]{width:100vw;height:100vw;background-color:#fff;opacity:.9;position:fixed;top:0;left:0;text-align:center;padding-top:40vh}.add-car-photo[_ngcontent-%COMP%]{height:5vw;width:auto;align-items:center}"]}),n})(),KS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),Up=(()=>{class n extends KS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Dc=new f.OlP("NgValueAccessor"),o1={provide:Dc,useExisting:(0,f.Gpc)(()=>S0),multi:!0},u1=new f.OlP("CompositionEventMode");let S0=(()=>{class n extends KS{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function a1(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(u1,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([o1]),f.qOj]}),n})();function Bh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function QS(n){return null!=n&&"number"==typeof n.length}const zi=new f.OlP("NgValidators"),jh=new f.OlP("NgAsyncValidators"),l1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bp{static min(e){return function JS(n){return e=>{if(Bh(e.value)||Bh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function XS(n){return e=>{if(Bh(e.value)||Bh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function eM(n){return Bh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function tM(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function nM(n){return Bh(n.value)||l1.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function rM(n){return e=>Bh(e.value)||!QS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function iM(n){return e=>QS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function sM(n){if(!n)return EE;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Bh(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return dM(e)}static composeAsync(e){return hM(e)}}function EE(n){return null}function oM(n){return null!=n}function aM(n){return(0,f.QGY)(n)?(0,rn.D)(n):n}function uM(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function cM(n,e){return e.map(t=>t(n))}function lM(n){return n.map(e=>function d1(n){return!n.validate}(e)?e:t=>e.validate(t))}function dM(n){if(!n)return null;const e=n.filter(oM);return 0==e.length?null:function(t){return uM(cM(t,e))}}function TT(n){return null!=n?dM(lM(n)):null}function hM(n){if(!n)return null;const e=n.filter(oM);return 0==e.length?null:function(t){return function i1(...n){const e=(0,di.jO)(n),{args:t,keys:r}=Sa(n),o=new Er.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,b=d;for(let S=0;S<d;S++){let O=!1;(0,Ps.Xf)(t[S]).subscribe((0,Wn.x)(u,H=>{O||(O=!0,b--),m[S]=H},()=>w--,void 0,()=>{(!w||!O)&&(b||u.next(r?ko(r,m):m),u.complete())}))}});return e?o.pipe(xa(e)):o}(cM(t,e).map(aM)).pipe((0,it.U)(uM))}}function AT(n){return null!=n?hM(lM(n)):null}function fM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pM(n){return n._rawValidators}function gM(n){return n._rawAsyncValidators}function ST(n){return n?Array.isArray(n)?n:[n]:[]}function bE(n,e){return Array.isArray(n)?n.includes(e):n===e}function mM(n,e){const t=ST(e);return ST(n).forEach(o=>{bE(t,o)||t.push(o)}),t}function yM(n,e){return ST(e).filter(t=>!bE(n,t))}class vM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hs extends vM{get formDirective(){return null}get path(){return null}}class $h extends vM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _M{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let MT=(()=>{class n extends _M{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36($h,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[f.qOj]}),n})(),xT=(()=>{class n extends _M{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(hs,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[f.qOj]}),n})();const M0="VALID",TE="INVALID",vy="PENDING",x0="DISABLED";function NT(n){return(AE(n)?n.validators:n)||null}function CM(n){return Array.isArray(n)?TT(n):n||null}function kT(n,e){return(AE(e)?e.asyncValidators:n)||null}function IM(n){return Array.isArray(n)?AT(n):n||null}function AE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function EM(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[t])throw new f.vHH(1001,"")}function bM(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new f.vHH(1002,"")})}class SE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=CM(this._rawValidators),this._composedAsyncValidatorFn=IM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===M0}get invalid(){return this.status===TE}get pending(){return this.status==vy}get disabled(){return this.status===x0}get enabled(){return this.status!==x0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=CM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=IM(e)}addValidators(e){this.setValidators(mM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yM(e,this._rawAsyncValidators))}hasValidator(e){return bE(this._rawValidators,e)}hasAsyncValidator(e){return bE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=x0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=M0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===M0||this.status===vy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?x0:M0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vy,this._hasOwnPendingAsyncValidator=!0;const t=aM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?x0:this.errors?TE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vy)?vy:this._anyControlsHaveStatus(TE)?TE:M0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){AE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class _y extends SE{constructor(e,t,r){super(NT(t),kT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){bM(this,0,e),Object.keys(e).forEach(r=>{EM(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class DM extends _y{}function O0(n,e){FT(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function _1(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&TM(n,e)})}(n,e),function C1(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function w1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&TM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function v1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xE(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),PE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function OE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function FT(n,e){const t=pM(n);null!==e.validator?n.setValidators(fM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=gM(n);null!==e.asyncValidator?n.setAsyncValidators(fM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();OE(e._rawValidators,o),OE(e._rawAsyncValidators,o)}function PE(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=pM(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=gM(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return OE(e._rawValidators,r),OE(e._rawAsyncValidators,r),t}function TM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function OM(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Tc=class extends SE{constructor(e=null,t,r){super(NT(t),kT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),AE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=OM(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){OM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let BT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const x1={provide:Dc,useExisting:(0,f.Gpc)(()=>jT),multi:!0};let jT=(()=>{class n extends Up{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[f._Bn([x1]),f.qOj]}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const $T=new f.OlP("NgModelWithFormControlWarning"),k1={provide:hs,useExisting:(0,f.Gpc)(()=>R0)};let R0=(()=>{class n extends hs{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(PE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return O0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){xE(t.control||null,t,!1),function D1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function MM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(xE(r||null,t),(n=>n instanceof Tc)(o)&&(O0(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function AM(n,e){FT(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function I1(n,e){return PE(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FT(this.form,this),this._oldForm&&PE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(zi,10),f.Y36(jh,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([k1]),f.qOj,f.TTD]}),n})();const V1={provide:$h,useExisting:(0,f.Gpc)(()=>RE)};let RE=(()=>{class n extends $h{constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function VT(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===S0?t=u:function b1(n){return Object.getPrototypeOf(n.constructor)===Up}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function LT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ME(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(hs,13),f.Y36(zi,10),f.Y36(jh,10),f.Y36(Dc,10),f.Y36($T,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([V1]),f.qOj,f.TTD]}),n})(),JM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[FM]}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[JM]}),n})(),XM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$T,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[JM]}),n})();class ex extends SE{constructor(e,t,r){super(NT(t),kT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){bM(this,0,e),e.forEach((r,o)=>{EM(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function tx(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let eP=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return tx(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new _y(o,u)}record(t,r=null){const o=this._reduceControls(t);return new DM(o,r)}control(t,r,o){let u={};return this.useNonNullable?(tx(r)?u=r:(u.validators=r,u.asyncValidators=o),new Tc(t,{...u,nonNullable:!0})):new Tc(t,r,o)}array(t,r,o){const u=t.map(d=>this._createControl(d));return new ex(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Tc||t instanceof SE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:XM}),n})();function tP(n,e){1&n&&(f.TgZ(0,"span",21),f._uU(1,"* \u041f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0430\u043f\u043e\u0432\u043d\u0438\u0442\u0438 \u0443\u0441\u0456 \u043f\u043e\u043b\u044f"),f.qZA())}function nP(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"article")(1,"div",22)(2,"p",23),f._uU(3,"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"),f.qZA(),f.TgZ(4,"button",24),f.NdJ("click",function(){f.CHM(t);const o=f.oxw();return f.KtG(o.alertWindowClose())}),f._uU(5,"Ok"),f.qZA()()()}}const rP=[{path:"search",component:IE},{path:"add-car",component:(()=>{class n{constructor(t){this.service=t,this.active=!1,this.form=new _y({name:new Tc("",Bp.required),color:new Tc("",Bp.required),year:new Tc("",Bp.required),info:new Tc("",Bp.required),photo:new Tc("")})}ngOnInit(){}submit(){this.url&&(this.form.value.photo=this.url,console.log("this.form.value.photo",this.form.value.photo));const t=this.form.value;this.service.car=t,this.service.addData(t),this.url=void 0,this.form.reset(),this.alertWindowOpen()}addPhoto(t){if(t.target.files[0]&&null!=t.target.files[0].type.match(/image\/*/)){let r=new FileReader;r.readAsDataURL(t.target.files[0]),r.onload=o=>{this.url=o.target.result}}}alertWindowOpen(){this.active=!0}alertWindowClose(){this.active=!1}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(CE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-add-car"]],decls:31,vars:5,consts:[[1,"add-car-form",3,"formGroup","ngSubmit"],[1,"name-color-year"],[1,"div"],["for","name"],["type","text","name","name","formControlName","name",1,"input"],["for","color"],["type","text","name","color","formControlName","color",1,"input"],["for","year"],["type","number","name","color","formControlName","year",1,"input"],[1,"image-box"],[1,"add-photo-text"],["type","file","accept","image/*","formControlName","photo","multiple","",1,"input-file",3,"change"],["file",""],["type","button",1,"add-photo-btn","btn",3,"click"],["alt","\u0444\u043e\u0442\u043e \u043d\u0435 \u043f\u0440\u0438\u043a\u0440\u0456\u043f\u043b\u0435\u043d\u0435",1,"add-car-photo",3,"src"],[1,"form-group"],["for","details"],["name","details","cols","30","rows","10","formControlName","info","placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u044e\u0434\u0438 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456 \u0434\u0430\u043d\u0456 \u043f\u0440\u043e \u0430\u0432\u0442\u043e, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: \u0432\u0456\u043d\u043a\u043e\u0434 \u0430\u0432\u0442\u043e, \u043d\u043e\u043c\u0435\u0440\u043d\u0438\u0439 \u0437\u043d\u0430\u043a, \u043c\u043e\u0434\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u044f \u0434\u0432\u0438\u0433\u0443\u043d\u0430",1,"textarea"],["type","submit",1,"btn","add-car-submit",3,"disabled"],["class","err",4,"ngIf"],[4,"ngIf"],[1,"err"],[1,"alert-window"],[1,"add-car-window-p"],[1,"btn",3,"click"]],template:function(t,r){if(1&t){const o=f.EpF();f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return r.submit()}),f.TgZ(1,"div",1)(2,"div",2)(3,"label",3),f._uU(4,"\u041d\u0430\u0437\u0432\u0430 \u0430\u0432\u0442\u043e: "),f.qZA(),f._UZ(5,"input",4),f.qZA(),f.TgZ(6,"div")(7,"label",5),f._uU(8,"\u041a\u043e\u043b\u0456\u0440: "),f.qZA(),f._UZ(9,"input",6),f.qZA(),f.TgZ(10,"div")(11,"label",7),f._uU(12,"\u0420\u0456\u043a \u0432\u0438\u043f\u0443\u0441\u043a\u0443: "),f.qZA(),f._UZ(13,"input",8),f.qZA()(),f.TgZ(14,"div",9)(15,"p",10),f._uU(16,"\u0424\u043e\u0442\u043e \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0431\u0443\u0442\u0438 \u043c\u0435\u043d\u0448\u0438\u043c 1\u041c\u0431 \u0442\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0442\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0443 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0457:"),f.qZA(),f.TgZ(17,"input",11,12),f.NdJ("change",function(d){return r.addPhoto(d)}),f.qZA(),f.TgZ(19,"button",13),f.NdJ("click",function(){f.CHM(o);const d=f.MAs(18);return f.KtG(d.click())}),f._uU(20,"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"),f.qZA(),f._UZ(21,"img",14),f.qZA(),f.TgZ(22,"div",15)(23,"label",16),f._uU(24,"\u041e\u043f\u0438\u0441 \u0430\u0432\u0442\u043e"),f.qZA(),f.TgZ(25,"textarea",17),f._uU(26,"asd"),f.qZA()(),f.TgZ(27,"button",18),f._uU(28,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0430\u0432\u0442\u043e"),f.qZA(),f.YNc(29,tP,2,0,"span",19),f.qZA(),f.YNc(30,nP,6,0,"article",20)}2&t&&(f.Q6J("formGroup",r.form),f.xp6(21),f.s9C("src",r.url,f.LSH),f.xp6(6),f.Q6J("disabled",!r.form.valid),f.xp6(2),f.Q6J("ngIf",!r.form.valid),f.xp6(1),f.Q6J("ngIf",r.active))},dependencies:[kn,BT,S0,jT,MT,xT,R0,RE],styles:[".container[_ngcontent-%COMP%]{--orange-color: #fea866;--brown-color: #fec192;--gray-color: rgb(241, 241, 241);background-color:var(--orange-color);font-size:18px;height:100vh}.hidden[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:block}.input[_ngcontent-%COMP%]{border-radius:10px;border:none;font-size:1rem;height:2rem;outline:none;padding-left:.8rem}.btn[_ngcontent-%COMP%]{border-radius:7px;border:none;padding:.5rem;font-size:.9rem;cursor:pointer;width:-moz-fit-content;width:fit-content;background-color:var(--gray-color)}.btn[_ngcontent-%COMP%]:disabled{background-color:#787878}.textarea[_ngcontent-%COMP%]{border-radius:7px;border:none;outline:none;padding:1vh;font-size:1.1rem}.label[_ngcontent-%COMP%]{margin:0 .5vw 0 2vw}header[_ngcontent-%COMP%]{display:flex;align-items:baseline;background-color:var(--orange-color)}.search[_ngcontent-%COMP%]{display:flex;align-items:baseline;width:35%;padding-left:5%}.header-input[_ngcontent-%COMP%]{margin:1vw}.header-btn[_ngcontent-%COMP%]{height:2.5rem}.header-btn[_ngcontent-%COMP%]:focus{background-color:gray}.add-car[_ngcontent-%COMP%]{padding-left:5%;border-right:1px solid white;border-left:1px solid white;width:18%}.contact[_ngcontent-%COMP%]{padding-left:5%}.main[_ngcontent-%COMP%]{background-color:var(--brown-color);padding:1vw}.search-container[_ngcontent-%COMP%]{position:relative}.car-show[_ngcontent-%COMP%]{margin:1vw;padding:1vw;background-color:#f7d8c1}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:0;margin:0}.add-info[_ngcontent-%COMP%]{margin:0 2vw}.window[_ngcontent-%COMP%]{width:92vw;height:auto;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.textarea-window[_ngcontent-%COMP%]{width:98%;height:50vh}.btn-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:2vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.btn-box[_ngcontent-%COMP%]{display:flex}.btn-save[_ngcontent-%COMP%]{margin:2vh 0 0 40vw;background-color:#fff;border:rgb(169,168,168) solid 1px}.input-file[_ngcontent-%COMP%]{display:none}.add-photo[_ngcontent-%COMP%]{background-color:#fff;border:rgb(169,168,168) solid 1px;height:-moz-fit-content;height:fit-content;padding:.8rem}.window-photo[_ngcontent-%COMP%]{width:8vw;height:8vw;margin-left:1vw}.watch-car-window[_ngcontent-%COMP%]{width:92vw;height:-moz-fit-content;height:fit-content;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.watch-car-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1vw;background-color:var(--gray-color)}.watch-car-text[_ngcontent-%COMP%]{width:60vw}.watch-car-title[_ngcontent-%COMP%]{font-size:2.5rem;text-align:center;margin:0}.watch-car-info[_ngcontent-%COMP%]{font-size:1.5rem}.photo-watch-car[_ngcontent-%COMP%]{width:20vw;height:auto;box-shadow:0 0 15px #5c5c5c}.watch-car-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:1vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.details[_ngcontent-%COMP%]{padding:1vw}.photo-detail[_ngcontent-%COMP%]{margin:.5vw;width:5vw;height:5vw}.photo-detail[_ngcontent-%COMP%]:active{position:fixed;top:2vw;left:2vw;width:92vw;height:auto}.add-car-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name-color-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.image-box[_ngcontent-%COMP%]{margin-top:3vh;padding-top:2vh;display:flex;align-items:center;border:1px solid var(--orange-color)}.add-photo-text[_ngcontent-%COMP%]{width:30vw;margin:0 1vw}.add-photo-btn[_ngcontent-%COMP%]{margin-right:1vw;height:3rem}.add-car-submit[_ngcontent-%COMP%]{margin:2vh auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:3vh 1vw .5vh 1vw}.err[_ngcontent-%COMP%]{color:red;text-align:center}.alert-window[_ngcontent-%COMP%]{width:100vw;height:100vw;background-color:#fff;opacity:.9;position:fixed;top:0;left:0;text-align:center;padding-top:40vh}.add-car-photo[_ngcontent-%COMP%]{height:5vw;width:auto;align-items:center}"]}),n})()},{path:"contact",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-contact"]],decls:2,vars:0,template:function(t,r){1&t&&(f.TgZ(0,"span"),f._uU(1,"email: saz9002@gmail.com"),f.qZA())},styles:[".container[_ngcontent-%COMP%]{--orange-color: #fea866;--brown-color: #fec192;--gray-color: rgb(241, 241, 241);background-color:var(--orange-color);font-size:18px;height:100vh}.hidden[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:block}.input[_ngcontent-%COMP%]{border-radius:10px;border:none;font-size:1rem;height:2rem;outline:none;padding-left:.8rem}.btn[_ngcontent-%COMP%]{border-radius:7px;border:none;padding:.5rem;font-size:.9rem;cursor:pointer;width:-moz-fit-content;width:fit-content;background-color:var(--gray-color)}.btn[_ngcontent-%COMP%]:disabled{background-color:#787878}.textarea[_ngcontent-%COMP%]{border-radius:7px;border:none;outline:none;padding:1vh;font-size:1.1rem}.label[_ngcontent-%COMP%]{margin:0 .5vw 0 2vw}header[_ngcontent-%COMP%]{display:flex;align-items:baseline;background-color:var(--orange-color)}.search[_ngcontent-%COMP%]{display:flex;align-items:baseline;width:35%;padding-left:5%}.header-input[_ngcontent-%COMP%]{margin:1vw}.header-btn[_ngcontent-%COMP%]{height:2.5rem}.header-btn[_ngcontent-%COMP%]:focus{background-color:gray}.add-car[_ngcontent-%COMP%]{padding-left:5%;border-right:1px solid white;border-left:1px solid white;width:18%}.contact[_ngcontent-%COMP%]{padding-left:5%}.main[_ngcontent-%COMP%]{background-color:var(--brown-color);padding:1vw}.search-container[_ngcontent-%COMP%]{position:relative}.car-show[_ngcontent-%COMP%]{margin:1vw;padding:1vw;background-color:#f7d8c1}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:0;margin:0}.add-info[_ngcontent-%COMP%]{margin:0 2vw}.window[_ngcontent-%COMP%]{width:92vw;height:auto;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.textarea-window[_ngcontent-%COMP%]{width:98%;height:50vh}.btn-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:2vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.btn-box[_ngcontent-%COMP%]{display:flex}.btn-save[_ngcontent-%COMP%]{margin:2vh 0 0 40vw;background-color:#fff;border:rgb(169,168,168) solid 1px}.input-file[_ngcontent-%COMP%]{display:none}.add-photo[_ngcontent-%COMP%]{background-color:#fff;border:rgb(169,168,168) solid 1px;height:-moz-fit-content;height:fit-content;padding:.8rem}.window-photo[_ngcontent-%COMP%]{width:8vw;height:8vw;margin-left:1vw}.watch-car-window[_ngcontent-%COMP%]{width:92vw;height:-moz-fit-content;height:fit-content;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.watch-car-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1vw;background-color:var(--gray-color)}.watch-car-text[_ngcontent-%COMP%]{width:60vw}.watch-car-title[_ngcontent-%COMP%]{font-size:2.5rem;text-align:center;margin:0}.watch-car-info[_ngcontent-%COMP%]{font-size:1.5rem}.photo-watch-car[_ngcontent-%COMP%]{width:20vw;height:auto;box-shadow:0 0 15px #5c5c5c}.watch-car-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:1vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.details[_ngcontent-%COMP%]{padding:1vw}.photo-detail[_ngcontent-%COMP%]{margin:.5vw;width:5vw;height:5vw}.photo-detail[_ngcontent-%COMP%]:active{position:fixed;top:2vw;left:2vw;width:92vw;height:auto}.add-car-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name-color-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.image-box[_ngcontent-%COMP%]{margin-top:3vh;padding-top:2vh;display:flex;align-items:center;border:1px solid var(--orange-color)}.add-photo-text[_ngcontent-%COMP%]{width:30vw;margin:0 1vw}.add-photo-btn[_ngcontent-%COMP%]{margin-right:1vw;height:3rem}.add-car-submit[_ngcontent-%COMP%]{margin:2vh auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:3vh 1vw .5vh 1vw}.err[_ngcontent-%COMP%]{color:red;text-align:center}.alert-window[_ngcontent-%COMP%]{width:100vw;height:100vw;background-color:#fff;opacity:.9;position:fixed;top:0;left:0;text-align:center;padding-top:40vh}.add-car-photo[_ngcontent-%COMP%]{height:5vw;width:auto;align-items:center}"]}),n})()}];let iP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[bw.forRoot(rP),bw]}),n})(),sP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-main"]],decls:2,vars:0,consts:[[1,"main"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f._UZ(1,"router-outlet"),f.qZA())},dependencies:[g],styles:[".container[_ngcontent-%COMP%]{--orange-color: #fea866;--brown-color: #fec192;--gray-color: rgb(241, 241, 241);background-color:var(--orange-color);font-size:18px;height:100vh}.hidden[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:block}.input[_ngcontent-%COMP%]{border-radius:10px;border:none;font-size:1rem;height:2rem;outline:none;padding-left:.8rem}.btn[_ngcontent-%COMP%]{border-radius:7px;border:none;padding:.5rem;font-size:.9rem;cursor:pointer;width:-moz-fit-content;width:fit-content;background-color:var(--gray-color)}.btn[_ngcontent-%COMP%]:disabled{background-color:#787878}.textarea[_ngcontent-%COMP%]{border-radius:7px;border:none;outline:none;padding:1vh;font-size:1.1rem}.label[_ngcontent-%COMP%]{margin:0 .5vw 0 2vw}header[_ngcontent-%COMP%]{display:flex;align-items:baseline;background-color:var(--orange-color)}.search[_ngcontent-%COMP%]{display:flex;align-items:baseline;width:35%;padding-left:5%}.header-input[_ngcontent-%COMP%]{margin:1vw}.header-btn[_ngcontent-%COMP%]{height:2.5rem}.header-btn[_ngcontent-%COMP%]:focus{background-color:gray}.add-car[_ngcontent-%COMP%]{padding-left:5%;border-right:1px solid white;border-left:1px solid white;width:18%}.contact[_ngcontent-%COMP%]{padding-left:5%}.main[_ngcontent-%COMP%]{background-color:var(--brown-color);padding:1vw}.search-container[_ngcontent-%COMP%]{position:relative}.car-show[_ngcontent-%COMP%]{margin:1vw;padding:1vw;background-color:#f7d8c1}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:0;margin:0}.add-info[_ngcontent-%COMP%]{margin:0 2vw}.window[_ngcontent-%COMP%]{width:92vw;height:auto;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.textarea-window[_ngcontent-%COMP%]{width:98%;height:50vh}.btn-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:2vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.btn-box[_ngcontent-%COMP%]{display:flex}.btn-save[_ngcontent-%COMP%]{margin:2vh 0 0 40vw;background-color:#fff;border:rgb(169,168,168) solid 1px}.input-file[_ngcontent-%COMP%]{display:none}.add-photo[_ngcontent-%COMP%]{background-color:#fff;border:rgb(169,168,168) solid 1px;height:-moz-fit-content;height:fit-content;padding:.8rem}.window-photo[_ngcontent-%COMP%]{width:8vw;height:8vw;margin-left:1vw}.watch-car-window[_ngcontent-%COMP%]{width:92vw;height:-moz-fit-content;height:fit-content;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.watch-car-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1vw;background-color:var(--gray-color)}.watch-car-text[_ngcontent-%COMP%]{width:60vw}.watch-car-title[_ngcontent-%COMP%]{font-size:2.5rem;text-align:center;margin:0}.watch-car-info[_ngcontent-%COMP%]{font-size:1.5rem}.photo-watch-car[_ngcontent-%COMP%]{width:20vw;height:auto;box-shadow:0 0 15px #5c5c5c}.watch-car-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:1vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.details[_ngcontent-%COMP%]{padding:1vw}.photo-detail[_ngcontent-%COMP%]{margin:.5vw;width:5vw;height:5vw}.photo-detail[_ngcontent-%COMP%]:active{position:fixed;top:2vw;left:2vw;width:92vw;height:auto}.add-car-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name-color-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.image-box[_ngcontent-%COMP%]{margin-top:3vh;padding-top:2vh;display:flex;align-items:center;border:1px solid var(--orange-color)}.add-photo-text[_ngcontent-%COMP%]{width:30vw;margin:0 1vw}.add-photo-btn[_ngcontent-%COMP%]{margin-right:1vw;height:3rem}.add-car-submit[_ngcontent-%COMP%]{margin:2vh auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:3vh 1vw .5vh 1vw}.err[_ngcontent-%COMP%]{color:red;text-align:center}.alert-window[_ngcontent-%COMP%]{width:100vw;height:100vw;background-color:#fff;opacity:.9;position:fixed;top:0;left:0;text-align:center;padding-top:40vh}.add-car-photo[_ngcontent-%COMP%]{height:5vw;width:auto;align-items:center}"]}),n})();const oP=function(){return["/search"]},aP=function(){return["/add-car"]},uP=function(){return["/contact"]};let cP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-header"]],decls:13,vars:6,consts:[[1,"container"],[1,"search"],[1,"btn","header-btn",3,"routerLink"],["type","text",1,"input","header-input"],[1,"add-car"],[1,"contact"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"header")(2,"div",1)(3,"button",2),f._uU(4,"\u041f\u043e\u0448\u0443\u043a \u0430\u0432\u0442\u043e"),f.qZA(),f._UZ(5,"input",3),f.qZA(),f.TgZ(6,"div",4)(7,"button",2),f._uU(8,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0430\u0432\u0442\u043e"),f.qZA()(),f.TgZ(9,"div",5)(10,"button",2),f._uU(11,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"),f.qZA()()(),f._UZ(12,"app-main"),f.qZA()),2&t&&(f.xp6(3),f.Q6J("routerLink",f.DdM(3,oP)),f.xp6(4),f.Q6J("routerLink",f.DdM(4,aP)),f.xp6(3),f.Q6J("routerLink",f.DdM(5,uP)))},dependencies:[Jd,sP],styles:[".container[_ngcontent-%COMP%]{--orange-color: #fea866;--brown-color: #fec192;--gray-color: rgb(241, 241, 241);background-color:var(--orange-color);font-size:18px;height:100vh}.hidden[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:block}.input[_ngcontent-%COMP%]{border-radius:10px;border:none;font-size:1rem;height:2rem;outline:none;padding-left:.8rem}.btn[_ngcontent-%COMP%]{border-radius:7px;border:none;padding:.5rem;font-size:.9rem;cursor:pointer;width:-moz-fit-content;width:fit-content;background-color:var(--gray-color)}.btn[_ngcontent-%COMP%]:disabled{background-color:#787878}.textarea[_ngcontent-%COMP%]{border-radius:7px;border:none;outline:none;padding:1vh;font-size:1.1rem}.label[_ngcontent-%COMP%]{margin:0 .5vw 0 2vw}header[_ngcontent-%COMP%]{display:flex;align-items:baseline;background-color:var(--orange-color)}.search[_ngcontent-%COMP%]{display:flex;align-items:baseline;width:35%;padding-left:5%}.header-input[_ngcontent-%COMP%]{margin:1vw}.header-btn[_ngcontent-%COMP%]{height:2.5rem}.header-btn[_ngcontent-%COMP%]:focus{background-color:gray}.add-car[_ngcontent-%COMP%]{padding-left:5%;border-right:1px solid white;border-left:1px solid white;width:18%}.contact[_ngcontent-%COMP%]{padding-left:5%}.main[_ngcontent-%COMP%]{background-color:var(--brown-color);padding:1vw}.search-container[_ngcontent-%COMP%]{position:relative}.car-show[_ngcontent-%COMP%]{margin:1vw;padding:1vw;background-color:#f7d8c1}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:0;margin:0}.add-info[_ngcontent-%COMP%]{margin:0 2vw}.window[_ngcontent-%COMP%]{width:92vw;height:auto;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.textarea-window[_ngcontent-%COMP%]{width:98%;height:50vh}.btn-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:2vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.btn-box[_ngcontent-%COMP%]{display:flex}.btn-save[_ngcontent-%COMP%]{margin:2vh 0 0 40vw;background-color:#fff;border:rgb(169,168,168) solid 1px}.input-file[_ngcontent-%COMP%]{display:none}.add-photo[_ngcontent-%COMP%]{background-color:#fff;border:rgb(169,168,168) solid 1px;height:-moz-fit-content;height:fit-content;padding:.8rem}.window-photo[_ngcontent-%COMP%]{width:8vw;height:8vw;margin-left:1vw}.watch-car-window[_ngcontent-%COMP%]{width:92vw;height:-moz-fit-content;height:fit-content;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.watch-car-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1vw;background-color:var(--gray-color)}.watch-car-text[_ngcontent-%COMP%]{width:60vw}.watch-car-title[_ngcontent-%COMP%]{font-size:2.5rem;text-align:center;margin:0}.watch-car-info[_ngcontent-%COMP%]{font-size:1.5rem}.photo-watch-car[_ngcontent-%COMP%]{width:20vw;height:auto;box-shadow:0 0 15px #5c5c5c}.watch-car-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:1vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.details[_ngcontent-%COMP%]{padding:1vw}.photo-detail[_ngcontent-%COMP%]{margin:.5vw;width:5vw;height:5vw}.photo-detail[_ngcontent-%COMP%]:active{position:fixed;top:2vw;left:2vw;width:92vw;height:auto}.add-car-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name-color-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.image-box[_ngcontent-%COMP%]{margin-top:3vh;padding-top:2vh;display:flex;align-items:center;border:1px solid var(--orange-color)}.add-photo-text[_ngcontent-%COMP%]{width:30vw;margin:0 1vw}.add-photo-btn[_ngcontent-%COMP%]{margin-right:1vw;height:3rem}.add-car-submit[_ngcontent-%COMP%]{margin:2vh auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:3vh 1vw .5vh 1vw}.err[_ngcontent-%COMP%]{color:red;text-align:center}.alert-window[_ngcontent-%COMP%]{width:100vw;height:100vw;background-color:#fff;opacity:.9;position:fixed;top:0;left:0;text-align:center;padding-top:40vh}.add-car-photo[_ngcontent-%COMP%]{height:5vw;width:auto;align-items:center}"]}),n})(),lP=(()=>{class n{constructor(){this.title="car-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"app-header")},dependencies:[cP],styles:[".container[_ngcontent-%COMP%]{--orange-color: #fea866;--brown-color: #fec192;--gray-color: rgb(241, 241, 241);background-color:var(--orange-color);font-size:18px;height:100vh}.hidden[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:block}.input[_ngcontent-%COMP%]{border-radius:10px;border:none;font-size:1rem;height:2rem;outline:none;padding-left:.8rem}.btn[_ngcontent-%COMP%]{border-radius:7px;border:none;padding:.5rem;font-size:.9rem;cursor:pointer;width:-moz-fit-content;width:fit-content;background-color:var(--gray-color)}.btn[_ngcontent-%COMP%]:disabled{background-color:#787878}.textarea[_ngcontent-%COMP%]{border-radius:7px;border:none;outline:none;padding:1vh;font-size:1.1rem}.label[_ngcontent-%COMP%]{margin:0 .5vw 0 2vw}header[_ngcontent-%COMP%]{display:flex;align-items:baseline;background-color:var(--orange-color)}.search[_ngcontent-%COMP%]{display:flex;align-items:baseline;width:35%;padding-left:5%}.header-input[_ngcontent-%COMP%]{margin:1vw}.header-btn[_ngcontent-%COMP%]{height:2.5rem}.header-btn[_ngcontent-%COMP%]:focus{background-color:gray}.add-car[_ngcontent-%COMP%]{padding-left:5%;border-right:1px solid white;border-left:1px solid white;width:18%}.contact[_ngcontent-%COMP%]{padding-left:5%}.main[_ngcontent-%COMP%]{background-color:var(--brown-color);padding:1vw}.search-container[_ngcontent-%COMP%]{position:relative}.car-show[_ngcontent-%COMP%]{margin:1vw;padding:1vw;background-color:#f7d8c1}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:0;margin:0}.add-info[_ngcontent-%COMP%]{margin:0 2vw}.window[_ngcontent-%COMP%]{width:92vw;height:auto;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.textarea-window[_ngcontent-%COMP%]{width:98%;height:50vh}.btn-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:2vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.btn-box[_ngcontent-%COMP%]{display:flex}.btn-save[_ngcontent-%COMP%]{margin:2vh 0 0 40vw;background-color:#fff;border:rgb(169,168,168) solid 1px}.input-file[_ngcontent-%COMP%]{display:none}.add-photo[_ngcontent-%COMP%]{background-color:#fff;border:rgb(169,168,168) solid 1px;height:-moz-fit-content;height:fit-content;padding:.8rem}.window-photo[_ngcontent-%COMP%]{width:8vw;height:8vw;margin-left:1vw}.watch-car-window[_ngcontent-%COMP%]{width:92vw;height:-moz-fit-content;height:fit-content;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.watch-car-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1vw;background-color:var(--gray-color)}.watch-car-text[_ngcontent-%COMP%]{width:60vw}.watch-car-title[_ngcontent-%COMP%]{font-size:2.5rem;text-align:center;margin:0}.watch-car-info[_ngcontent-%COMP%]{font-size:1.5rem}.photo-watch-car[_ngcontent-%COMP%]{width:20vw;height:auto;box-shadow:0 0 15px #5c5c5c}.watch-car-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:1vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.details[_ngcontent-%COMP%]{padding:1vw}.photo-detail[_ngcontent-%COMP%]{margin:.5vw;width:5vw;height:5vw}.photo-detail[_ngcontent-%COMP%]:active{position:fixed;top:2vw;left:2vw;width:92vw;height:auto}.add-car-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name-color-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.image-box[_ngcontent-%COMP%]{margin-top:3vh;padding-top:2vh;display:flex;align-items:center;border:1px solid var(--orange-color)}.add-photo-text[_ngcontent-%COMP%]{width:30vw;margin:0 1vw}.add-photo-btn[_ngcontent-%COMP%]{margin-right:1vw;height:3rem}.add-car-submit[_ngcontent-%COMP%]{margin:2vh auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:3vh 1vw .5vh 1vw}.err[_ngcontent-%COMP%]{color:red;text-align:center}.alert-window[_ngcontent-%COMP%]{width:100vw;height:100vw;background-color:#fff;opacity:.9;position:fixed;top:0;left:0;text-align:center;padding-top:40vh}.add-car-photo[_ngcontent-%COMP%]{height:5vw;width:auto;align-items:center}"]}),n})();var ou=k(2011),dP=k(4986),Ii=k(5813);function ZT(){return(0,hr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Wn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function fP(n,e){return n===e}k(2476);var pP=k(3942);function KT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function nx(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function rx(){if(!function Qb(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}class N0{constructor(e){this._delegate=e}static fromBase64String(e){return rx(),new N0(bc.fromBase64String(e))}static fromUint8Array(e){return nx(),new N0(bc.fromUint8Array(e))}toBase64(){return rx(),this._delegate.toBase64()}toUint8Array(){return nx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YT(n){return function yP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class vP{enableIndexedDbPersistence(e,t){return function hO(n,e){TS(n=Qt(n,Qn));const t=Or(n),r=n._freezeSettings(),o=new Pp;return DS(t,o,new py(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function fO(n){TS(n=Qt(n,Qn));const e=Or(n),t=n._freezeSettings(),r=new Pp;return DS(e,r,new I0(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pO(n){if(n._initialized&&!n._terminated)throw new Me(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!lo.C())return Promise.resolve();const o=r+"main";yield lo.delete(o)}),function(r){return t.apply(this,arguments)})(ry(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ix{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof cc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ka("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function aO(n,e,t,r={}){var o;const u=(n=Qt(n,E0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Ka("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=fr.MOCK_USER;else{d=(0,Xt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Me(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new fr(w)}n._authCredentials=new Wb(new Gb(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function mO(n){return function Xx(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield dS(n),t=yield hS(n);return e.setNetworkEnabled(!0),function(r){const o=We(r);return o._u.delete(0),ds(o)}(t)}))}(Or(n=Qt(n,Qn)))}(this._delegate)}disableNetwork(){return function yO(n){return function eO(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield dS(n),t=yield hS(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const u=We(o);u._u.add(0),yield Cp(u),u.gu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Or(n=Qt(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gO(n){return function(e){const t=new pr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function uS(n,e){return oE.apply(this,arguments)}(yield hT(e),t)})),t.promise}(Or(n=Qt(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function qO(n,e){return function rO(n,e){const t=new Fh(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield my(n),o=t,We(r).Ru.add(o),void o.next();var r,o})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield my(n),o=t,void We(r).Ru.delete(o);var r,o}))}}(Or(n=Qt(n,Qn)),mT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wy(this,gT(this._delegate,e))}catch(t){throw fs(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,Rp(this._delegate,e))}catch(t){throw fs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ps(this,function uO(n,e){if(n=Qt(n,E0),pT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gi(n,null,(t=e,new Xo(qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function KO(n,e,t){n=Qt(n,Qn);const r=Object.assign(Object.assign({},UO),t);return function(o){if(o.maxAttempts<1)throw new Me(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function iO(n,e,t){const r=new pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const o=yield(u=n,cE(u).then(d=>d.datastore));var u;new Qx(n.asyncQueue,o,t,e,r).run()})),r.promise}(Or(n),o=>e(new ZO(n,o)),r)}(this._delegate,t=>e(new sx(this,t)))}batch(){return Or(this._delegate),new ox(new HS(this._delegate,e=>yy(this._delegate,e)))}loadBundle(e){return function vO(n,e){const t=Or(n=Qt(n,Qn)),r=new lO;return function sO(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,b){if(w instanceof Uint8Array)return gy(w,b);if(w instanceof ArrayBuffer)return gy(new Uint8Array(w),b);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Kx(w,d);var w}(t,Rh(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function C0(n,e,t){const r=We(n);var o;(o=(0,ye.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function(H,Q){const ae=We(H),Oe=Sr(Q.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",Le=>ae.Ns.getBundleMetadata(Le,Q.id)).then(Le=>!!Le&&Le.createTime.compareTo(Oe)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(H=w).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);m._updateProgress(JI(w));const b=new nT(w,u.localStore,d.It);let S=yield d.wc();for(;S;){const H=yield b.Ou(S);H&&m._updateProgress(H),S=yield d.wc()}const O=yield b.complete();return yield c(u,O.Bu,void 0),yield function(H,Q){const ae=We(H);return ae.persistence.runTransaction("Save bundle","readwrite",Oe=>ae.Ns.saveBundleMetadata(Oe,Q))}(u.localStore,w),m._completeWith(O.progress),Promise.resolve(O.$u)}catch(w){return Ka("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var H}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield hT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function _O(n,e){return function oO(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=We(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ns.getNamedQuery(u,r))}(yield lE(n),e)}))}(Or(n=Qt(n,Qn)),e).then(t=>t?new Gi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ps(this,t):null)}}class NE extends IT{constructor(e){super(),this.firestore=e}convertBytes(e){return new N0(new bc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class sx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new NE(e)}get(e){const t=Hp(e);return this._delegate.get(t).then(r=>new k0(this._firestore,new rd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Hp(e);return r?(KT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Hp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Hp(e);return this._delegate.delete(t),this}}class ox{constructor(e){this._delegate=e}set(e,t,r){const o=Hp(e);return r?(KT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Hp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Hp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $p{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new T0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new F0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$p.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new $p(e,new NE(e),t),o.set(t,u)),u}}$p.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new NE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new Bn(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new sa(t,new Bn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wy(this.firestore,gT(this._delegate,e))}catch(t){throw fs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Bn&&CS(this._delegate,e)}set(e,t){t=KT("DocumentReference.set",t);try{return t?ET(this._delegate,e,t):ET(this._delegate,e)}catch(r){throw fs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?bT(this._delegate,e):bT(this._delegate,e,t,...r)}catch(o){throw fs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function zO(n){return yy(Qt(n.firestore,Qn),[new pc(n._key,En.none())])}(this._delegate)}onSnapshot(...e){const t=ax(e),r=ux(e,o=>new k0(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return WS(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function jO(n){n=Qt(n,Bn);const e=Qt(n.firestore,Qn),t=Or(e),r=new Vp(e);return function tO(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,d){try{const m=yield function(w,b){const S=We(w);return S.persistence.runTransaction("read document","readonly",O=>S.localDocuments.getDocument(O,b))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Me(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=td(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield lE(n),e,t);var r})),t.promise}(t,n._key).then(o=>new rd(e,r,n._key,o,new Lp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $O(n){n=Qt(n,Bn);const e=Qt(n.firestore,Qn);return fS(Or(e),n._key,{source:"server"}).then(t=>DT(e,n,t))}(this._delegate):GS(this._delegate),t.then(r=>new k0(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}function fs(n,e,t){return n.message=n.message.replace(e,t),n}function ax(n){for(const e of n)if("object"==typeof e&&!YT(e))return e;return{}}function ux(n,e){var t,r;let o;return o=YT(n[0])?n[0]:YT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class k0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NS(this._delegate,e._delegate)}}class F0 extends k0{data(e){const t=this._delegate.data(e);return function fC(n,e){n||Je()}(void 0!==t),t}}class ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new NE(e)}where(e,t,r){try{return new ps(this.firestore,Vh(this._delegate,function xO(n,e,t){const r=e,o=yE("where",n);return new MO(o,r,t)}(e,t,r)))}catch(o){throw fs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ps(this.firestore,Vh(this._delegate,function PO(n,e="asc"){const t=e,r=yE("orderBy",n);return new OO(r,t)}(e,t)))}catch(r){throw fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ps(this.firestore,Vh(this._delegate,function RO(n){return _S("limit",n),new FS("limit",n,"F")}(e)))}catch(t){throw fs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ps(this.firestore,Vh(this._delegate,function NO(n){return _S("limitToLast",n),new FS("limitToLast",n,"L")}(e)))}catch(t){throw fs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ps(this.firestore,Vh(this._delegate,function kO(...n){return new LS("startAt",n,!0)}(...e)))}catch(t){throw fs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ps(this.firestore,Vh(this._delegate,function FO(...n){return new LS("startAfter",n,!1)}(...e)))}catch(t){throw fs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ps(this.firestore,Vh(this._delegate,function LO(...n){return new VS("endBefore",n,!1)}(...e)))}catch(t){throw fs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ps(this.firestore,Vh(this._delegate,function VO(...n){return new VS("endAt",n,!0)}(...e)))}catch(t){throw fs(t,"endAt()","Query.endAt()")}}isEqual(e){return IS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function HO(n){n=Qt(n,Gi);const e=Qt(n.firestore,Qn),t=Or(e),r=new Vp(e);return function nO(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,d){try{const m=yield H_(o,u,!0),w=new m0(u,m.Hi),b=w.ju(m.documents),S=w.applyChanges(b,!1);d.resolve(S.snapshot)}catch(m){const w=td(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield lE(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Lh(e,r,n,o))}(this._delegate):"server"===e?.source?function GO(n){n=Qt(n,Gi);const e=Qt(n.firestore,Qn),t=Or(e),r=new Vp(e);return pS(t,n._query,{source:"server"}).then(o=>new Lh(e,r,n,o))}(this._delegate):zS(this._delegate),t.then(r=>new QT(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ax(e),r=ux(e,o=>new QT(this.firestore,new Lh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return WS(this._delegate,t,r)}withConverter(e){return new ps(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}class wP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new F0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new F0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new F0(this._firestore,r))})}isEqual(e){return NS(this._delegate,e._delegate)}}class wy extends ps{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?Rp(this._delegate):Rp(this._delegate,e))}catch(t){throw fs(t,"doc()","CollectionReference.doc()")}}add(e){return function WO(n,e){const t=Qt(n.firestore,Qn),r=Rp(n),o=vE(n.converter,e);return yy(t,[pE(kp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return CS(this._delegate,e._delegate)}withConverter(e){return new wy(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}function Hp(n){return Qt(n,Bn)}class JT{constructor(...e){this._delegate=new nd(...e)}static documentId(){return new JT(rr.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof nd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function QO(){return new yT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gp(e)}static delete(){const e=function YO(){return new b0("deleteField")}();return e._methodName="FieldValue.delete",new Gp(e)}static arrayUnion(...e){const t=qS(...e);return t._methodName="FieldValue.arrayUnion",new Gp(t)}static arrayRemove(...e){const t=function JO(...n){return new bO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gp(t)}static increment(e){const t=function XO(n){return new DO("increment",n)}(e);return t._methodName="FieldValue.increment",new Gp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const CP={Firestore:ix,GeoPoint:hE,Timestamp:Mn,Blob:N0,Transaction:sx,WriteBatch:ox,DocumentReference:sa,DocumentSnapshot:k0,Query:ps,QueryDocumentSnapshot:F0,QuerySnapshot:QT,CollectionReference:wy,FieldPath:JT,FieldValue:Gp,setLogLevel:function _P(n){!function Hb(n){Za.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function EP(n){(function IP(n,e){n.INTERNAL.registerComponent(new Tf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},CP)))})(n,(e,t)=>new ix(e,t,new vP)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(pP.Z);var bP=k(6451),kE=k(5363),DP=k(6063);class TP extends Kr.x{constructor(e=1/0,t=1/0,r=DP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var AP=k(3099);function cx(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,AP.B)({connector:()=>new TP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function lx(n,e){return(0,Lo.m)(e)?Fn(()=>n,e):Fn(()=>n)}var XT=k(9468);const dx=new Map,PP={activated:!1,tokenObservers:[]},RP={initialized:!1,enabled:!1};function ri(n){return dx.get(n)||PP}function au(n,e){dx.set(n,e)}function LE(){return RP}class VP{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function UP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gs=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fx(n){if(!ri(n).activated)throw gs.create("use-before-activation",{appName:n.name})}function rA(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,ye.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const Q=yield d.getHeartbeatsHeader();Q&&(u["X-Firebase-Client"]=Q)}const m={method:"POST",body:JSON.stringify(e),headers:u};let w,b;try{w=yield fetch(n,m)}catch(Q){throw gs.create("fetch-network-error",{originalErrorMessage:null===(r=Q)||void 0===r?void 0:r.message})}if(200!==w.status)throw gs.create("fetch-status-error",{httpStatus:w.status});try{b=yield w.json()}catch(Q){throw gs.create("fetch-parse-error",{originalErrorMessage:null===(o=Q)||void 0===o?void 0:o.message})}const S=b.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const O=1e3*Number(S[1]),H=Date.now();return{token:b.token,expireTimeMillis:H+O,issuedAtTimeMillis:H}}),iA.apply(this,arguments)}function HP(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const L0="firebase-app-check-store";let BE=null;function gx(){return BE||(BE=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(gs.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(L0,{keyPath:"compositeKey"})}}catch(r){e(gs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),BE)}function sA(){return sA=(0,ye.Z)(function*(n,e){const r=(yield gx()).transaction(L0,"readwrite"),u=r.objectStore(L0).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var b;m(gs.create("storage-set",{originalErrorMessage:null===(b=w.target.error)||void 0===b?void 0:b.message}))}})}),sA.apply(this,arguments)}const V0=new Zu.Yd("@firebase/app-check");function _x(n,e){return(0,Xt.hl)()?function qP(n,e){return function mx(n,e){return sA.apply(this,arguments)}(function vx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{V0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wx(){return LE().enabled}function Cx(){return cA.apply(this,arguments)}function cA(){return cA=(0,ye.Z)(function*(){const n=LE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cA.apply(this,arguments)}const XP={error:"UNKNOWN_ERROR"};function eR(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function jE(n){return lA.apply(this,arguments)}function lA(){return lA=(0,ye.Z)(function*(n,e=!1){const t=n.app;fx(t);const r=ri(t);let u,o=r.token;if(!o){const w=yield r.cachedTokenPromise;w&&$E(w)&&(o=w)}if(!e&&o&&$E(o))return{token:o.token};let m,d=!1;if(wx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rA(HP(t,yield Cx()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),d=!0);const w=yield r.exchangeTokenPromise;return yield _x(t,w),au(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0),o=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?V0.warn(w.message):V0.error(w),u=w}return o?(m={token:o.token},au(t,Object.assign(Object.assign({},r),{token:o})),yield _x(t,o)):m=nR(u),d&&Ex(t,m),m}),lA.apply(this,arguments)}function hA(n,e){const t=ri(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),au(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Ix(n){const{app:e}=n,t=ri(e);let r=t.tokenRefresher;r||(r=function tR(n){const{app:e}=n;return new VP((0,ye.Z)(function*(){let r;if(r=ri(e).token?yield jE(n,!0):yield jE(n),r.error)throw r.error}),()=>!0,()=>{const t=ri(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),au(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ex(n,e){const t=ri(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function $E(n){return n.expireTimeMillis-Date.now()>0}function nR(n){return{token:eR(XP),error:n}}class rR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ri(this.app);for(const t of e)hA(this.app,t.next);return Promise.resolve()}}const Ox="app-check-internal";!function yR(){(0,ja._registerComponent)(new Tf.wA("app-check",n=>function iR(n,e){return new rR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ox).initialize()})),(0,ja._registerComponent)(new Tf.wA(Ox,n=>function sR(n){return{getToken:e=>jE(n,e),addTokenListener:e=>function dA(n,e,t,r){const{app:o}=n,u=ri(o),d={next:t,error:r,type:e};if(au(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&$E(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),Ix(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Ix(n))}(n,"INTERNAL",e),removeTokenListener:e=>hA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ja.registerVersion)("@firebase/app-check","0.5.12")}();class mA{constructor(){return(0,Ii.vb)("app-check")}}typeof window<"u"&&window;var IR=k(127);const Rx=new f.OlP("angularfire2.auth.use-emulator"),Nx=new f.OlP("angularfire2.auth.settings"),kx=new f.OlP("angularfire2.auth.tenant-id"),Fx=new f.OlP("angularfire2.auth.langugage-code"),Lx=new f.OlP("angularfire2.auth.use-device-language"),Vx=new f.OlP("angularfire.auth.persistence"),Ux=(n,e,t,r,o,u,d,m)=>(0,ou.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,u&&w.useDeviceLanguage(),d)for(const[b,S]of Object.entries(d))w.settings[b]=S;return m&&w.setPersistence(m),w},[t,r,o,u,d,m]);let Bx=(()=>{class n{constructor(t,r,o,u,d,m,w,b,S,O,H,Q){const ae=new Kr.x,Oe=rt(void 0).pipe((0,kE.Q)(d.outsideAngular),Fn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2476)))),(0,it.U)(()=>(0,ou.on)(t,u,r)),(0,it.U)(Le=>Ux(Le,u,m,b,S,O,w,H)),cx({bufferSize:1,refCount:!1}));if(sr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{Oe.pipe(ne()).subscribe();const Et=Oe.pipe(Fn(xt=>xt.getRedirectResult().then(Pt=>Pt,()=>null)),Ii.iC,cx({bufferSize:1,refCount:!1})),Tt=Oe.pipe(Fn(xt=>new Er.y(Pt=>({unsubscribe:u.runOutsideAngular(()=>xt.onAuthStateChanged(jt=>Pt.next(jt),jt=>Pt.error(jt),()=>Pt.complete()))})))),Lt=Oe.pipe(Fn(xt=>new Er.y(Pt=>({unsubscribe:u.runOutsideAngular(()=>xt.onIdTokenChanged(jt=>Pt.next(jt),jt=>Pt.error(jt),()=>Pt.complete()))}))));this.authState=Et.pipe(lx(Tt),(0,XT.R)(d.outsideAngular),(0,kE.Q)(d.insideAngular)),this.user=Et.pipe(lx(Lt),(0,XT.R)(d.outsideAngular),(0,kE.Q)(d.insideAngular)),this.idToken=this.user.pipe(Fn(xt=>xt?(0,rn.D)(xt.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(Fn(xt=>xt?(0,rn.D)(xt.getIdTokenResult()):rt(null))),this.credential=(0,bP.T)(Et,ae,this.authState.pipe(E(xt=>!xt))).pipe((0,it.U)(xt=>xt?.user?xt:null),(0,XT.R)(d.outsideAngular),(0,kE.Q)(d.insideAngular))}return(0,ou.pX)(this,Oe,u,{spy:{apply:(Le,Et,Tt)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&Tt.then(Lt=>ae.next(Lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ou.Dh),f.LFG(ou.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ii.HU),f.LFG(Rx,8),f.LFG(Nx,8),f.LFG(kx,8),f.LFG(Fx,8),f.LFG(Lx,8),f.LFG(Vx,8),f.LFG(mA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function jx(n,e){return function bR(n,e=dP.z){return new Er.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function vA(n,e){return jx(n,e).pipe((0,it.U)(t=>({payload:t,type:"query"})))}function GE(n,e){return vA(n,e).pipe(ju(void 0),ZT(),(0,it.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=o.find(S=>S.doc.ref.isEqual(d.ref)),b=t?.payload.docs.find(S=>S.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function $x(n,e,t){return GE(n,t).pipe(wt((r,o)=>function TR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function AR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _A(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _A(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _A(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function hP(n,e=Ms.y){return n=n??fP,(0,hr.e)((t,r)=>{let o,u=!0;t.subscribe((0,Wn.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,it.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function _A(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Hx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Gx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=GE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,it.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(ju(void 0),ZT(),E(([r,o])=>o.length>0||!r),(0,it.U)(([r,o])=>o),Ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(wt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Hx(e);return $x(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}valueChanges(e={}){return vA(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ii.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Ii.iC)}add(e){return this.ref.add(e)}doc(e){return new zx(this.ref.doc(e),this.afs)}}class zx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=Zx(r,t);return new Gx(o,u,this.afs)}snapshotChanges(){return function DR(n,e){return jx(n,e).pipe(ju(void 0),ZT(),(0,it.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,rn.D)(this.ref.get(e)).pipe(Ii.iC)}}class SR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?GE(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),E(t=>t.length>0),Ii.iC):GE(this.query,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(wt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Hx(e);return $x(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}valueChanges(e={}){return vA(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ii.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Ii.iC)}}const Wx=new f.OlP("angularfire2.enableFirestorePersistence"),qx=new f.OlP("angularfire2.firestore.persistenceSettings"),MR=new f.OlP("angularfire2.firestore.settings"),xR=new f.OlP("angularfire2.firestore.use-emulator");function Zx(n,e=(t=>t)){return{query:e(n),ref:n}}let OR=(()=>{class n{constructor(t,r,o,u,d,m,w,b,S,O,H,Q,ae,Oe,Le,Et,Tt){this.schedulers=w;const Lt=(0,ou.on)(t,m,r),xt=S;O&&Ux(Lt,m,H,ae,Oe,Le,Q,Et),[this.firestore,this.persistenceEnabled$]=(0,ou.cc)(`${Lt.name}.firestore`,"AngularFirestore",Lt.name,()=>{const Pt=m.runOutsideAngular(()=>Lt.firestore());if(u&&Pt.settings(u),xt&&Pt.useEmulator(...xt),o&&!sr(d)){const jt=()=>{try{return(0,rn.D)(Pt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Hr){return typeof console<"u"&&console.warn(Hr),rt(!1)}};return[Pt,m.runOutsideAngular(jt)]}return[Pt,rt(!1)]},[u,xt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=Zx(o,r),m=this.schedulers.ngZone.run(()=>u);return new Gx(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new SR(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new zx(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ou.Dh),f.LFG(ou.xv,8),f.LFG(Wx,8),f.LFG(MR,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ii.HU),f.LFG(qx,8),f.LFG(xR,8),f.LFG(Bx,8),f.LFG(Rx,8),f.LFG(Nx,8),f.LFG(kx,8),f.LFG(Fx,8),f.LFG(Lx,8),f.LFG(Vx,8),f.LFG(mA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),PR=(()=>{class n{constructor(){IR.Z.registerVersion("angularfire",Ii.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Wx,useValue:!0},{provide:qx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[OR]}),n})();function RR(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",14),f._UZ(1,"img",15),f.TgZ(2,"button",16),f.NdJ("click",function(){const u=f.CHM(t).$implicit,d=f.oxw();return f.KtG(d.removeImg(u))}),f._uU(3,"x"),f.qZA()()}if(2&n){const t=e.$implicit;f.xp6(1),f.s9C("src",t,f.LSH)}}let NR=(()=>{class n{constructor(t,r,o){this.service=t,this.asd=r,this.fb=o,this.urls=[]}ngOnInit(){this.form=this.fb.group({kilometrage:["",Bp.required],date:["",Bp.required],info:["",Bp.required],photo:[]})}addPhoto(t){if(t.target.files[0]&&null!=t.target.files[0].type.match(/image\/*/)){let r=new FileReader;r.readAsDataURL(t.target.files[0]),r.onload=o=>{this.urls.push(o.target.result)}}}submit(){this.form.value.photo&&(this.form.value.photo=this.urls),this.service.addDetails(this.form.value),this.close()}close(){this.asd.activWindow=!1}removeImg(t){this.urls=this.urls.filter(r=>r!=t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(CE),f.Y36(IE),f.Y36(eP))},n.\u0275cmp=f.Xpm({type:n,selectors:[["add-details-window"]],decls:22,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"window"],["for","kilometrage",1,"label"],["type","text","name","kilometrage","formControlName","kilometrage",1,"input"],["for","date",1,"label"],["type","date","name","date","formControlName","date",1,"input"],["name","info","formControlName","info",1,"textarea-window","textarea"],[1,"btn-box"],["type","file","accept","image/*","formControlName","photo","multiple","",1,"input-file",3,"change"],["file",""],["type","button",1,"add-photo","btn",3,"click"],["class","upload-images",4,"ngFor","ngForOf"],["type","submit",1,"btn-save","btn",3,"disabled"],[1,"btn-close","btn",3,"click"],[1,"upload-images"],["alt","\u0444\u043e\u0442\u043e \u043d\u0435 \u043f\u0440\u0438\u043a\u0440\u0456\u043f\u043b\u0435\u043d\u0435",1,"window-photo",3,"src"],["type","button",1,"remove-img",3,"click"]],template:function(t,r){if(1&t){const o=f.EpF();f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return r.submit()}),f.TgZ(1,"div",1)(2,"label",2),f._uU(3,"\u041a\u0456\u043b\u043e\u043c\u0435\u0442\u0440\u0430\u0436:"),f.qZA(),f._UZ(4,"input",3),f.TgZ(5,"label",4),f._uU(6,"\u0414\u0430\u0442\u0430:"),f.qZA(),f._UZ(7,"input",5)(8,"hr"),f.TgZ(9,"p"),f._uU(10,"\u0420\u043e\u0431\u043e\u0442\u0438 \u0449\u043e \u0432\u0438\u043a\u043e\u043d\u0443\u0432\u0430\u043b\u0438\u0441\u044f:"),f.qZA(),f._UZ(11,"textarea",6),f.TgZ(12,"div",7)(13,"input",8,9),f.NdJ("change",function(d){return r.addPhoto(d)}),f.qZA(),f.TgZ(15,"button",10),f.NdJ("click",function(){f.CHM(o);const d=f.MAs(14);return f.KtG(d.click())}),f._uU(16,"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"),f.qZA(),f.YNc(17,RR,4,1,"div",11),f.qZA(),f.TgZ(18,"button",12),f._uU(19,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),f.qZA(),f.TgZ(20,"button",13),f.NdJ("click",function(){return r.close()}),f._uU(21,"x"),f.qZA()()()}2&t&&(f.Q6J("formGroup",r.form),f.xp6(17),f.Q6J("ngForOf",r.urls),f.xp6(1),f.Q6J("disabled",r.form.invalid))},dependencies:[Zi,BT,S0,MT,xT,R0,RE],styles:[".container[_ngcontent-%COMP%]{--orange-color: #fea866;--brown-color: #fec192;--gray-color: rgb(241, 241, 241);background-color:var(--orange-color);font-size:18px;height:100vh}.hidden[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:block}.input[_ngcontent-%COMP%]{border-radius:10px;border:none;font-size:1rem;height:2rem;outline:none;padding-left:.8rem}.btn[_ngcontent-%COMP%]{border-radius:7px;border:none;padding:.5rem;font-size:.9rem;cursor:pointer;width:-moz-fit-content;width:fit-content;background-color:var(--gray-color)}.btn[_ngcontent-%COMP%]:disabled{background-color:#787878}.textarea[_ngcontent-%COMP%]{border-radius:7px;border:none;outline:none;padding:1vh;font-size:1.1rem}.label[_ngcontent-%COMP%]{margin:0 .5vw 0 2vw}header[_ngcontent-%COMP%]{display:flex;align-items:baseline;background-color:var(--orange-color)}.search[_ngcontent-%COMP%]{display:flex;align-items:baseline;width:35%;padding-left:5%}.header-input[_ngcontent-%COMP%]{margin:1vw}.header-btn[_ngcontent-%COMP%]{height:2.5rem}.header-btn[_ngcontent-%COMP%]:focus{background-color:gray}.add-car[_ngcontent-%COMP%]{padding-left:5%;border-right:1px solid white;border-left:1px solid white;width:18%}.contact[_ngcontent-%COMP%]{padding-left:5%}.main[_ngcontent-%COMP%]{background-color:var(--brown-color);padding:1vw}.search-container[_ngcontent-%COMP%]{position:relative}.car-show[_ngcontent-%COMP%]{margin:1vw;padding:1vw;background-color:#f7d8c1}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:0;margin:0}.add-info[_ngcontent-%COMP%]{margin:0 2vw}.window[_ngcontent-%COMP%]{width:92vw;height:auto;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.textarea-window[_ngcontent-%COMP%]{width:98%;height:50vh}.btn-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:2vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.btn-box[_ngcontent-%COMP%]{display:flex}.btn-save[_ngcontent-%COMP%]{margin:2vh 0 0 40vw;background-color:#fff;border:rgb(169,168,168) solid 1px}.input-file[_ngcontent-%COMP%]{display:none}.add-photo[_ngcontent-%COMP%]{background-color:#fff;border:rgb(169,168,168) solid 1px;height:-moz-fit-content;height:fit-content;padding:.8rem}.window-photo[_ngcontent-%COMP%]{width:8vw;height:8vw;margin-left:1vw}.watch-car-window[_ngcontent-%COMP%]{width:92vw;height:-moz-fit-content;height:fit-content;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.watch-car-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1vw;background-color:var(--gray-color)}.watch-car-text[_ngcontent-%COMP%]{width:60vw}.watch-car-title[_ngcontent-%COMP%]{font-size:2.5rem;text-align:center;margin:0}.watch-car-info[_ngcontent-%COMP%]{font-size:1.5rem}.photo-watch-car[_ngcontent-%COMP%]{width:20vw;height:auto;box-shadow:0 0 15px #5c5c5c}.watch-car-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:1vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.details[_ngcontent-%COMP%]{padding:1vw}.photo-detail[_ngcontent-%COMP%]{margin:.5vw;width:5vw;height:5vw}.photo-detail[_ngcontent-%COMP%]:active{position:fixed;top:2vw;left:2vw;width:92vw;height:auto}.add-car-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name-color-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.image-box[_ngcontent-%COMP%]{margin-top:3vh;padding-top:2vh;display:flex;align-items:center;border:1px solid var(--orange-color)}.add-photo-text[_ngcontent-%COMP%]{width:30vw;margin:0 1vw}.add-photo-btn[_ngcontent-%COMP%]{margin-right:1vw;height:3rem}.add-car-submit[_ngcontent-%COMP%]{margin:2vh auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:3vh 1vw .5vh 1vw}.err[_ngcontent-%COMP%]{color:red;text-align:center}.alert-window[_ngcontent-%COMP%]{width:100vw;height:100vw;background-color:#fff;opacity:.9;position:fixed;top:0;left:0;text-align:center;padding-top:40vh}.add-car-photo[_ngcontent-%COMP%]{height:5vw;width:auto;align-items:center}"]}),n})(),kR=(()=>{class n{constructor(){this.app=(0,_E.ZF)(wE_firebaseConfig),this.db=ES(this.app),this.carDetails=[]}getData(t){var r=this;return(0,ye.Z)(function*(){const o=Rp(r.db,"cars",t.name+" "+t.year+"p"),u=yield GS(o);u.exists()&&r.carDetails.push(u.data())})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FR(n,e){1&n&&f._UZ(0,"img",14),2&n&&f.s9C("src",e.$implicit,f.LSH)}function LR(n,e){if(1&n&&(f.TgZ(0,"div",12),f.YNc(1,FR,1,1,"img",13),f.qZA()),2&n){const t=f.oxw().$implicit;f.xp6(1),f.Q6J("ngForOf",t.photo)}}function VR(n,e){if(1&n&&(f.TgZ(0,"div",8)(1,"fieldset")(2,"legend",9),f._uU(3),f.ALo(4,"number"),f.ALo(5,"date"),f.qZA(),f.TgZ(6,"p",10),f._uU(7),f.qZA(),f.YNc(8,LR,2,1,"div",11),f.qZA()()),2&n){const t=e.$implicit;f.xp6(3),f.AsE("\u041a\u0456\u043b\u043e\u043c\u0435\u0442\u0440\u0430\u0436: ",f.lcZ(4,4,t.kilometrage)," \u0442\u0438\u0441.\u043a\u043c \u2014\u2014 \u0427\u0430\u0441 \u0437\u0430\u043c\u0456\u043d\u0438: ",f.xi3(5,6,t.date,"dd.MM.yyyy")," "),f.xp6(4),f.Oqu(t.info),f.xp6(1),f.Q6J("ngIf",t.photo)}}let UR=(()=>{class n{constructor(t,r,o){this.sc=t,this.serviceFromFirestore=r,this.serviceToFirestore=o}ngOnInit(){this.car=this.serviceToFirestore.car,this.getDetails()}addPhoto(t){if(t.target.files[0]&&null!=t.target.files[0].type.match(/image\/*/)){let r=new FileReader;r.readAsDataURL(t.target.files[0]),r.onload=o=>{this.url=o.target.result}}}close(){this.sc.activWatchCar=!1}getDetails(){var t=this;return(0,ye.Z)(function*(){const r=t.serviceToFirestore.car;yield t.serviceFromFirestore.getData(r);const o=t.serviceFromFirestore.carDetails;for(const u of o)t.details=u.detail.sort((d,m)=>d.date>m.date?1:d.date<m.date?-1:0)})()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(IE),f.Y36(kR),f.Y36(CE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-watch-car"]],decls:11,vars:5,consts:[[1,"watch-car-window"],[1,"watch-car-header"],[1,"watch-car-text"],[1,"watch-car-title"],[1,"watch-car-info"],["alt","\u0444\u043e\u0442\u043e \u043d\u0435 \u043f\u0440\u0438\u043a\u0440\u0456\u043f\u043b\u0435\u043d\u0435",1,"photo-watch-car",3,"src"],["class","details",4,"ngFor","ngForOf"],[1,"watch-car-close","btn",3,"click"],[1,"details"],[1,"detail-field"],[1,"detail-field-text"],["class","box-photo-detail",4,"ngIf"],[1,"box-photo-detail"],["class","photo-detail","alt","photo detail",3,"src",4,"ngFor","ngForOf"],["alt","photo detail",1,"photo-detail",3,"src"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),f._uU(4),f.qZA(),f.TgZ(5,"p",4),f._uU(6),f.qZA()(),f._UZ(7,"img",5),f.qZA(),f.YNc(8,VR,9,9,"div",6),f.TgZ(9,"button",7),f.NdJ("click",function(){return r.close()}),f._uU(10,"x"),f.qZA()()),2&t&&(f.xp6(4),f.AsE("",r.car.name," ",r.car.year,"\u0440.\u0432."),f.xp6(2),f.Oqu(r.car.info),f.xp6(1),f.s9C("src",r.car.photo,f.LSH),f.xp6(1),f.Q6J("ngForOf",r.details))},dependencies:[Zi,kn,Ai,zh],styles:[".container[_ngcontent-%COMP%]{--orange-color: #fea866;--brown-color: #fec192;--gray-color: rgb(241, 241, 241);background-color:var(--orange-color);font-size:18px;height:100vh}.hidden[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:block}.input[_ngcontent-%COMP%]{border-radius:10px;border:none;font-size:1rem;height:2rem;outline:none;padding-left:.8rem}.btn[_ngcontent-%COMP%]{border-radius:7px;border:none;padding:.5rem;font-size:.9rem;cursor:pointer;width:-moz-fit-content;width:fit-content;background-color:var(--gray-color)}.btn[_ngcontent-%COMP%]:disabled{background-color:#787878}.textarea[_ngcontent-%COMP%]{border-radius:7px;border:none;outline:none;padding:1vh;font-size:1.1rem}.label[_ngcontent-%COMP%]{margin:0 .5vw 0 2vw}header[_ngcontent-%COMP%]{display:flex;align-items:baseline;background-color:var(--orange-color)}.search[_ngcontent-%COMP%]{display:flex;align-items:baseline;width:35%;padding-left:5%}.header-input[_ngcontent-%COMP%]{margin:1vw}.header-btn[_ngcontent-%COMP%]{height:2.5rem}.header-btn[_ngcontent-%COMP%]:focus{background-color:gray}.add-car[_ngcontent-%COMP%]{padding-left:5%;border-right:1px solid white;border-left:1px solid white;width:18%}.contact[_ngcontent-%COMP%]{padding-left:5%}.main[_ngcontent-%COMP%]{background-color:var(--brown-color);padding:1vw}.search-container[_ngcontent-%COMP%]{position:relative}.car-show[_ngcontent-%COMP%]{margin:1vw;padding:1vw;background-color:#f7d8c1}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:0;margin:0}.add-info[_ngcontent-%COMP%]{margin:0 2vw}.window[_ngcontent-%COMP%]{width:92vw;height:auto;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.textarea-window[_ngcontent-%COMP%]{width:98%;height:50vh}.btn-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:2vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.btn-box[_ngcontent-%COMP%]{display:flex}.btn-save[_ngcontent-%COMP%]{margin:2vh 0 0 40vw;background-color:#fff;border:rgb(169,168,168) solid 1px}.input-file[_ngcontent-%COMP%]{display:none}.add-photo[_ngcontent-%COMP%]{background-color:#fff;border:rgb(169,168,168) solid 1px;height:-moz-fit-content;height:fit-content;padding:.8rem}.window-photo[_ngcontent-%COMP%]{width:8vw;height:8vw;margin-left:1vw}.watch-car-window[_ngcontent-%COMP%]{width:92vw;height:-moz-fit-content;height:fit-content;position:absolute;top:0;left:1vw;background-color:var(--gray-color);padding:2vw}.watch-car-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1vw;background-color:var(--gray-color)}.watch-car-text[_ngcontent-%COMP%]{width:60vw}.watch-car-title[_ngcontent-%COMP%]{font-size:2.5rem;text-align:center;margin:0}.watch-car-info[_ngcontent-%COMP%]{font-size:1.5rem}.photo-watch-car[_ngcontent-%COMP%]{width:20vw;height:auto;box-shadow:0 0 15px #5c5c5c}.watch-car-close[_ngcontent-%COMP%]{position:absolute;top:1vw;right:1vw;font-size:1.2rem;font-weight:700;border:black solid 1px;padding:2px 5px}.details[_ngcontent-%COMP%]{padding:1vw}.photo-detail[_ngcontent-%COMP%]{margin:.5vw;width:5vw;height:5vw}.photo-detail[_ngcontent-%COMP%]:active{position:fixed;top:2vw;left:2vw;width:92vw;height:auto}.add-car-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name-color-year[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.image-box[_ngcontent-%COMP%]{margin-top:3vh;padding-top:2vh;display:flex;align-items:center;border:1px solid var(--orange-color)}.add-photo-text[_ngcontent-%COMP%]{width:30vw;margin:0 1vw}.add-photo-btn[_ngcontent-%COMP%]{margin-right:1vw;height:3rem}.add-car-submit[_ngcontent-%COMP%]{margin:2vh auto}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:3vh 1vw .5vh 1vw}.err[_ngcontent-%COMP%]{color:red;text-align:center}.alert-window[_ngcontent-%COMP%]{width:100vw;height:100vw;background-color:#fff;opacity:.9;position:fixed;top:0;left:0;text-align:center;padding-top:40vh}.add-car-photo[_ngcontent-%COMP%]{height:5vw;width:auto;align-items:center}"]}),n})(),BR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[lP]}),n.\u0275inj=f.cJS({imports:[Qc,iP,X1,XM,ou.hO.initializeApp(wE_firebaseConfig),PR]}),n})();f.B6R(IE,function(){return[Zi,kn,NR,UR]},[]),(0,f.G48)(),Nu().bootstrapModule(BR).catch(n=>console.error(n))},5867:(ot,De,k)=>{k.d(De,{C6:()=>f.getApps,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=k(9681);(0,f.registerVersion)("firebase","9.10.0","app")},127:(ot,De,k)=>{k.d(De,{Z:()=>f.Z});var f=k(3942);f.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(ot,De,k)=>{k.r(De);var f=k(5861),ee=k(3942),R=k(2090),oe=k(9681),re=k(655),de=k(1877),ue=k(4859);const _e=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new de.Yd("@firebase/auth");function tt(y,...h){Ze.logLevel<=de.in.ERROR&&Ze.error(`Auth (${oe.SDK_VERSION}): ${y}`,...h)}function Te(y,...h){throw je(y,...h)}function ve(y,...h){return je(y,...h)}function Ie(y,h,g){const _=Object.assign(Object.assign({},Qe()),{[h]:g});return new R.LL("auth","Firebase",_).create(h,{appName:y.name})}function Be(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Te(y,"argument-error"),Ie(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...h){if("string"!=typeof y){const g=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(g,..._)}return me.create(y,...h)}function V(y,h,...g){if(!y)throw je(h,...g)}function ge(y){const h="INTERNAL ASSERTION FAILED: "+y;throw tt(h),new Error(h)}function Z(y,h){y||ge(h)}const J=new Map;function ie(y){Z(y instanceof Function,"Expected a class definition");let h=J.get(y);return h?(Z(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,J.set(y,h),h)}function Pe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function lt(){return"http:"===Bt()||"https:"===Bt()}function Bt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class en{constructor(h,g){this.shortDelay=h,this.longDelay=g,Z(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bn(y,h){Z(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Ht{static initialize(h,g,_){this.fetchImpl=h,g&&(this.headersImpl=g),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vr=new en(3e4,6e4);function Ot(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function Jt(y,h,g,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(y,h,g,_,A={}){return Pr(y,A,(0,f.Z)(function*(){let P={},q={};_&&("GET"===h?q=_:P={body:JSON.stringify(_)});const ce=(0,R.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Fe=yield y._getAdditionalHeaders();return Fe["Content-Type"]="application/json",y.languageCode&&(Fe["X-Firebase-Locale"]=y.languageCode),Ht.fetch()(Ei(y,y.config.apiHost,g,ce),Object.assign({method:h,headers:Fe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Pr(y,h,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*(y,h,g){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},Gt),h);try{const A=new Nr(y),P=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield P.json();if("needConfirmation"in q)throw ii(y,"account-exists-with-different-credential",q);if(P.ok&&!("errorMessage"in q))return q;{const ce=P.ok?q.errorMessage:q.error.message,[Fe,Ke]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw ii(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Fe)throw ii(y,"email-already-in-use",q);if("USER_DISABLED"===Fe)throw ii(y,"user-disabled",q);const gt=_[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Ie(y,gt,Ke);Te(y,gt)}}catch(A){if(A instanceof R.ZR)throw A;Te(y,"network-request-failed")}})).apply(this,arguments)}function Rr(y,h,g,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,f.Z)(function*(y,h,g,_,A={}){const P=yield Jt(y,h,g,_,A);return"mfaPendingCredential"in P&&Te(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Ei(y,h,g,_){const A=`${h}${g}?${_}`;return y.config.emulator?bn(y.config,A):`${y.config.apiScheme}://${A}`}class Nr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,_)=>{this.timer=setTimeout(()=>_(ve(this.auth,"network-request-failed")),vr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ii(y,h,g){const _={appName:y.name};g.email&&(_.email=g.email),g.phoneNumber&&(_.phoneNumber=g.phoneNumber);const A=ve(y,h,_);return A.customData._tokenResponse=g,A}function qe(){return(qe=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function kr(y,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Dn(y,h){return si.apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Gr(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function an(){return(an=(0,f.Z)(function*(y,h=!1){const g=(0,R.m9)(y),_=yield g.getIdToken(h),A=st(_);V(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,q=P?.sign_in_provider;return{claims:A,token:_,authTime:Gr(dt(A.auth_time)),issuedAtTime:Gr(dt(A.iat)),expirationTime:Gr(dt(A.exp)),signInProvider:q||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function dt(y){return 1e3*Number(y)}function st(y){var h;const[g,_,A]=y.split(".");if(void 0===g||void 0===_||void 0===A)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,R.tV)(_);return P?JSON.parse(P):(tt("Failed to decode base64 JWT payload"),null)}catch(P){return tt("Caught error parsing JWT payload as JSON",null===(h=P)||void 0===h?void 0:h.toString()),null}}function Jn(y,h){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,f.Z)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(_){throw _ instanceof R.ZR&&_r(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function _r({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class mt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),_)}iteration(){var h=this;return(0,f.Z)(function*(){var g;try{yield h.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null===(g=_)||void 0===g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class qi{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gr(this.lastLoginAt),this.creationTime=Gr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zt(y){return oi.apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(y){var h;const g=y.auth,_=yield y.getIdToken(),A=yield Jn(y,Dn(g,{idToken:_}));V(A?.users.length,g,"internal-error");const P=A.users[0];y._notifyReloadListener(P);const q=null!==(h=P.providerUserInfo)&&void 0!==h&&h.length?L(P.providerUserInfo):[],ce=B(y.providerData,q),gt=!!y.isAnonymous&&!(y.email&&P.passwordHash||ce?.length),ct={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ce,metadata:new qi(P.createdAt,P.lastLoginAt),isAnonymous:gt};Object.assign(y,ct)})).apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(y){const h=(0,R.m9)(y);yield zt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function B(y,h){return[...y.filter(_=>!h.some(A=>A.providerId===_.providerId)),...h]}function L(y){return y.map(h=>{var{providerId:g}=h,_=(0,re._T)(h,["providerId"]);return{providerId:g,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function z(){return(z=(0,f.Z)(function*(y,h){const g=yield Pr(y,{},(0,f.Z)(function*(){const _=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:A,apiKey:P}=y.config,q=Ei(y,A,"/v1/token",`key=${P}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Ht.fetch()(q,{method:"POST",headers:ce,body:_})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){V(h.idToken,"internal-error"),V(typeof h.idToken<"u","internal-error"),V(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function tn(y){const h=st(y);return V(h,"internal-error"),V(typeof h.exp<"u","internal-error"),V(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var _=this;return(0,f.Z)(function*(){return V(!_.accessToken||_.refreshToken,h,"user-token-expired"),g||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var _=this;return(0,f.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:q}=yield function $(y,h){return z.apply(this,arguments)}(h,g);_.updateTokensAndExpiration(A,P,Number(q))})()}updateTokensAndExpiration(h,g,_){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,g){const{refreshToken:_,accessToken:A,expirationTime:P}=g,q=new Ee;return _&&(V("string"==typeof _,"internal-error",{appName:h}),q.refreshToken=_),A&&(V("string"==typeof A,"internal-error",{appName:h}),q.accessToken=A),P&&(V("number"==typeof P,"internal-error",{appName:h}),q.expirationTime=P),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ee,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Ue(y,h){V("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class nt{constructor(h){var{uid:g,auth:_,stsTokenManager:A}=h,P=(0,re._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=_,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new qi(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,f.Z)(function*(){const _=yield Jn(g,g.stsTokenManager.getToken(g.auth,h));return V(_,g.auth,"internal-error"),g.accessToken!==_&&(g.accessToken=_,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),_})()}getIdTokenResult(h){return function jn(y){return an.apply(this,arguments)}(this,h)}reload(){return function $t(y){return W.apply(this,arguments)}(this)}_assign(h){this!==h&&(V(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new nt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var _=this;return(0,f.Z)(function*(){let A=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),A=!0),g&&(yield zt(_)),yield _.auth._persistUserIfCurrent(_),A&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,f.Z)(function*(){const g=yield h.getIdToken();return yield Jn(h,function vo(y,h){return qe.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var _,A,P,q,ce,Fe,Ke,gt;const ct=null!==(_=g.displayName)&&void 0!==_?_:void 0,Zn=null!==(A=g.email)&&void 0!==A?A:void 0,Li=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,Wu=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Gd=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,Jr=null!==(Fe=g._redirectEventId)&&void 0!==Fe?Fe:void 0,fl=null!==(Ke=g.createdAt)&&void 0!==Ke?Ke:void 0,pl=null!==(gt=g.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:Cg,emailVerified:zd,isAnonymous:Ig,providerData:gl,stsTokenManager:Fy}=g;V(Cg&&Fy,h,"internal-error");const K0=Ee.fromJSON(this.name,Fy);V("string"==typeof Cg,h,"internal-error"),Ue(ct,h.name),Ue(Zn,h.name),V("boolean"==typeof zd,h,"internal-error"),V("boolean"==typeof Ig,h,"internal-error"),Ue(Li,h.name),Ue(Wu,h.name),Ue(Gd,h.name),Ue(Jr,h.name),Ue(fl,h.name),Ue(pl,h.name);const Ua=new nt({uid:Cg,auth:h,email:Zn,emailVerified:zd,displayName:ct,isAnonymous:Ig,photoURL:Wu,phoneNumber:Li,tenantId:Gd,stsTokenManager:K0,createdAt:fl,lastLoginAt:pl});return gl&&Array.isArray(gl)&&(Ua.providerData=gl.map(ml=>Object.assign({},ml))),Jr&&(Ua._redirectEventId=Jr),Ua}static _fromIdTokenResponse(h,g,_=!1){return(0,f.Z)(function*(){const A=new Ee;A.updateFromServerResponse(g);const P=new nt({uid:g.localId,auth:h,stsTokenManager:A,isAnonymous:_});return yield zt(P),P})()}}const Wt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,_){var A=this;return(0,f.Z)(function*(){A.storage[g]=_})()}_get(g){var _=this;return(0,f.Z)(function*(){const A=_.storage[g];return void 0===A?null:A})()}_remove(g){var _=this;return(0,f.Z)(function*(){delete _.storage[g]})()}_addListener(g,_){}_removeListener(g,_){}}return y.type="NONE",y})();function $n(y,h,g){return`firebase:${y}:${h}:${g}`}class Nt{constructor(h,g,_){this.persistence=h,this.auth=g,this.userKey=_;const{config:A,name:P}=this.auth;this.fullUserKey=$n(this.userKey,A.apiKey,P),this.fullPersistenceKey=$n("persistence",A.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?nt._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,f.Z)(function*(){if(g.persistence===h)return;const _=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,_?g.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,_="authUser"){return(0,f.Z)(function*(){if(!g.length)return new Nt(ie(Wt),h,_);const A=(yield Promise.all(g.map(function(){var Ke=(0,f.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let P=A[0]||ie(Wt);const q=$n(_,h.config.apiKey,h.name);let ce=null;for(const Ke of g)try{const gt=yield Ke._get(q);if(gt){const ct=nt._fromJSON(h,gt);Ke!==P&&(ce=ct),P=Ke;break}}catch{}const Fe=A.filter(Ke=>Ke._shouldAllowMigration);return P._shouldAllowMigration&&Fe.length?(P=Fe[0],ce&&(yield P._set(q,ce.toJSON())),yield Promise.all(g.map(function(){var Ke=(0,f.Z)(function*(gt){if(gt!==P)try{yield gt._remove(q)}catch{}});return function(gt){return Ke.apply(this,arguments)}}())),new Nt(P,h,_)):new Nt(P,h,_)})()}}function At(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(wr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(hn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if($e(h))return"Blackberry";if(ft(h))return"Webos";if(On(h))return"Safari";if((h.includes("chrome/")||bi(h))&&!h.includes("edge/"))return"Chrome";if(Pn(h))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function hn(y=(0,R.z$)()){return/firefox\//i.test(y)}function On(y=(0,R.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function bi(y=(0,R.z$)()){return/crios\//i.test(y)}function wr(y=(0,R.z$)()){return/iemobile/i.test(y)}function Pn(y=(0,R.z$)()){return/android/i.test(y)}function $e(y=(0,R.z$)()){return/blackberry/i.test(y)}function ft(y=(0,R.z$)()){return/webos/i.test(y)}function Kt(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Hs(y=(0,R.z$)()){return Kt(y)||Pn(y)||ft(y)||$e(y)||/windows phone/i.test(y)||wr(y)}function ys(y,h=[]){let g;switch(y){case"Browser":g=At((0,R.z$)());break;case"Worker":g=`${At((0,R.z$)())}-${y}`;break;default:g=y}const _=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${oe.SDK_VERSION}/${_}`}class _o{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const _=P=>new Promise((q,ce)=>{try{q(h(P))}catch(Fe){ce(Fe)}});_.onAbort=g,this.queue.push(_);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,f.Z)(function*(){var _;if(g.auth.currentUser===h)return;const A=[];try{for(const P of g.queue)yield P(h),P.onAbort&&A.push(P.onAbort)}catch(P){A.reverse();for(const q of A)try{q()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(_=P)||void 0===_?void 0:_.message})}})()}}class St{constructor(h,g,_){this.app=h,this.heartbeatServiceProvider=g,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gs(this),this.idTokenSubscription=new Gs(this),this.beforeStateQueue=new _o(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(h,g){var _=this;return g&&(this._popupRedirectResolver=ie(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var A,P;if(!_._deleted&&(_.persistenceManager=yield Nt.create(_,h),!_._deleted)){if(null!==(A=_._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(g),_.lastNotifiedUid=(null===(P=_.currentUser)||void 0===P?void 0:P.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,f.Z)(function*(){var _;const A=yield g.assertedPersistence.getCurrentUser();let P=A,q=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ce=null===(_=g.redirectUser)||void 0===_?void 0:_._redirectEventId,Fe=P?._redirectEventId,Ke=yield g.tryRedirectSignIn(h);(!ce||ce===Fe)&&Ke?.user&&(P=Ke.user,q=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(P)}catch(ce){P=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ce))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return V(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(h){var g=this;return(0,f.Z)(function*(){let _=null;try{_=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,f.Z)(function*(){var _;try{yield zt(h)}catch(A){if("auth/network-request-failed"!==(null===(_=A)||void 0===_?void 0:_.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){const _=h?(0,R.m9)(h):null;return _&&V(_.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(_&&_._clone(g))})()}_updateCurrentUser(h,g=!1){var _=this;return(0,f.Z)(function*(){if(!_._deleted)return h&&V(_.tenantId===h.tenantId,_,"tenant-id-mismatch"),g||(yield _.beforeStateQueue.runMiddleware(h)),_.queue((0,f.Z)(function*(){yield _.directlySetCurrentUser(h),_.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(ie(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,g,_){return this.registerStateListener(this.authStateSubscription,h,g,_)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,_){return this.registerStateListener(this.idTokenSubscription,h,g,_)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var _=this;return(0,f.Z)(function*(){const A=yield _.getOrInitRedirectPersistenceManager(g);return null===h?A.removeCurrentUser():A.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const _=h&&ie(h)||g._popupRedirectResolver;V(_,g,"argument-error"),g.redirectPersistenceManager=yield Nt.create(g,[ie(_._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,f.Z)(function*(){var _,A;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(_=g._currentUser)||void 0===_?void 0:_._redirectEventId)===h?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,f.Z)(function*(){if(h===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,_,A){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return V(q,this,"internal-error"),q.then(()=>P(this.currentUser)),"function"==typeof g?h.addObserver(g,_,A):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ys(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var g;const _={"X-Client-Version":h.clientVersion};h.app.options.appId&&(_["X-Firebase-gmpid"]=h.app.options.appId);const A=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(_["X-Firebase-Client"]=A),_})()}}function fn(y){return(0,R.m9)(y)}class Gs{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Di(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function vs(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class ir{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return ge("not implemented")}_getIdTokenResponse(h){return ge("not implemented")}_linkToIdToken(h,g){return ge("not implemented")}_getReauthenticationResolver(h){return ge("not implemented")}}function Nn(y,h){return uu.apply(this,arguments)}function uu(){return(uu=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:resetPassword",Ot(y,h))})).apply(this,arguments)}function nn(y,h){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Mc(y,h){return zs.apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:update",Ot(y,h))})).apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(y,h){return Rr(y,"POST","/v1/accounts:signInWithPassword",Ot(y,h))})).apply(this,arguments)}function ws(y,h){return ui.apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:sendOobCode",Ot(y,h))})).apply(this,arguments)}function kn(y,h){return xc.apply(this,arguments)}function xc(){return(xc=(0,f.Z)(function*(y,h){return ws(y,h)})).apply(this,arguments)}function er(y,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(y,h){return ws(y,h)})).apply(this,arguments)}function cu(y,h){return ua.apply(this,arguments)}function ua(){return(ua=(0,f.Z)(function*(y,h){return ws(y,h)})).apply(this,arguments)}function Oc(y,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(y,h){return ws(y,h)})).apply(this,arguments)}function id(){return(id=(0,f.Z)(function*(y,h){return Rr(y,"POST","/v1/accounts:signInWithEmailLink",Ot(y,h))})).apply(this,arguments)}function Pc(){return(Pc=(0,f.Z)(function*(y,h){return Rr(y,"POST","/v1/accounts:signInWithEmailLink",Ot(y,h))})).apply(this,arguments)}class Rc extends ir{constructor(h,g,_,A=null){super("password",_),this._email=h,this._password=g,this._tenantId=A}static _fromEmailAndPassword(h,g){return new Rc(h,g,"password")}static _fromEmailAndCode(h,g,_=null){return new Rc(h,g,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function aa(y,h){return Zi.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Hh(y,h){return id.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Te(h,"internal-error")}})()}_linkToIdToken(h,g){var _=this;return(0,f.Z)(function*(){switch(_.signInMethod){case"password":return nn(h,{idToken:g,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Gh(y,h){return Pc.apply(this,arguments)}(h,{idToken:g,email:_._email,oobCode:_._password});default:Te(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Gn(y,h){return sd.apply(this,arguments)}function sd(){return(sd=(0,f.Z)(function*(y,h){return Rr(y,"POST","/v1/accounts:signInWithIdp",Ot(y,h))})).apply(this,arguments)}class Ki extends ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Ki(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:A}=g,P=(0,re._T)(g,["providerId","signInMethod"]);if(!_||!A)return null;const q=new Ki(_,A);return q.idToken=P.idToken||void 0,q.accessToken=P.accessToken||void 0,q.secret=P.secret,q.nonce=P.nonce,q.pendingToken=P.pendingToken||null,q}_getIdTokenResponse(h){return Gn(h,this.buildRequest())}_linkToIdToken(h,g){const _=this.buildRequest();return _.idToken=g,Gn(h,_)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Gn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,R.xO)(g)}return h}}function Wp(y,h){return od.apply(this,arguments)}function od(){return(od=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:sendVerificationCode",Ot(y,h))})).apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(y,h){return Rr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ot(y,h))})).apply(this,arguments)}function ad(){return(ad=(0,f.Z)(function*(y,h){const g=yield Rr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ot(y,h));if(g.temporaryProof)throw ii(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Zp={USER_NOT_FOUND:"user-not-found"};function ud(){return(ud=(0,f.Z)(function*(y,h){return Rr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ot(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Zp)})).apply(this,arguments)}class Is extends ir{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Is({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Is({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Nc(y,h){return Cs.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function qp(y,h){return ad.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function zh(y,h){return ud.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:_,verificationCode:A}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:_,code:A}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:_,phoneNumber:A,temporaryProof:P}=h;return _||g||A||P?new Is({verificationId:g,verificationCode:_,phoneNumber:A,temporaryProof:P}):null}}class lu{constructor(h){var g,_,A,P,q,ce;const Fe=(0,R.zd)((0,R.pd)(h)),Ke=null!==(g=Fe.apiKey)&&void 0!==g?g:null,gt=null!==(_=Fe.oobCode)&&void 0!==_?_:null,ct=function cd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Fe.mode)&&void 0!==A?A:null);V(Ke&&gt&&ct,"argument-error"),this.apiKey=Ke,this.operation=ct,this.code=gt,this.continueUrl=null!==(P=Fe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(q=Fe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ce=Fe.tenantId)&&void 0!==ce?ce:null}static parseLink(h){const g=function ld(y){const h=(0,R.zd)((0,R.pd)(y)).link,g=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,_=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(_?(0,R.zd)((0,R.pd)(_)).link:null)||_||g||h||y}(h);try{return new lu(g)}catch{return null}}}let Ti=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,_){return Rc._fromEmailAndPassword(g,_)}static credentialWithLink(g,_){const A=lu.parseLink(_);return V(A,"argument-error"),Rc._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ai{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Yi extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ws extends Yi{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return V("providerId"in g&&"signInMethod"in g,"argument-error"),Ki._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return V(h.idToken||h.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ws.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ws.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:_,oauthTokenSecret:A,pendingToken:P,nonce:q,providerId:ce}=h;if(!_&&!A&&!g&&!P||!ce)return null;try{return new Ws(ce)._credential({idToken:g,accessToken:_,nonce:q,pendingToken:P})}catch{return null}}}let ca=(()=>{class y extends Yi{constructor(){super("facebook.com")}static credential(g){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),du=(()=>{class y extends Yi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,_){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:_})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:A}=g;if(!_&&!A)return null;try{return y.credential(_,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),kc=(()=>{class y extends Yi{constructor(){super("github.com")}static credential(g){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class la extends ir{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Gn(h,this.buildRequest())}_linkToIdToken(h,g){const _=this.buildRequest();return _.idToken=g,Gn(h,_)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Gn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:A,pendingToken:P}=g;return _&&A&&P&&_===A?new la(_,P):null}static _create(h,g){return new la(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wr extends Ai{constructor(h){V(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Wr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Wr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=la.fromJSON(h);return V(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:_}=h;if(!g||!_)return null;try{return la._create(_,g)}catch{return null}}}let Fr=(()=>{class y extends Yi{constructor(){super("twitter.com")}static credential(g,_){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:_})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:_,oauthTokenSecret:A}=g;if(!_||!A)return null;try{return y.credential(_,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function wo(y,h){return dd.apply(this,arguments)}function dd(){return(dd=(0,f.Z)(function*(y,h){return Rr(y,"POST","/v1/accounts:signUp",Ot(y,h))})).apply(this,arguments)}class sr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,_,A=!1){return(0,f.Z)(function*(){const P=yield nt._fromIdTokenResponse(h,_,A),q=Zh(_);return new sr({user:P,providerId:q,_tokenResponse:_,operationType:g})})()}static _forOperation(h,g,_){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const A=Zh(_);return new sr({user:h,providerId:A,_tokenResponse:_,operationType:g})})()}}function Zh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function vn(){return(vn=(0,f.Z)(function*(y){var h;const g=fn(y);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new sr({user:g.currentUser,providerId:null,operationType:"signIn"});const _=yield wo(g,{returnSecureToken:!0}),A=yield sr._fromIdTokenResponse(g,"signIn",_,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class hu extends R.ZR{constructor(h,g,_,A){var P;super(g.code,g.message),this.operationType=_,this.user=A,Object.setPrototypeOf(this,hu.prototype),this.customData={appName:h.name,tenantId:null!==(P=h.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,g,_,A){return new hu(h,g,_,A)}}function Yh(y,h,g,_){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?hu._fromErrorAndOperation(y,P,h,_):P})}function qr(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function fu(){return(fu=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y);yield Ut(!0,g,h);const{providerUserInfo:_}=yield kr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),A=qr(_||[]);return g.providerData=g.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Co(y,h){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,f.Z)(function*(y,h,g=!1){const _=yield Jn(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return sr._forOperation(y,"link",_)})).apply(this,arguments)}function Ut(y,h,g){return pu.apply(this,arguments)}function pu(){return(pu=(0,f.Z)(function*(y,h,g){yield zt(h);const A=!1===y?"provider-already-linked":"no-such-provider";V(qr(h.providerData).has(g)===y,h.auth,A)})).apply(this,arguments)}function qs(y,h){return gu.apply(this,arguments)}function gu(){return(gu=(0,f.Z)(function*(y,h,g=!1){var _;const{auth:A}=y,P="reauthenticate";try{const q=yield Jn(y,Yh(A,P,h,y),g);V(q.idToken,A,"internal-error");const ce=st(q.idToken);V(ce,A,"internal-error");const{sub:Fe}=ce;return V(y.uid===Fe,A,"user-mismatch"),sr._forOperation(y,P,q)}catch(q){throw"auth/user-not-found"===(null===(_=q)||void 0===_?void 0:_.code)&&Te(A,"user-mismatch"),q}})).apply(this,arguments)}function ci(y,h){return mu.apply(this,arguments)}function mu(){return(mu=(0,f.Z)(function*(y,h,g=!1){const _="signIn",A=yield Yh(y,_,h),P=yield sr._fromIdTokenResponse(y,_,A);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function mn(y,h){return yt.apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(y,h){return ci(fn(y),h)})).apply(this,arguments)}function yu(y,h){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y);return yield Ut(!1,g,h.providerId),Co(g,h)})).apply(this,arguments)}function vu(y,h){return _u.apply(this,arguments)}function _u(){return(_u=(0,f.Z)(function*(y,h){return qs((0,R.m9)(y),h)})).apply(this,arguments)}function Fc(y,h){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,f.Z)(function*(y,h){return Rr(y,"POST","/v1/accounts:signInWithCustomToken",Ot(y,h))})).apply(this,arguments)}function da(){return(da=(0,f.Z)(function*(y,h){const g=fn(y),_=yield Fc(g,{token:h,returnSecureToken:!0}),A=yield sr._fromIdTokenResponse(g,"signIn",_);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class be{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?kt._fromServerResponse(h,g):Te(h,"internal-error")}}class kt extends be{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new kt(g)}}function wu(y,h,g){var _;V((null===(_=g.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),V(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(V(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(V(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function _n(){return(_n=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y),A={requestType:"PASSWORD_RESET",email:h};g&&wu(_,A,g),yield er(_,A)})).apply(this,arguments)}function Io(){return(Io=(0,f.Z)(function*(y,h,g){yield Nn((0,R.m9)(y),{oobCode:h,newPassword:g})})).apply(this,arguments)}function ha(){return(ha=(0,f.Z)(function*(y,h){yield Mc((0,R.m9)(y),{oobCode:h})})).apply(this,arguments)}function fa(y,h){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y),_=yield Nn(g,{oobCode:h}),A=_.requestType;switch(V(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(_.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(_.mfaInfo,g,"internal-error");default:V(_.email,g,"internal-error")}let P=null;return _.mfaInfo&&(P=be._fromServerResponse(fn(g),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function hd(){return(hd=(0,f.Z)(function*(y,h){const{data:g}=yield fa((0,R.m9)(y),h);return g.email})).apply(this,arguments)}function wn(){return(wn=(0,f.Z)(function*(y,h,g){const _=fn(y),A=yield wo(_,{returnSecureToken:!0,email:h,password:g}),P=yield sr._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(P.user),P})).apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y),A={requestType:"EMAIL_SIGNIN",email:h};V(g.handleCodeInApp,_,"argument-error"),g&&wu(_,A,g),yield cu(_,A)})).apply(this,arguments)}function ga(){return(ga=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y),A=Ti.credentialWithLink(h,g||Pe());return V(A._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),mn(_,A)})).apply(this,arguments)}function Yp(y,h){return jc.apply(this,arguments)}function jc(){return(jc=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:createAuthUri",Ot(y,h))})).apply(this,arguments)}function ma(){return(ma=(0,f.Z)(function*(y,h){const _={identifier:h,continueUri:lt()?Pe():"http://localhost"},{signinMethods:A}=yield Yp((0,R.m9)(y),_);return A||[]})).apply(this,arguments)}function ya(){return(ya=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&wu(g.auth,A,h);const{email:P}=yield kn(g.auth,A);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function bu(){return(bu=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&wu(_.auth,P,g);const{email:q}=yield Oc(_.auth,P);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Du(y,h){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,f.Z)(function*(y,h){return Jt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Wc(){return(Wc=(0,f.Z)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const _=(0,R.m9)(y),P={idToken:yield _.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},q=yield Jn(_,Du(_.auth,P));_.displayName=q.displayName||null,_.photoURL=q.photoUrl||null;const ce=_.providerData.find(({providerId:Fe})=>"password"===Fe);ce&&(ce.displayName=_.displayName,ce.photoURL=_.photoURL),yield _._updateTokensIfNecessary(q)})).apply(this,arguments)}function Ys(y,h,g){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,f.Z)(function*(y,h,g){const{auth:_}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(P.email=h),g&&(P.password=g);const q=yield Jn(y,nn(_,P));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class Lr{constructor(h,g,_={}){this.isNewUser=h,this.providerId=g,this.profile=_}}class cn extends Lr{constructor(h,g,_,A){super(h,g,_),this.username=A}}class pd extends Lr{constructor(h,g){super(h,"facebook.com",g)}}class qc extends cn{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Jh extends Lr{constructor(h,g){super(h,"google.com",g)}}class Zc extends cn{constructor(h,g,_){super(h,"twitter.com",g,_)}}function Au(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function zn(y){var h,g;if(!y)return null;const{providerId:_}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&y?.idToken){const q=null===(g=null===(h=st(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new Lr(P,"anonymous"!==q&&"custom"!==q?q:null)}if(!_)return null;switch(_){case"facebook.com":return new pd(P,A);case"github.com":return new qc(P,A);case"google.com":return new Jh(P,A);case"twitter.com":return new Zc(P,A,y.screenName||null);case"custom":case"anonymous":return new Lr(P,null);default:return new Lr(P,_,A)}}(g)}class Qs{constructor(h,g,_){this.type=h,this.credential=g,this.auth=_}static _fromIdtoken(h,g){return new Qs("enroll",h,g)}static _fromMfaPendingCredential(h){return new Qs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,_;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Qs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return Qs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Su{constructor(h,g,_){this.session=h,this.hints=g,this.signInResolver=_}static _fromError(h,g){const _=fn(h),A=g.customData._serverResponse,P=(A.mfaInfo||[]).map(ce=>be._fromServerResponse(_,ce));V(A.mfaPendingCredential,_,"internal-error");const q=Qs._fromMfaPendingCredential(A.mfaPendingCredential);return new Su(q,P,function(){var ce=(0,f.Z)(function*(Fe){const Ke=yield Fe._process(_,q);delete A.mfaInfo,delete A.mfaPendingCredential;const gt=Object.assign(Object.assign({},A),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(g.operationType){case"signIn":const ct=yield sr._fromIdTokenResponse(_,g.operationType,gt);return yield _._updateCurrentUser(ct.user),ct;case"reauthenticate":return V(g.user,_,"internal-error"),sr._forOperation(g.user,g.operationType,gt);default:Te(_,"internal-error")}});return function(Fe){return ce.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,f.Z)(function*(){return g.signInResolver(h)})()}}function Mu(y,h){return Jt(y,"POST","/v2/accounts/mfaEnrollment:start",Ot(y,h))}class Xh{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(_=>be._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new Xh(h)}getSession(){var h=this;return(0,f.Z)(function*(){return Qs._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var _=this;return(0,f.Z)(function*(){const A=h,P=yield _.getSession(),q=yield Jn(_.user,A._process(_.user.auth,P,g));return yield _.user._updateTokensIfNecessary(q),_.user.reload()})()}unenroll(h){var g=this;return(0,f.Z)(function*(){var _;const A="string"==typeof h?h:h.uid,P=yield g.user.getIdToken(),q=yield Jn(g.user,function vd(y,h){return Jt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(y,h))}(g.user.auth,{idToken:P,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ce})=>ce!==A),yield g.user._updateTokensIfNecessary(q);try{yield g.user.reload()}catch(ce){if("auth/user-token-expired"!==(null===(_=ce)||void 0===_?void 0:_.code))throw ce}})()}}const To=new WeakMap,Js="__sak";class Ou{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Js,"1"),this.storage.removeItem(Js),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const _a=(()=>{class y extends Ou{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,_)=>this.onStorageEvent(g,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function va(){const y=(0,R.z$)();return On(y)||Kt(y)}()&&function un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const _ of Object.keys(this.listeners)){const A=this.storage.getItem(_),P=this.localCache[_];A!==P&&g(_,P,A)}}onStorageEvent(g,_=!1){if(!g.key)return void this.forAllChangedKeys((ce,Fe,Ke)=>{this.notifyListeners(ce,Ke)});const A=g.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!_)return}const P=()=>{const ce=this.storage.getItem(A);!_&&this.localCache[A]===ce||this.notifyListeners(A,ce)},q=this.storage.getItem(A);!function Hn(){return(0,R.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,_){this.localCache[g]=_;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,_,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:_,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,_){var A=()=>super._set,P=this;return(0,f.Z)(function*(){yield A().call(P,g,_),P.localCache[g]=JSON.stringify(_)})()}_get(g){var _=()=>super._get,A=this;return(0,f.Z)(function*(){const P=yield _().call(A,g);return A.localCache[g]=JSON.stringify(P),P})()}_remove(g){var _=()=>super._remove,A=this;return(0,f.Z)(function*(){yield _().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),Mi=(()=>{class y extends Ou{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,_){}_removeListener(g,_){}}return y.type="SESSION",y})();let Cd=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const _=this.receivers.find(P=>P.isListeningto(g));if(_)return _;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var _=this;return(0,f.Z)(function*(){const A=g,{eventId:P,eventType:q,data:ce}=A.data,Fe=_.handlersMap[q];if(!Fe?.size)return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:q});const Ke=Array.from(Fe).map(function(){var ct=(0,f.Z)(function*(Zn){return Zn(A.origin,ce)});return function(Zn){return ct.apply(this,arguments)}}()),gt=yield function Ca(y){return Promise.all(y.map(function(){var h=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(_){return{fulfilled:!1,reason:_}}});return function(g){return h.apply(this,arguments)}}()))}(Ke);A.ports[0].postMessage({status:"done",eventId:P,eventType:q,response:gt})})()}_subscribe(g,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(_)}_unsubscribe(g,_){this.handlersMap[g]&&_&&this.handlersMap[g].delete(_),(!_||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ia(y="",h=10){let g="";for(let _=0;_<h;_++)g+=Math.floor(10*Math.random());return y+g}class Yc{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,_=50){var A=this;return(0,f.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let q,ce;return new Promise((Fe,Ke)=>{const gt=Ia("",20);P.port1.start();const ct=setTimeout(()=>{Ke(new Error("unsupported_event"))},_);ce={messageChannel:P,onMessage(Zn){const Li=Zn;if(Li.data.eventId===gt)switch(Li.data.status){case"ack":clearTimeout(ct),q=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Fe(Li.data.response);break;default:clearTimeout(ct),clearTimeout(q),Ke(new Error("invalid_response"))}}},A.handlers.add(ce),P.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:h,eventId:gt,data:g},[P.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function An(){return window}function Pu(){return typeof An().WorkerGlobalScope<"u"&&"function"==typeof An().importScripts}function Ea(){return(Ea=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ds="firebaseLocalStorageDb",Ts="firebaseLocalStorage",Qc="fbase_key";class eo{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ba(y,h){return y.transaction([Ts],h?"readwrite":"readonly").objectStore(Ts)}function So(){const y=indexedDB.open(Ds,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(Ts,{keyPath:Qc})}catch(A){g(A)}}),y.addEventListener("success",(0,f.Z)(function*(){const _=y.result;_.objectStoreNames.contains(Ts)?h(_):(_.close(),yield function Ed(){const y=indexedDB.deleteDatabase(Ds);return new eo(y).toPromise()}(),h(yield So()))}))})}function ts(y,h,g){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,f.Z)(function*(y,h,g){const _=ba(y,!0).put({[Qc]:h,value:g});return new eo(_).toPromise()})).apply(this,arguments)}function Da(){return(Da=(0,f.Z)(function*(y,h){const g=ba(y,!1).get(h),_=yield new eo(g).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function to(y,h){const g=ba(y,!0).delete(h);return new eo(g).toPromise()}const Mo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield So()),g.db})()}_withRetries(g){var _=this;return(0,f.Z)(function*(){let A=0;for(;;)try{const P=yield _._openDb();return yield g(P)}catch(P){if(A++>3)throw P;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return Pu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=Cd._getInstance(function Nu(){return Pu()?self:null}()),g.receiver._subscribe("keyChanged",function(){var _=(0,f.Z)(function*(A,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(A,P){return _.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var _=(0,f.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return _.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var _,A;if(g.activeServiceWorker=yield function Xs(){return Ea.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Yc(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(_=P[0])||void 0===_?void 0:_.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var _=this;return(0,f.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Ru(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:g},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield So();return yield ts(g,Js,"1"),yield to(g,Js),!0}catch{}return!1})()}_withPendingWrite(g){var _=this;return(0,f.Z)(function*(){_.pendingWrites++;try{yield g()}finally{_.pendingWrites--}})()}_set(g,_){var A=this;return(0,f.Z)(function*(){return A._withPendingWrite((0,f.Z)(function*(){return yield A._withRetries(P=>ts(P,g,_)),A.localCache[g]=_,A.notifyServiceWorker(g)}))})()}_get(g){var _=this;return(0,f.Z)(function*(){const A=yield _._withRetries(P=>function ku(y,h){return Da.apply(this,arguments)}(P,g));return _.localCache[g]=A,A})()}_remove(g){var _=this;return(0,f.Z)(function*(){return _._withPendingWrite((0,f.Z)(function*(){return yield _._withRetries(A=>to(A,g)),delete _.localCache[g],_.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const _=yield g._withRetries(q=>{const ce=ba(q,!1).getAll();return new eo(ce).toPromise()});if(!_)return[];if(0!==g.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:q,value:ce}of _)P.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ce)&&(g.notifyListeners(q,ce),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!P.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,_){this.localCache[g]=_;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(_)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function xo(y,h){return Jt(y,"POST","/v2/accounts/mfaSignIn:start",Ot(y,h))}function As(){return(As=(0,f.Z)(function*(y){return(yield Jt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Po(y){return new Promise((h,g)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=h,_.onerror=A=>{const P=ve("internal-error");P.customData=A,g(P)},_.type="text/javascript",_.charset="UTF-8",function Oo(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(_)})}function Vu(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ta=1e12;class on{constructor(h){this.auth=h,this.counter=Ta,this._widgets=new Map}render(h,g){const _=this.counter;return this._widgets.set(_,new Qp(h,this.auth.name,g||{})),this.counter++,_}reset(h){var g;const _=h||Ta;null===(g=this._widgets.get(_))||void 0===g||g.delete(),this._widgets.delete(_)}getResponse(h){var g;return(null===(g=this._widgets.get(h||Ta))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,f.Z)(function*(){var _;return null===(_=g._widgets.get(h||Ta))||void 0===_||_.execute(),""})()}}class Qp{constructor(h,g,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof h?document.getElementById(h):h;V(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cy(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jp=Vu("rcb"),Iy=new en(3e4,6e4);class ef{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=An().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return V(function B0(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(An().grecaptcha):new Promise((_,A)=>{const P=An().setTimeout(()=>{A(ve(h,"network-request-failed"))},Iy.get());An()[Jp]=()=>{An().clearTimeout(P),delete An()[Jp];const ce=An().grecaptcha;if(!ce)return void A(ve(h,"internal-error"));const Fe=ce.render;ce.render=(Ke,gt)=>{const ct=Fe(Ke,gt);return this.counter++,ct},this.hostLanguage=g,_(ce)},Po(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:Jp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),A(ve(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=An().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class el{load(h){return(0,f.Z)(function*(){return new on(h)})()}clearedOneInstance(){}}const by="recaptcha",Dy={theme:"light",type:"image"};class nr{constructor(h,g=Object.assign({},Dy),_){this.parameters=g,this.type=by,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(_),this.isInvisible="invisible"===this.parameters.size,V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof h?document.getElementById(h):h;V(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new el:new ef,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),_=h.getAssertedRecaptcha();return _.getResponse(g)||new Promise(P=>{const q=ce=>{!ce||(h.tokenChangeListeners.delete(q),P(ce))};h.tokenChangeListeners.add(q),h.isInvisible&&_.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(_=>_(g)),"function"==typeof h)h(g);else if("string"==typeof h){const _=An()[h];"function"==typeof _&&_(g)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const _=document.createElement("div");g.appendChild(_),g=_}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){V(lt()&&!Pu(),h.auth,"internal-error"),yield function rn(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Vr(y){return As.apply(this,arguments)}(h.auth);V(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class di{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Is._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Kr(){return(Kr=(0,f.Z)(function*(y,h,g){const _=fn(y),A=yield Ss(_,h,(0,R.m9)(g));return new di(A,P=>mn(_,P))})).apply(this,arguments)}function hi(){return(hi=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y);yield Ut(!1,_,"phone");const A=yield Ss(_.auth,h,(0,R.m9)(g));return new di(A,P=>yu(_,P))})).apply(this,arguments)}function Er(){return(Er=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y),A=yield Ss(_.auth,h,(0,R.m9)(g));return new di(A,P=>vu(_,P))})).apply(this,arguments)}function Ss(y,h,g){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,f.Z)(function*(y,h,g){var _;const A=yield g.verify();try{let P;if(V("string"==typeof A,y,"argument-error"),V(g.type===by,y,"argument-error"),P="string"==typeof h?{phoneNumber:h}:h,"session"in P){const q=P.session;if("phoneNumber"in P)return V("enroll"===q.type,y,"internal-error"),(yield Mu(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{V("signin"===q.type,y,"internal-error");const ce=(null===(_=P.multiFactorHint)||void 0===_?void 0:_.uid)||P.multiFactorUid;return V(ce,y,"missing-multi-factor-info"),(yield xo(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Wp(y,{phoneNumber:P.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function tl(){return(tl=(0,f.Z)(function*(y,h){yield Co((0,R.m9)(y),h)})).apply(this,arguments)}let Sa=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=fn(g)}verifyPhoneNumber(g,_){return Ss(this.auth,g,(0,R.m9)(_))}static credential(g,_){return Is._fromVerification(g,_)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:_,temporaryProof:A}=g;return _&&A?Is._fromTokenResponse(_,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function No(y,h){return h?ie(h):(V(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ms extends ir{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Gn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Gn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Gn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function it(y){return ci(y.auth,new Ms(y),y.bypassAuthState)}function Ma(y){const{auth:h,user:g}=y;return V(g,h,"internal-error"),qs(g,new Ms(y),y.bypassAuthState)}function xs(y){return xa.apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(y){const{auth:h,user:g}=y;return V(g,h,"internal-error"),Co(g,new Ms(y),y.bypassAuthState)})).apply(this,arguments)}class ko{constructor(h,g,_,A,P=!1){this.auth=h,this.resolver=_,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,f.Z)(function*(_,A){h.pendingPromise={resolve:_,reject:A};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(P){h.reject(P)}});return function(_,A){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,f.Z)(function*(){const{urlResponse:_,sessionId:A,postBody:P,tenantId:q,error:ce,type:Fe}=h;if(ce)return void g.reject(ce);const Ke={auth:g.auth,requestUri:_,sessionId:A,tenantId:q||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Fe)(Ke))}catch(gt){g.reject(gt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return it;case"linkViaPopup":case"linkViaRedirect":return xs;case"reauthViaPopup":case"reauthViaRedirect":return Ma;default:Te(this.auth,"internal-error")}}resolve(h){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wn=new en(2e3,1e4);function Fo(){return(Fo=(0,f.Z)(function*(y,h,g){const _=fn(y);Be(y,h,Ai);const A=No(_,g);return new Os(_,"signInViaPopup",h,A).executeNotNull()})).apply(this,arguments)}function rl(){return(rl=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y);Be(_.auth,h,Ai);const A=No(_.auth,g);return new Os(_.auth,"reauthViaPopup",h,A,_).executeNotNull()})).apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y);Be(_.auth,h,Ai);const A=No(_.auth,g);return new Os(_.auth,"linkViaPopup",h,A,_).executeNotNull()})).apply(this,arguments)}let Os=(()=>{class y extends ko{constructor(g,_,A,P,q){super(g,_,P,q),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const _=yield g.execute();return V(_,g.auth,"internal-error"),_})()}onExecution(){var g=this;return(0,f.Z)(function*(){Z(1===g.filter.length,"Popup operations only handle one event");const _=Ia();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],_),g.authWindow.associatedEvent=_,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var _,A;this.pollId=null!==(A=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Wn.get())};g()}}return y.currentPopupAction=null,y})();const fi=new Map;class il extends ko{constructor(h,g,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,f.Z)(function*(){let _=fi.get(g.auth._key());if(!_){try{const P=(yield function Lo(y,h){return Ur.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;_=()=>Promise.resolve(P)}catch(A){_=()=>Promise.reject(A)}fi.set(g.auth._key(),_)}return g.bypassAuthState||fi.set(g.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,_=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(_,h);if("unknown"!==h.type){if(h.eventId){const A=yield _.auth._redirectUserForId(h.eventId);if(A)return _.user=A,g().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Ur(){return(Ur=(0,f.Z)(function*(y,h){const g=Fn(h),_=is(y);if(!(yield _._isAvailable()))return!1;const A="true"===(yield _._get(g));return yield _._remove(g),A})).apply(this,arguments)}function rs(y,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(y,h){return is(y)._set(Fn(h),"true")})).apply(this,arguments)}function Rs(y,h){fi.set(y._key(),h)}function is(y){return ie(y._redirectPersistence)}function Fn(y){return $n("pendingRedirect",y.config.apiKey,y.name)}function E(){return(E=(0,f.Z)(function*(y,h,g){const _=fn(y);Be(y,h,Ai);const A=No(_,g);return yield rs(A,_),A._openRedirect(_,h,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y);Be(_.auth,h,Ai);const A=No(_.auth,g);yield rs(A,_.auth);const P=yield ut(_);return A._openRedirect(_.auth,h,"reauthViaRedirect",P)})).apply(this,arguments)}function Ce(){return(Ce=(0,f.Z)(function*(y,h,g){const _=(0,R.m9)(y);Be(_.auth,h,Ai);const A=No(_.auth,g);yield Ut(!1,_,h.providerId),yield rs(A,_.auth);const P=yield ut(_);return A._openRedirect(_.auth,h,"linkViaRedirect",P)})).apply(this,arguments)}function et(){return(et=(0,f.Z)(function*(y,h){return yield fn(y)._initializationPromise,pt(y,h,!1)})).apply(this,arguments)}function pt(y,h){return wt.apply(this,arguments)}function wt(){return(wt=(0,f.Z)(function*(y,h,g=!1){const _=fn(y),A=No(_,h),q=yield new il(_,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield _._persistUserIfCurrent(q.user),yield _._setRedirectUser(null,h)),q})).apply(this,arguments)}function ut(y){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(y){const h=Ia(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Vo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(g=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Oi(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ct(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var _;if(h.error&&!Ct(h)){const A=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,A))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const _=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ns(h))}saveEventToCache(h){this.cachedEventUids.add(Ns(h)),this.lastProcessedEventTime=Date.now()}}function Ns(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Ct({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function ks(y){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(y,h={}){return Jt(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Uo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ro=/^https?/;function tf(){return(tf=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield ks(y);for(const g of h)try{if(tg(g))return}catch{}Te(y,"unauthorized-domain")})).apply(this,arguments)}function tg(y){const h=Pe(),{protocol:g,hostname:_}=new URL(h);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===_?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===_}if(!ro.test(g))return!1;if(Uo.test(y))return _===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(_)}const ng=new en(3e4,6e4);function Ty(){const y=An().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Pi=null;function nf(y){return Pi=Pi||function qn(y){return new Promise((h,g)=>{var _,A,P;function q(){Ty(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ty(),g(ve(y,"network-request-failed"))},timeout:ng.get()})}if(null!==(A=null===(_=An().gapi)||void 0===_?void 0:_.iframes)&&void 0!==A&&A.Iframe)h(gapi.iframes.getContext());else{if(null===(P=An().gapi)||void 0===P||!P.load){const ce=Vu("iframefcb");return An()[ce]=()=>{gapi.load?q():g(ve(y,"network-request-failed"))},Po(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Fe=>g(Fe))}q()}}).catch(h=>{throw Pi=null,h})}(y),Pi}const rg=new en(5e3,15e3),Ay={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ig(y){const h=y.config;V(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?bn(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:h.apiKey,appName:y.name,v:oe.SDK_VERSION},A=sf.get(y.config.apiHost);A&&(_.eid=A);const P=y._getFrameworks();return P.length&&(_.fw=P.join(",")),`${g}?${(0,R.xO)(_).slice(1)}`}function Pa(){return Pa=(0,f.Z)(function*(y){const h=yield nf(y),g=An().gapi;return V(g,y,"internal-error"),h.open({where:document.body,url:ig(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ay,dontclear:!0},_=>new Promise(function(){var A=(0,f.Z)(function*(P,q){yield _.restyle({setHideOnLeave:!1});const ce=ve(y,"network-request-failed"),Fe=An().setTimeout(()=>{q(ce)},rg.get());function Ke(){An().clearTimeout(Fe),P(_)}_.ping(Ke).then(Ke,()=>{q(ce)})});return function(P,q){return A.apply(this,arguments)}}()))}),Pa.apply(this,arguments)}const bd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sl{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ad(y,h,g,_,A,P){V(y.config.authDomain,y,"auth-domain-config-required"),V(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:_,v:oe.SDK_VERSION,eventId:A};if(h instanceof Ai){h.setDefaultLanguage(y.languageCode),q.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||(q.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Fe,Ke]of Object.entries(P||{}))q[Fe]=Ke}if(h instanceof Yi){const Fe=h.getScopes().filter(Ke=>""!==Ke);Fe.length>0&&(q.scopes=Fe.join(","))}y.tenantId&&(q.tid=y.tenantId);const ce=q;for(const Fe of Object.keys(ce))void 0===ce[Fe]&&delete ce[Fe];return`${function Sd({config:y}){return y.emulator?bn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(ce).slice(1)}`}const Na="webStorageSupport";class Ri extends class Sy{constructor(h){this.factorId=h}_process(h,g,_){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,_);case"signin":return this._finalizeSignIn(h,g.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ri(h)}_finalizeEnroll(h,g,_){return function xu(y,h){return Jt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(y,h))}(h,{idToken:g,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Lu(y,h){return Jt(y,"POST","/v2/accounts/mfaSignIn:finalize",Ot(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bo=(()=>{class y{constructor(){}static assertion(g){return Ri._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var uf="@firebase/auth";class $0{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(_=>{var A;h((null===(A=_)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jo(){return window}function cf(){return(cf=(0,f.Z)(function*(y,h,g){var _;const{BuildInfo:A}=jo();Z(h.sessionId,"AuthEvent did not contain a session ID");const P=yield Py(h.sessionId),q={};return Kt()?q.ibi=A.packageName:Pn()?q.apn=A.packageName:Te(y,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=P,Ad(y,g,h.type,void 0,null!==(_=h.eventId)&&void 0!==_?_:void 0,q)})).apply(this,arguments)}function ka(){return(ka=(0,f.Z)(function*(y){const{BuildInfo:h}=jo(),g={};Kt()?g.iosBundleId=h.packageName:Pn()?g.androidPackageName=h.packageName:Te(y,"operation-not-supported-in-this-environment"),yield ks(y,g)})).apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(y,h,g){const{cordova:_}=jo();let A=()=>{};try{yield new Promise((P,q)=>{let ce=null;function Fe(){var ct;P();const Zn=null===(ct=_.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof Zn&&Zn(),"function"==typeof g?.close&&g.close()}function Ke(){ce||(ce=window.setTimeout(()=>{q(ve(y,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===document?.visibilityState&&Ke()}h.addPassiveListener(Fe),document.addEventListener("resume",Ke,!1),Pn()&&document.addEventListener("visibilitychange",gt,!1),A=()=>{h.removePassiveListener(Fe),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",gt,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function Py(y){return lg.apply(this,arguments)}function lg(){return(lg=(0,f.Z)(function*(y){const h=z0(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function z0(y){if(Z(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let _=0;_<y.length;_++)g[_]=y.charCodeAt(_);return g}!function G0(y){(0,oe._registerComponent)(new ue.wA("auth",(h,{options:g})=>{const _=h.getProvider("app").getImmediate(),A=h.getProvider("heartbeat"),{apiKey:P,authDomain:q}=_.options;return((ce,Fe)=>{V(P&&!P.includes(":"),"invalid-api-key",{appName:ce.name}),V(!q?.includes(":"),"argument-error",{appName:ce.name});const Ke={apiKey:P,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ys(y)},gt=new St(ce,Fe,Ke);return function Ne(y,h){const g=h?.persistence||[],_=(Array.isArray(g)?g:[g]).map(ie);h?.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(_,h?.popupRedirectResolver)}(gt,g),gt})(_,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,_)=>{h.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new ue.wA("auth-internal",h=>{const g=fn(h.getProvider("auth").getImmediate());return new $0(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(uf,"0.20.7",function H0(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(uf,"0.20.7","esm2017")}("Browser");class Fa extends Vo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function dg(y){return cl.apply(this,arguments)}function cl(){return(cl=(0,f.Z)(function*(y){const h=yield lf()._get(df(y));return h&&(yield lf()._remove(df(y))),h})).apply(this,arguments)}function $u(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const _=Math.floor(Math.random()*h.length);y.push(h.charAt(_))}return y.join("")}function lf(){return ie(_a)}function df(y){return $n("authEvent",y.config.apiKey,y.name)}function Hu(y){if(!y?.includes("?"))return{};const[h,...g]=y.split("?");return(0,R.zd)(g.join("?"))}function fg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function ss(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function pf(y=(0,R.z$)()){return!("file:"!==ss()&&"ionic:"!==ss()&&"capacitor:"!==ss()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rd(){try{const y=self.localStorage,h=Ia();if(y)return y.setItem(h,"1"),y.removeItem(h),!function ll(y=(0,R.z$)()){return function q0(){return(0,R.w1)()&&11===document?.documentMode}()||function Z0(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch{return Nd()&&(0,R.hl)()}return!1}function Nd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kd(){return(function Pd(){return"http:"===ss()||"https:"===ss()}()||(0,R.ru)()||pf())&&!function Ny(){return(0,R.b$)()||(0,R.UG)()}()&&Rd()&&!Nd()}function gf(){return pf()&&typeof document<"u"}function Fd(){return(Fd=(0,f.Z)(function*(){return!!gf()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const br={LOCAL:"local",NONE:"none",SESSION:"session"},Ld=V,mf="persistence";function Gu(y){return ki.apply(this,arguments)}function ki(){return(ki=(0,f.Z)(function*(y){yield y._initializationPromise;const h=yf(),g=$n(mf,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function yf(){var y;try{return(null===(y=function gg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Vd=V;class os{constructor(){this.browserResolver=ie(class ag{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mi,this._completeRedirectFn=pt,this._overrideRedirectResult=Rs}_openPopup(h,g,_,A){var P=this;return(0,f.Z)(function*(){var q;Z(null===(q=P.eventManagers[h._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ce=Ad(h,g,_,Pe(),A);return function so(y,h,g,_=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-_)/2,0).toString();let ce="";const Fe=Object.assign(Object.assign({},bd),{width:_.toString(),height:A.toString(),top:P,left:q}),Ke=(0,R.z$)().toLowerCase();g&&(ce=bi(Ke)?"_blank":g),hn(Ke)&&(h=h||"http://localhost",Fe.scrollbars="yes");const gt=Object.entries(Fe).reduce((Zn,[Li,Wu])=>`${Zn}${Li}=${Wu},`,"");if(function ai(y=(0,R.z$)()){var h;return Kt(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ke)&&"_self"!==ce)return function og(y,h){const g=document.createElement("a");g.href=y,g.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(_)}(h||"",ce),new sl(null);const ct=window.open(h||"",ce,gt);V(ct,y,"popup-blocked");try{ct.focus()}catch{}return new sl(ct)}(h,ce,Ia())})()}_openRedirect(h,g,_,A){var P=this;return(0,f.Z)(function*(){return yield P._originValidation(h),function li(y){An().location.href=y}(Ad(h,g,_,Pe(),A)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:A,promise:P}=this.eventManagers[g];return A?Promise.resolve(A):(Z(P,"If manager is not set, promise should be"),P)}const _=this.initAndGetManager(h);return this.eventManagers[g]={promise:_},_.catch(()=>{delete this.eventManagers[g]}),_}initAndGetManager(h){var g=this;return(0,f.Z)(function*(){const _=yield function sg(y){return Pa.apply(this,arguments)}(h),A=new Vo(h);return _.register("authEvent",P=>(V(P?.authEvent,h,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:A},g.iframes[h._key()]=_,A})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Na,{type:Na},A=>{var P;const q=null===(P=A?.[0])||void 0===P?void 0:P[Na];void 0!==q&&g(!!q),Te(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function pi(y){return tf.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Hs()||On()||Kt()}}),this.cordovaResolver=ie(class Ry{constructor(){this._redirectPersistence=Mi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pt,this._overrideRedirectResult=Rs}_initialize(h){var g=this;return(0,f.Z)(function*(){const _=h._key();let A=g.eventManagers.get(_);return A||(A=new Fa(h),g.eventManagers.set(_,A),g.attachCallbackListeners(h,A)),A})()}_openPopup(h){Te(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,_,A){var P=this;return(0,f.Z)(function*(){!function Md(y){var h,g,_,A,P,q,ce,Fe,Ke,gt;const ct=jo();V("function"==typeof(null===(h=ct?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof(null===(g=ct?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"==typeof(null===(P=null===(A=null===(_=ct?.cordova)||void 0===_?void 0:_.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(Fe=null===(ce=null===(q=ct?.cordova)||void 0===q?void 0:q.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Fe?void 0:Fe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(gt=null===(Ke=ct?.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===gt?void 0:gt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const q=yield P._initialize(h);yield q.initialized(),q.resetRedirect(),function hr(){fi.clear()}(),yield P._originValidation(h);const ce=function La(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:$u(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(h,_,A);yield function ul(y,h){return lf()._set(df(y),h)}(h,ce);const Fe=yield function xy(y,h,g){return cf.apply(this,arguments)}(h,ce,g),Ke=yield function Ni(y){const{cordova:h}=jo();return new Promise(g=>{h.plugins.browsertab.isAvailable(_=>{let A=null;_?h.plugins.browsertab.openUrl(y):A=h.InAppBrowser.open(y,function zr(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Fe);return function al(y,h,g){return Fs.apply(this,arguments)}(h,q,Ke)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Oy(y){return ka.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:_,handleOpenURL:A,BuildInfo:P}=jo(),q=setTimeout((0,f.Z)(function*(){yield dg(h),g.onEvent(fg())}),500),ce=function(){var gt=(0,f.Z)(function*(ct){clearTimeout(q);const Zn=yield dg(h);let Li=null;Zn&&ct?.url&&(Li=function hg(y,h){var g,_;const A=function xd(y){const h=Hu(y),g=h.link?decodeURIComponent(h.link):void 0,_=Hu(g).link,A=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Hu(A).link||A||_||g||y}(h);if(A.includes("/__/auth/callback")){const P=Hu(A),q=P.firebaseError?function hf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,ce=null===(_=null===(g=q?.code)||void 0===g?void 0:g.split("auth/"))||void 0===_?void 0:_[1],Fe=ce?ve(ce):null;return Fe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Zn,ct.url)),g.onEvent(Li||fg())});return function(Zn){return gt.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,ce);const Fe=A,Ke=`${P.packageName.toLowerCase()}://`;jo().handleOpenURL=function(){var gt=(0,f.Z)(function*(ct){if(ct.toLowerCase().startsWith(Ke)&&ce({url:ct}),"function"==typeof Fe)try{Fe(ct)}catch(Zn){console.error(Zn)}});return function(ct){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Mi,this._completeRedirectFn=pt,this._overrideRedirectResult=Rs}_initialize(h){var g=this;return(0,f.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,_,A){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(h,g,_,A)})()}_openRedirect(h,g,_,A){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(h,g,_,A)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return gf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const g=yield function ky(){return Fd.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function $o(y){return y.unwrap()}function Bd(y){return jd(y)}function jd(y){const{_tokenResponse:h}=y instanceof R.ZR?y.customData:y;if(!h)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Sa.credentialFromResult(y);const g=h.providerId;if(!g||"password"===g)return null;let _;switch(g){case"google.com":_=du;break;case"facebook.com":_=ca;break;case"github.com":_=kc;break;case"twitter.com":_=Fr;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:q,pendingToken:ce,nonce:Fe}=h;return P||q||A||ce?ce?g.startsWith("saml.")?la._create(g,ce):Ki._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:A,accessToken:P}):new Ws(g).credential({idToken:A,accessToken:P,rawNonce:Fe}):null}return y instanceof R.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function ar(y,h){return h.catch(g=>{throw g instanceof R.ZR&&function Vs(y,h){var g,_;const A=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(_=h)||void 0===_?void 0:_.code))h.resolver=new Hd(y,function Cn(y,h){var g;const _=(0,R.m9)(y),A=h;return V(h.customData.operationType,_,"argument-error"),V(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,_,"argument-error"),Su._fromError(_,A)}(y,h));else if(A){const P=jd(h),q=h;P&&(q.credential=P,q.tenantId=A.tenantId||void 0,q.email=A.email||void 0,q.phoneNumber=A.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Bd(g),additionalUserInfo:Au(g),user:Qr.getOrCreate(A)}})}function $d(y,h){return hl.apply(this,arguments)}function hl(){return(hl=(0,f.Z)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:_=>ar(y,g.confirm(_))}})).apply(this,arguments)}class Hd{constructor(h,g){this.resolver=g,this.auth=function Ud(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ar($o(this.auth),this.resolver.resolveSignIn(h))}}class Qr{constructor(h){this._delegate=h,this.multiFactor=function Ao(y){const h=(0,R.m9)(y);return To.has(h)||To.set(h,Xh._fromUser(h)),To.get(h)}(h)}static getOrCreate(h){return Qr.USER_MAP.has(h)||Qr.USER_MAP.set(h,new Qr(h)),Qr.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,f.Z)(function*(){return ar(g.auth,yu(g._delegate,h))})()}linkWithPhoneNumber(h,g){var _=this;return(0,f.Z)(function*(){return $d(_.auth,function pn(y,h,g){return hi.apply(this,arguments)}(_._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,f.Z)(function*(){return ar(g.auth,function Bu(y,h,g){return Oa.apply(this,arguments)}(g._delegate,h,os))})()}linkWithRedirect(h){var g=this;return(0,f.Z)(function*(){return yield Gu(fn(g.auth)),function Y(y,h,g){return function ne(y,h,g){return Ce.apply(this,arguments)}(y,h,g)}(g._delegate,h,os)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,f.Z)(function*(){return ar(g.auth,vu(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return $d(this.auth,function Aa(y,h,g){return Er.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return ar(this.auth,function eg(y,h,g){return rl.apply(this,arguments)}(this._delegate,h,os))}reauthenticateWithRedirect(h){var g=this;return(0,f.Z)(function*(){return yield Gu(fn(g.auth)),function D(y,h,g){return function M(y,h,g){return F.apply(this,arguments)}(y,h,g)}(g._delegate,h,os)})()}sendEmailVerification(h){return function $c(y,h){return ya.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,f.Z)(function*(){return yield function Ir(y,h){return fu.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function fd(y,h){return Ys((0,R.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function Ks(y,h){return Ys((0,R.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Xp(y,h){return tl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function zc(y,h){return Wc.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function Hc(y,h,g){return bu.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qr.USER_MAP=new WeakMap;const oo=V;let mg=(()=>{class y{constructor(g,_){if(this.app=g,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;oo(A,"invalid-api-key",{appName:g.name}),oo(A,"invalid-api-key",{appName:g.name});const P=typeof window<"u"?os:void 0;this._delegate=_.initialize({options:{persistence:vf(A,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(_e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,_){!function Ac(y,h,g){const _=fn(y);V(_._canInitEmulator,_,"emulator-config-failed"),V(/^https?:\/\//.test(h),_,"invalid-emulator-scheme");const A=!!g?.disableWarnings,P=Di(h),{host:q,port:ce}=function Rn(y){const h=Di(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const _=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(_);if(A){const P=A[1];return{host:P,port:vs(_.substr(P.length+1))}}{const[P,q]=_.split(":");return{host:P,port:vs(q)}}}(h);_.config.emulator={url:`${P}//${q}${null===ce?"":`:${ce}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:q,port:ce,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function _s(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,_)}applyActionCode(g){return function Zr(y,h){return ha.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return fa(this._delegate,g)}confirmPasswordReset(g,_){return function Iu(y,h,g){return Io.apply(this,arguments)}(this._delegate,g,_)}createUserWithEmailAndPassword(g,_){var A=this;return(0,f.Z)(function*(){return ar(A._delegate,function pa(y,h,g){return wn.apply(this,arguments)}(A._delegate,g,_))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Eu(y,h){return ma.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function es(y,h){return"EMAIL_SIGNIN"===lu.parseLink(h)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,f.Z)(function*(){oo(kd(),g._delegate,"operation-not-supported-in-this-environment");const _=yield function xe(y,h){return et.apply(this,arguments)}(g._delegate,os);return _?ar(g._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function pg(y,h){fn(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,_,A){const{next:P,error:q,complete:ce}=yg(g,_,A);return this._delegate.onAuthStateChanged(P,q,ce)}onIdTokenChanged(g,_,A){const{next:P,error:q,complete:ce}=yg(g,_,A);return this._delegate.onIdTokenChanged(P,q,ce)}sendSignInLinkToEmail(g,_){return function Bc(y,h,g){return Zs.apply(this,arguments)}(this._delegate,g,_)}sendPasswordResetEmail(g,_){return function Cu(y,h,g){return _n.apply(this,arguments)}(this._delegate,g,_||void 0)}setPersistence(g){var _=this;return(0,f.Z)(function*(){let A;switch(function dl(y,h){Ld(Object.values(br).includes(h),y,"invalid-persistence-type"),(0,R.b$)()?Ld(h!==br.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?Ld(h===br.NONE,y,"unsupported-persistence-type"):Nd()?Ld(h===br.NONE||h===br.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):Ld(h===br.NONE||Rd(),y,"unsupported-persistence-type")}(_._delegate,g),g){case br.SESSION:A=Mi;break;case br.LOCAL:A=(yield ie(Mo)._isAvailable())?Mo:_a;break;case br.NONE:A=Wt;break;default:return Te("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ar(this._delegate,function Kh(y){return vn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ar(this._delegate,mn(this._delegate,g))}signInWithCustomToken(g){return ar(this._delegate,function Lc(y,h){return da.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,_){return ar(this._delegate,function Si(y,h,g){return mn((0,R.m9)(y),Ti.credential(h,g))}(this._delegate,g,_))}signInWithEmailLink(g,_){return ar(this._delegate,function Kp(y,h,g){return ga.apply(this,arguments)}(this._delegate,g,_))}signInWithPhoneNumber(g,_){return $d(this._delegate,function rt(y,h,g){return Kr.apply(this,arguments)}(this._delegate,g,_))}signInWithPopup(g){var _=this;return(0,f.Z)(function*(){return oo(kd(),_._delegate,"operation-not-supported-in-this-environment"),ar(_._delegate,function nl(y,h,g){return Fo.apply(this,arguments)}(_._delegate,g,os))})()}signInWithRedirect(g){var _=this;return(0,f.Z)(function*(){return oo(kd(),_._delegate,"operation-not-supported-in-this-environment"),yield Gu(_._delegate),function ln(y,h,g){return function ju(y,h,g){return E.apply(this,arguments)}(y,h,g)}(_._delegate,g,os)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Uc(y,h){return hd.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=br,y})();function yg(y,h,g){let _=y;"function"!=typeof y&&({next:_,error:h,complete:g}=y);const A=_;return{next:q=>A(q&&Qr.getOrCreate(q)),error:h,complete:g}}function vf(y,h){const g=function Fi(y,h){const g=yf();if(!g)return[];const _=$n(mf,y,h);switch(g.getItem(_)){case br.NONE:return[Wt];case br.LOCAL:return[Mo,Mi];case br.SESSION:return[Mi];default:return[]}}(y,h);if(typeof self<"u"&&!g.includes(Mo)&&g.push(Mo),typeof window<"u")for(const _ of[_a,Mi])g.includes(_)||g.push(_);return g.includes(Wt)||g.push(Wt),g}class zu{constructor(){this.providerId="phone",this._delegate=new Sa($o(ee.Z.auth()))}static credential(h,g){return Sa.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}zu.PHONE_SIGN_IN_METHOD=Sa.PHONE_SIGN_IN_METHOD,zu.PROVIDER_ID=Sa.PROVIDER_ID;const vg=V;class _f{constructor(h,g,_=ee.Z.app()){var A;vg(null===(A=_.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new nr(h,g,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wg(y){y.INTERNAL.registerComponent(new ue.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),_=h.getProvider("auth");return new mg(g,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ti,FacebookAuthProvider:ca,GithubAuthProvider:kc,GoogleAuthProvider:du,OAuthProvider:Ws,SAMLAuthProvider:Wr,PhoneAuthProvider:zu,PhoneMultiFactorGenerator:Bo,RecaptchaVerifier:_f,TwitterAuthProvider:Fr,Auth:mg,AuthCredential:ir,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.20")}(ee.Z)},9751:(ot,De,k)=>{k.d(De,{y:()=>he});var f=k(2961),ee=k(727),R=k(8822),oe=k(9635),re=k(2416),de=k(576),ue=k(2806);let he=(()=>{class K{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const _e=new K;return _e.source=this,_e.operator=Se,_e}subscribe(Se,_e,Qe){const me=function j(K){return K&&K instanceof f.Lv||function U(K){return K&&(0,de.m)(K.next)&&(0,de.m)(K.error)&&(0,de.m)(K.complete)}(K)&&(0,ee.Nn)(K)}(Se)?Se:new f.Hp(Se,_e,Qe);return(0,ue.x)(()=>{const{operator:fe,source:Ze}=this;me.add(fe?fe.call(me,Ze):Ze?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Se){try{return this._subscribe(Se)}catch(_e){Se.error(_e)}}forEach(Se,_e){return new(_e=pe(_e))((Qe,me)=>{const fe=new f.Hp({next:Ze=>{try{Se(Ze)}catch(tt){me(tt),fe.unsubscribe()}},error:me,complete:Qe});this.subscribe(fe)})}_subscribe(Se){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Se)}[R.L](){return this}pipe(...Se){return(0,oe.U)(Se)(this)}toPromise(Se){return new(Se=pe(Se))((_e,Qe)=>{let me;this.subscribe(fe=>me=fe,fe=>Qe(fe),()=>_e(me))})}}return K.create=Ve=>new K(Ve),K})();function pe(K){var Ve;return null!==(Ve=K??re.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(ot,De,k)=>{k.d(De,{x:()=>ue});var f=k(9751),ee=k(727);const oe=(0,k(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=k(8737),de=k(2806);let ue=(()=>{class pe extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const K=new he(this,this);return K.operator=j,K}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(j)}})}error(j){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:K}=this;for(;K.length;)K.shift().error(j)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:K,isStopped:Ve,observers:Se}=this;return K||Ve?ee.Lc:(this.currentObservers=null,Se.push(j),new ee.w0(()=>{this.currentObservers=null,(0,re.P)(Se,j)}))}_checkFinalizedStatuses(j){const{hasError:K,thrownError:Ve,isStopped:Se}=this;K?j.error(Ve):Se&&j.complete()}asObservable(){const j=new f.y;return j.source=this,j}}return pe.create=(U,j)=>new he(U,j),pe})();class he extends ue{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===K||K.call(j,U)}error(U){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===K||K.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,K;return null!==(K=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==K?K:ee.Lc}}},2961:(ot,De,k)=>{k.d(De,{Hp:()=>Qe,Lv:()=>K});var f=k(576),ee=k(727),R=k(2416),oe=k(7849);function re(){}const de=pe("C",void 0,void 0);function pe(Te,ve,Ie){return{kind:Te,value:ve,error:Ie}}var U=k(3410),j=k(2806);class K extends ee.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,ee.Nn)(ve)&&ve.add(this)):this.destination=tt}static create(ve,Ie,Be){return new Qe(ve,Ie,Be)}next(ve){this.isStopped?Ze(function he(Te){return pe("N",Te,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Ze(function ue(Te){return pe("E",void 0,Te)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Ze(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Se(Te,ve){return Ve.call(Te,ve)}class _e{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(ve)}catch(Be){me(Be)}}error(ve){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(ve)}catch(Be){me(Be)}else me(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ie){me(Ie)}}}class Qe extends K{constructor(ve,Ie,Be){let je;if(super(),(0,f.m)(ve)||!ve)je={next:ve??void 0,error:Ie??void 0,complete:Be??void 0};else{let V;this&&R.v.useDeprecatedNextContext?(V=Object.create(ve),V.unsubscribe=()=>this.unsubscribe(),je={next:ve.next&&Se(ve.next,V),error:ve.error&&Se(ve.error,V),complete:ve.complete&&Se(ve.complete,V)}):je=ve}this.destination=new _e(je)}}function me(Te){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Te):(0,oe.h)(Te)}function Ze(Te,ve){const{onStoppedNotification:Ie}=R.v;Ie&&U.z.setTimeout(()=>Ie(Te,ve))}const tt={closed:!0,next:re,error:function fe(Te){throw Te},complete:re}},727:(ot,De,k)=>{k.d(De,{Lc:()=>de,w0:()=>re,Nn:()=>ue});var f=k(576);const R=(0,k(3888).d)(pe=>function(j){pe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((K,Ve)=>`${Ve+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=k(8737);class re{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Se of j)Se.remove(this);else j.remove(this);const{initialTeardown:K}=this;if((0,f.m)(K))try{K()}catch(Se){U=Se instanceof R?Se.errors:[Se]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Se of Ve)try{he(Se)}catch(_e){U=U??[],_e instanceof R?U=[...U,..._e.errors]:U.push(_e)}}if(U)throw new R(U)}}add(U){var j;if(U&&U!==this)if(this.closed)he(U);else{if(U instanceof re){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,U)}remove(U){const{_finalizers:j}=this;j&&(0,oe.P)(j,U),U instanceof re&&U._removeParent(this)}}re.EMPTY=(()=>{const pe=new re;return pe.closed=!0,pe})();const de=re.EMPTY;function ue(pe){return pe instanceof re||pe&&"closed"in pe&&(0,f.m)(pe.remove)&&(0,f.m)(pe.add)&&(0,f.m)(pe.unsubscribe)}function he(pe){(0,f.m)(pe)?pe():pe.unsubscribe()}},2416:(ot,De,k)=>{k.d(De,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ot,De,k)=>{k.d(De,{E:()=>ee});const ee=new(k(9751).y)(re=>re.complete())},8996:(ot,De,k)=>{k.d(De,{D:()=>ve});var f=k(8421),ee=k(5363),R=k(9468),de=k(9751),he=k(2202),pe=k(576),U=k(9672);function K(Ie,Be){if(!Ie)throw new Error("Iterable cannot be null");return new de.y(je=>{(0,U.f)(je,Be,()=>{const V=Ie[Symbol.asyncIterator]();(0,U.f)(je,Be,()=>{V.next().then(ge=>{ge.done?je.complete():je.next(ge.value)})},0,!0)})})}var Ve=k(3670),Se=k(8239),_e=k(1144),Qe=k(6495),me=k(2206),fe=k(4532),Ze=k(3260);function ve(Ie,Be){return Be?function Te(Ie,Be){if(null!=Ie){if((0,Ve.c)(Ie))return function oe(Ie,Be){return(0,f.Xf)(Ie).pipe((0,R.R)(Be),(0,ee.Q)(Be))}(Ie,Be);if((0,_e.z)(Ie))return function ue(Ie,Be){return new de.y(je=>{let V=0;return Be.schedule(function(){V===Ie.length?je.complete():(je.next(Ie[V++]),je.closed||this.schedule())})})}(Ie,Be);if((0,Se.t)(Ie))return function re(Ie,Be){return(0,f.Xf)(Ie).pipe((0,R.R)(Be),(0,ee.Q)(Be))}(Ie,Be);if((0,me.D)(Ie))return K(Ie,Be);if((0,Qe.T)(Ie))return function j(Ie,Be){return new de.y(je=>{let V;return(0,U.f)(je,Be,()=>{V=Ie[he.h](),(0,U.f)(je,Be,()=>{let ge,Z;try{({value:ge,done:Z}=V.next())}catch(J){return void je.error(J)}Z?je.complete():je.next(ge)},0,!0)}),()=>(0,pe.m)(V?.return)&&V.return()})}(Ie,Be);if((0,Ze.L)(Ie))return function tt(Ie,Be){return K((0,Ze.Q)(Ie),Be)}(Ie,Be)}throw(0,fe.z)(Ie)}(Ie,Be):(0,f.Xf)(Ie)}},8421:(ot,De,k)=>{k.d(De,{Xf:()=>Ve});var f=k(655),ee=k(1144),R=k(8239),oe=k(9751),re=k(3670),de=k(2206),ue=k(4532),he=k(6495),pe=k(3260),U=k(576),j=k(7849),K=k(8822);function Ve(Te){if(Te instanceof oe.y)return Te;if(null!=Te){if((0,re.c)(Te))return function Se(Te){return new oe.y(ve=>{const Ie=Te[K.L]();if((0,U.m)(Ie.subscribe))return Ie.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,ee.z)(Te))return function _e(Te){return new oe.y(ve=>{for(let Ie=0;Ie<Te.length&&!ve.closed;Ie++)ve.next(Te[Ie]);ve.complete()})}(Te);if((0,R.t)(Te))return function Qe(Te){return new oe.y(ve=>{Te.then(Ie=>{ve.closed||(ve.next(Ie),ve.complete())},Ie=>ve.error(Ie)).then(null,j.h)})}(Te);if((0,de.D)(Te))return fe(Te);if((0,he.T)(Te))return function me(Te){return new oe.y(ve=>{for(const Ie of Te)if(ve.next(Ie),ve.closed)return;ve.complete()})}(Te);if((0,pe.L)(Te))return function Ze(Te){return fe((0,pe.Q)(Te))}(Te)}throw(0,ue.z)(Te)}function fe(Te){return new oe.y(ve=>{(function tt(Te,ve){var Ie,Be,je,V;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,f.KL)(Te);!(Be=yield Ie.next()).done;)if(ve.next(Be.value),ve.closed)return}catch(ge){je={error:ge}}finally{try{Be&&!Be.done&&(V=Ie.return)&&(yield V.call(Ie))}finally{if(je)throw je.error}}ve.complete()})})(Te,ve).catch(Ie=>ve.error(Ie))})}},6451:(ot,De,k)=>{k.d(De,{T:()=>de});var f=k(8189),ee=k(8421),R=k(515),oe=k(7669),re=k(8996);function de(...ue){const he=(0,oe.yG)(ue),pe=(0,oe._6)(ue,1/0),U=ue;return U.length?1===U.length?(0,ee.Xf)(U[0]):(0,f.J)(pe)((0,re.D)(U,he)):R.E}},5403:(ot,De,k)=>{k.d(De,{x:()=>ee});var f=k(2961);function ee(oe,re,de,ue,he){return new R(oe,re,de,ue,he)}class R extends f.Lv{constructor(re,de,ue,he,pe,U){super(re),this.onFinalize=pe,this.shouldUnsubscribe=U,this._next=de?function(j){try{de(j)}catch(K){re.error(K)}}:super._next,this._error=he?function(j){try{he(j)}catch(K){re.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(ot,De,k)=>{k.d(De,{U:()=>R});var f=k(4482),ee=k(5403);function R(oe,re){return(0,f.e)((de,ue)=>{let he=0;de.subscribe((0,ee.x)(ue,pe=>{ue.next(oe.call(re,pe,he++))}))})}},8189:(ot,De,k)=>{k.d(De,{J:()=>R});var f=k(5577),ee=k(4671);function R(oe=1/0){return(0,f.z)(ee.y,oe)}},5577:(ot,De,k)=>{k.d(De,{z:()=>he});var f=k(4004),ee=k(8421),R=k(4482),oe=k(9672),re=k(5403),ue=k(576);function he(pe,U,j=1/0){return(0,ue.m)(U)?he((K,Ve)=>(0,f.U)((Se,_e)=>U(K,Se,Ve,_e))((0,ee.Xf)(pe(K,Ve))),j):("number"==typeof U&&(j=U),(0,R.e)((K,Ve)=>function de(pe,U,j,K,Ve,Se,_e,Qe){const me=[];let fe=0,Ze=0,tt=!1;const Te=()=>{tt&&!me.length&&!fe&&U.complete()},ve=Be=>fe<K?Ie(Be):me.push(Be),Ie=Be=>{Se&&U.next(Be),fe++;let je=!1;(0,ee.Xf)(j(Be,Ze++)).subscribe((0,re.x)(U,V=>{Ve?.(V),Se?ve(V):U.next(V)},()=>{je=!0},void 0,()=>{if(je)try{for(fe--;me.length&&fe<K;){const V=me.shift();_e?(0,oe.f)(U,_e,()=>Ie(V)):Ie(V)}Te()}catch(V){U.error(V)}}))};return pe.subscribe((0,re.x)(U,ve,()=>{tt=!0,Te()})),()=>{Qe?.()}}(K,Ve,pe,j)))}},5363:(ot,De,k)=>{k.d(De,{Q:()=>oe});var f=k(9672),ee=k(4482),R=k(5403);function oe(re,de=0){return(0,ee.e)((ue,he)=>{ue.subscribe((0,R.x)(he,pe=>(0,f.f)(he,re,()=>he.next(pe),de),()=>(0,f.f)(he,re,()=>he.complete(),de),pe=>(0,f.f)(he,re,()=>he.error(pe),de)))})}},3099:(ot,De,k)=>{k.d(De,{B:()=>re});var f=k(8421),ee=k(7579),R=k(2961),oe=k(4482);function re(ue={}){const{connector:he=(()=>new ee.x),resetOnError:pe=!0,resetOnComplete:U=!0,resetOnRefCountZero:j=!0}=ue;return K=>{let Ve,Se,_e,Qe=0,me=!1,fe=!1;const Ze=()=>{Se?.unsubscribe(),Se=void 0},tt=()=>{Ze(),Ve=_e=void 0,me=fe=!1},Te=()=>{const ve=Ve;tt(),ve?.unsubscribe()};return(0,oe.e)((ve,Ie)=>{Qe++,!fe&&!me&&Ze();const Be=_e=_e??he();Ie.add(()=>{Qe--,0===Qe&&!fe&&!me&&(Se=de(Te,j))}),Be.subscribe(Ie),!Ve&&Qe>0&&(Ve=new R.Hp({next:je=>Be.next(je),error:je=>{fe=!0,Ze(),Se=de(tt,pe,je),Be.error(je)},complete:()=>{me=!0,Ze(),Se=de(tt,U),Be.complete()}}),(0,f.Xf)(ve).subscribe(Ve))})(K)}}function de(ue,he,...pe){if(!0===he)return void ue();if(!1===he)return;const U=new R.Hp({next:()=>{U.unsubscribe(),ue()}});return he(...pe).subscribe(U)}},9468:(ot,De,k)=>{k.d(De,{R:()=>ee});var f=k(4482);function ee(R,oe=0){return(0,f.e)((re,de)=>{de.add(R.schedule(()=>re.subscribe(de),oe))})}},8505:(ot,De,k)=>{k.d(De,{b:()=>re});var f=k(576),ee=k(4482),R=k(5403),oe=k(4671);function re(de,ue,he){const pe=(0,f.m)(de)||ue||he?{next:de,error:ue,complete:he}:de;return pe?(0,ee.e)((U,j)=>{var K;null===(K=pe.subscribe)||void 0===K||K.call(pe);let Ve=!0;U.subscribe((0,R.x)(j,Se=>{var _e;null===(_e=pe.next)||void 0===_e||_e.call(pe,Se),j.next(Se)},()=>{var Se;Ve=!1,null===(Se=pe.complete)||void 0===Se||Se.call(pe),j.complete()},Se=>{var _e;Ve=!1,null===(_e=pe.error)||void 0===_e||_e.call(pe,Se),j.error(Se)},()=>{var Se,_e;Ve&&(null===(Se=pe.unsubscribe)||void 0===Se||Se.call(pe)),null===(_e=pe.finalize)||void 0===_e||_e.call(pe)}))}):oe.y}},4408:(ot,De,k)=>{k.d(De,{o:()=>re});var f=k(727);class ee extends f.w0{constructor(ue,he){super()}schedule(ue,he=0){return this}}const R={setInterval(de,ue,...he){const{delegate:pe}=R;return pe?.setInterval?pe.setInterval(de,ue,...he):setInterval(de,ue,...he)},clearInterval(de){const{delegate:ue}=R;return(ue?.clearInterval||clearInterval)(de)},delegate:void 0};var oe=k(8737);class re extends ee{constructor(ue,he){super(ue,he),this.scheduler=ue,this.work=he,this.pending=!1}schedule(ue,he=0){if(this.closed)return this;this.state=ue;const pe=this.id,U=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(U,pe,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(U,this.id,he),this}requestAsyncId(ue,he,pe=0){return R.setInterval(ue.flush.bind(ue,this),pe)}recycleAsyncId(ue,he,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return he;R.clearInterval(he)}execute(ue,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ue,he);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,he){let U,pe=!1;try{this.work(ue)}catch(j){pe=!0,U=j||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:ue,scheduler:he}=this,{actions:pe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(pe,this),null!=ue&&(this.id=this.recycleAsyncId(he,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(ot,De,k)=>{k.d(De,{v:()=>R});var f=k(6063);class ee{constructor(re,de=ee.now){this.schedulerActionCtor=re,this.now=de}schedule(re,de=0,ue){return new this.schedulerActionCtor(this,re).schedule(ue,de)}}ee.now=f.l.now;class R extends ee{constructor(re,de=ee.now){super(re,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:de}=this;if(this._active)return void de.push(re);let ue;this._active=!0;do{if(ue=re.execute(re.state,re.delay))break}while(re=de.shift());if(this._active=!1,ue){for(;re=de.shift();)re.unsubscribe();throw ue}}}},4986:(ot,De,k)=>{k.d(De,{z:()=>R});var f=k(4408);const R=new(k(7565).v)(f.o)},6063:(ot,De,k)=>{k.d(De,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(ot,De,k)=>{k.d(De,{z:()=>f});const f={setTimeout(ee,R,...oe){const{delegate:re}=f;return re?.setTimeout?re.setTimeout(ee,R,...oe):setTimeout(ee,R,...oe)},clearTimeout(ee){const{delegate:R}=f;return(R?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(ot,De,k)=>{k.d(De,{h:()=>ee});const ee=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ot,De,k)=>{k.d(De,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ot,De,k)=>{k.d(De,{_6:()=>de,jO:()=>oe,yG:()=>re});var f=k(576);function R(ue){return ue[ue.length-1]}function oe(ue){return(0,f.m)(R(ue))?ue.pop():void 0}function re(ue){return function ee(ue){return ue&&(0,f.m)(ue.schedule)}(R(ue))?ue.pop():void 0}function de(ue,he){return"number"==typeof R(ue)?ue.pop():he}},8737:(ot,De,k)=>{function f(ee,R){if(ee){const oe=ee.indexOf(R);0<=oe&&ee.splice(oe,1)}}k.d(De,{P:()=>f})},3888:(ot,De,k)=>{function f(ee){const oe=ee(re=>{Error.call(re),re.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(De,{d:()=>f})},2806:(ot,De,k)=>{k.d(De,{O:()=>oe,x:()=>R});var f=k(2416);let ee=null;function R(re){if(f.v.useDeprecatedSynchronousErrorHandling){const de=!ee;if(de&&(ee={errorThrown:!1,error:null}),re(),de){const{errorThrown:ue,error:he}=ee;if(ee=null,ue)throw he}}else re()}function oe(re){f.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=re)}},9672:(ot,De,k)=>{function f(ee,R,oe,re=0,de=!1){const ue=R.schedule(function(){oe(),de?ee.add(this.schedule(null,re)):this.unsubscribe()},re);if(ee.add(ue),!de)return ue}k.d(De,{f:()=>f})},4671:(ot,De,k)=>{function f(ee){return ee}k.d(De,{y:()=>f})},1144:(ot,De,k)=>{k.d(De,{z:()=>f});const f=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(ot,De,k)=>{k.d(De,{D:()=>ee});var f=k(576);function ee(R){return Symbol.asyncIterator&&(0,f.m)(R?.[Symbol.asyncIterator])}},576:(ot,De,k)=>{function f(ee){return"function"==typeof ee}k.d(De,{m:()=>f})},3670:(ot,De,k)=>{k.d(De,{c:()=>R});var f=k(8822),ee=k(576);function R(oe){return(0,ee.m)(oe[f.L])}},6495:(ot,De,k)=>{k.d(De,{T:()=>R});var f=k(2202),ee=k(576);function R(oe){return(0,ee.m)(oe?.[f.h])}},8239:(ot,De,k)=>{k.d(De,{t:()=>ee});var f=k(576);function ee(R){return(0,f.m)(R?.then)}},3260:(ot,De,k)=>{k.d(De,{L:()=>oe,Q:()=>R});var f=k(655),ee=k(576);function R(re){return(0,f.FC)(this,arguments,function*(){const ue=re.getReader();try{for(;;){const{value:he,done:pe}=yield(0,f.qq)(ue.read());if(pe)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(he)}}finally{ue.releaseLock()}})}function oe(re){return(0,ee.m)(re?.getReader)}},4482:(ot,De,k)=>{k.d(De,{A:()=>ee,e:()=>R});var f=k(576);function ee(oe){return(0,f.m)(oe?.lift)}function R(oe){return re=>{if(ee(re))return re.lift(function(de){try{return oe(de,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ot,De,k)=>{k.d(De,{U:()=>R,z:()=>ee});var f=k(4671);function ee(...oe){return R(oe)}function R(oe){return 0===oe.length?f.y:1===oe.length?oe[0]:function(de){return oe.reduce((ue,he)=>he(ue),de)}}},7849:(ot,De,k)=>{k.d(De,{h:()=>R});var f=k(2416),ee=k(3410);function R(oe){ee.z.setTimeout(()=>{const{onUnhandledError:re}=f.v;if(!re)throw oe;re(oe)})}},4532:(ot,De,k)=>{function f(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>f})},655:(ot,De,k)=>{function oe(Z,J){var ie={};for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&J.indexOf(te)<0&&(ie[te]=Z[te]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(te=Object.getOwnPropertySymbols(Z);Ne<te.length;Ne++)J.indexOf(te[Ne])<0&&Object.prototype.propertyIsEnumerable.call(Z,te[Ne])&&(ie[te[Ne]]=Z[te[Ne]])}return ie}function he(Z,J,ie,te){return new(ie||(ie=Promise))(function(Pe,lt){function Bt(en){try{ze(te.next(en))}catch(bn){lt(bn)}}function Vt(en){try{ze(te.throw(en))}catch(bn){lt(bn)}}function ze(en){en.done?Pe(en.value):function Ne(Pe){return Pe instanceof ie?Pe:new ie(function(lt){lt(Pe)})}(en.value).then(Bt,Vt)}ze((te=te.apply(Z,J||[])).next())})}function me(Z){return this instanceof me?(this.v=Z,this):new me(Z)}function fe(Z,J,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,te=ie.apply(Z,J||[]),Pe=[];return Ne={},lt("next"),lt("throw"),lt("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function lt(Ht){te[Ht]&&(Ne[Ht]=function(Gt){return new Promise(function(vr,Ot){Pe.push([Ht,Gt,vr,Ot])>1||Bt(Ht,Gt)})})}function Bt(Ht,Gt){try{!function Vt(Ht){Ht.value instanceof me?Promise.resolve(Ht.value.v).then(ze,en):bn(Pe[0][2],Ht)}(te[Ht](Gt))}catch(vr){bn(Pe[0][3],vr)}}function ze(Ht){Bt("next",Ht)}function en(Ht){Bt("throw",Ht)}function bn(Ht,Gt){Ht(Gt),Pe.shift(),Pe.length&&Bt(Pe[0][0],Pe[0][1])}}function tt(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,J=Z[Symbol.asyncIterator];return J?J.call(Z):(Z=function K(Z){var J="function"==typeof Symbol&&Symbol.iterator,ie=J&&Z[J],te=0;if(ie)return ie.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&te>=Z.length&&(Z=void 0),{value:Z&&Z[te++],done:!Z}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),ie={},te("next"),te("throw"),te("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function te(Pe){ie[Pe]=Z[Pe]&&function(lt){return new Promise(function(Bt,Vt){!function Ne(Pe,lt,Bt,Vt){Promise.resolve(Vt).then(function(ze){Pe({value:ze,done:Bt})},lt)}(Bt,Vt,(lt=Z[Pe](lt)).done,lt.value)})}}}k.d(De,{FC:()=>fe,KL:()=>tt,_T:()=>oe,mG:()=>he,qq:()=>me})},4650:(ot,De,k)=>{k.d(De,{$8M:()=>Lu,$Z:()=>kw,AFp:()=>B_,ALo:()=>iI,AaK:()=>he,AsE:()=>Zv,B6R:()=>z,CHM:()=>wu,CRH:()=>Sh,CZH:()=>xh,CqO:()=>Vv,D6c:()=>rE,DdM:()=>w_,EJc:()=>$_,EpF:()=>Nm,F4k:()=>hC,FYo:()=>Fe,FiY:()=>xe,G48:()=>HI,GfV:()=>Zn,Gpc:()=>j,JOm:()=>Ho,KtG:()=>Cu,LFG:()=>ln,LSH:()=>Od,Lbi:()=>GD,Lck:()=>gD,MAs:()=>kv,MMx:()=>y_,NdJ:()=>Uv,OlP:()=>on,Oqu:()=>zf,PXZ:()=>ay,Q6J:()=>Om,QGY:()=>Lv,QP$:()=>bi,Qsj:()=>Ke,R0b:()=>Hi,RDi:()=>ig,Rgc:()=>up,SBq:()=>P,Sil:()=>KD,Suo:()=>dp,TTD:()=>Yi,TgZ:()=>Ol,X6Q:()=>$I,XFs:()=>qe,Xpm:()=>$,Xts:()=>Rd,Y36:()=>_l,YKP:()=>m_,YNc:()=>Nv,Yjl:()=>Nt,Yz7:()=>Gt,Z0I:()=>oa,ZZ4:()=>y0,_Bn:()=>KC,_UZ:()=>Rm,_Vd:()=>g,_c5:()=>nE,_uU:()=>Wv,aQg:()=>Sp,c2e:()=>WD,cJS:()=>Ot,cg1:()=>Um,dDg:()=>Q_,dqk:()=>tn,eFA:()=>uy,ekj:()=>ch,eoX:()=>J_,f3M:()=>E,g9A:()=>sy,h0i:()=>ql,hGG:()=>_0,iGM:()=>O_,ifc:()=>st,ip1:()=>ry,jDz:()=>zm,kL8:()=>TC,lG2:()=>$n,lcZ:()=>sI,lqb:()=>Vs,lri:()=>wp,n5z:()=>ns,oAB:()=>nt,oxw:()=>Za,q4F:()=>Li,qLn:()=>wf,qOj:()=>Im,qZA:()=>ni,rWj:()=>Rh,s9C:()=>Vn,sBO:()=>u0,sIi:()=>Wa,s_b:()=>Zm,soG:()=>ru,tb:()=>j_,tp0:()=>pt,uIk:()=>Am,vHH:()=>_e,vpe:()=>ra,wAp:()=>Ye,xi3:()=>oI,xp6:()=>Dw,z2F:()=>Nh,zSh:()=>Vd,zs3:()=>$a});var f=k(7579),ee=k(727),R=k(9751),oe=k(6451),re=k(3099);function de(i){for(let s in i)if(i[s]===de)return s;throw Error("Could not find renamed property on target object.")}function ue(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function he(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(he).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function pe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const U=de({__forward_ref__:de});function j(i){return i.__forward_ref__=j,i.toString=function(){return he(this())},i}function K(i){return Ve(i)?i():i}function Ve(i){return"function"==typeof i&&i.hasOwnProperty(U)&&i.__forward_ref__===j}class _e extends Error{constructor(s,a){super(function Qe(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function ve(i,s){throw new _e(-201,!1)}function Vt(i,s){null==i&&function ze(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Gt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ot(i){return{providers:i.providers||[],imports:i.imports||[]}}function Jt(i){return Pr(i,Ei)||Pr(i,ii)}function oa(i){return null!==Jt(i)}function Pr(i,s){return i.hasOwnProperty(s)?i[s]:null}function ms(i){return i&&(i.hasOwnProperty(Nr)||i.hasOwnProperty(vo))?i[Nr]:null}const Ei=de({\u0275prov:de}),Nr=de({\u0275inj:de}),ii=de({ngInjectableDef:de}),vo=de({ngInjectorDef:de});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let kr;function Dn(i){const s=kr;return kr=i,s}function si(i,s,a){const c=Jt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&qe.Optional?null:void 0!==s?s:void ve(he(i))}function Tn(i){return{toString:i}.toString()}var jn=(()=>((jn=jn||{})[jn.OnPush=0]="OnPush",jn[jn.Default=1]="Default",jn))(),st=(()=>{return(i=st||(st={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",st;var i})();const tn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_r={},mt=[],qi=de({\u0275cmp:de}),zt=de({\u0275dir:de}),oi=de({\u0275pipe:de}),$t=de({\u0275mod:de}),W=de({\u0275fac:de}),B=de({__NG_ELEMENT_ID__:de});let L=0;function $(i){return Tn(()=>{const a=!0===i.standalone,c={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||mt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||st.Emulated,id:"c"+L++,styles:i.styles||mt,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,v=i.features;return l.inputs=Wt(i.inputs,c),l.outputs=Wt(i.outputs),v&&v.forEach(C=>C(l)),l.directiveDefs=p?()=>("function"==typeof p?p():p).map(Ee).filter(Ue):null,l.pipeDefs=p?()=>("function"==typeof p?p():p).map(On).filter(Ue):null,l})}function z(i,s,a){const c=i.\u0275cmp;c.directiveDefs=()=>("function"==typeof s?s():s).map(Ee),c.pipeDefs=()=>("function"==typeof a?a():a).map(On)}function Ee(i){return At(i)||hn(i)}function Ue(i){return null!==i}function nt(i){return Tn(()=>({type:i.type,bootstrap:i.bootstrap||mt,declarations:i.declarations||mt,imports:i.imports||mt,exports:i.exports||mt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Wt(i,s){if(null==i)return _r;const a={};for(const c in i)if(i.hasOwnProperty(c)){let l=i[c],p=l;Array.isArray(l)&&(p=l[1],l=l[0]),a[l]=c,s&&(s[l]=p)}return a}const $n=$;function Nt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function At(i){return i[qi]||null}function hn(i){return i[zt]||null}function On(i){return i[oi]||null}function bi(i){const s=At(i)||hn(i)||On(i);return null!==s&&s.standalone}function wr(i,s){const a=i[$t]||null;if(!a&&!0===s)throw new Error(`Type ${he(i)} does not have '\u0275mod' property.`);return a}function er(i){return Array.isArray(i)&&"object"==typeof i[1]}function Cr(i){return Array.isArray(i)&&!0===i[1]}function cu(i){return 0!=(8&i.flags)}function ua(i){return 2==(2&i.flags)}function Oc(i){return 1==(1&i.flags)}function dr(i){return null!==i.template}function Hh(i){return 0!=(256&i[2])}function Ti(i,s){return i.hasOwnProperty(W)?i[W]:null}class Ai{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Yi(){return Ws}function Ws(i){return i.type.prototype.ngOnChanges&&(i.setInput=du),ca}function ca(){const i=qh(this),s=i?.current;if(s){const a=i.previous;if(a===_r)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function du(i,s,a,c){const l=qh(i)||function la(i,s){return i[kc]=s}(i,{previous:_r,current:null}),p=l.current||(l.current={}),v=l.previous,C=this.declaredInputs[a],I=v[C];p[C]=new Ai(I&&I.currentValue,s,v===_r),i[c]=s}Yi.ngInherit=!0;const kc="__ngSimpleChanges__";function qh(i){return i[kc]||null}function vn(i){for(;Array.isArray(i);)i=i[0];return i}function qr(i,s){return vn(s[i])}function Ir(i,s){return vn(s[i.index])}function Co(i,s){return i.data[s]}function Ji(i,s){return i[s]}function Ut(i,s){const a=s[i];return er(a)?a:a[0]}function qs(i){return 64==(64&i[2])}function ci(i,s){return null==s?null:i[s]}function mu(i){i[18]=0}function mn(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const yt={lFrame:zc(null),bindingsEnabled:!0};function Xi(){return yt.bindingsEnabled}function be(){return yt.lFrame.lView}function kt(){return yt.lFrame.tView}function wu(i){return yt.lFrame.contextLView=i,i[8]}function Cu(i){return yt.lFrame.contextLView=null,i}function _n(){let i=Iu();for(;null!==i&&64===i.type;)i=i.parent;return i}function Iu(){return yt.lFrame.currentTNode}function Zr(i,s){const a=yt.lFrame;a.currentTNode=i,a.isParent=s}function ha(){return yt.lFrame.isParent}function wn(){const i=yt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Zs(){return yt.lFrame.bindingIndex++}function es(i){const s=yt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Yp(i,s){const a=yt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Eu(s)}function Eu(i){yt.lFrame.currentDirectiveIndex=i}function $c(){return yt.lFrame.currentQueryIndex}function ya(i){yt.lFrame.currentQueryIndex=i}function Hc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function bu(i,s,a){if(a&qe.SkipSelf){let l=s,p=i;for(;!(l=l.parent,null!==l||a&qe.Host||(l=Hc(p),null===l||(p=p[15],10&l.type))););if(null===l)return!1;s=l,i=p}const c=yt.lFrame=Gc();return c.currentTNode=s,c.lView=i,!0}function Du(i){const s=Gc(),a=i[1];yt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Gc(){const i=yt.lFrame,s=null===i?null:i.child;return null===s?zc(i):s}function zc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Wc(){const i=yt.lFrame;return yt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const fd=Wc;function Ks(){const i=Wc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function zn(){return yt.lFrame.selectedIndex}function Lr(i){yt.lFrame.selectedIndex=i}function cn(){const i=yt.lFrame;return Co(i.tView,i.selectedIndex)}function Kc(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:x}=p;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),C&&((i.contentHooks||(i.contentHooks=[])).push(a,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,C)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function Eo(i,s,a){Do(i,s,3,a)}function bo(i,s,a,c){(3&i[2])===a&&Do(i,s,a,c)}function md(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Do(i,s,a,c){const p=c??-1,v=s.length-1;let C=0;for(let I=void 0!==c?65535&i[18]:0;I<v;I++)if("number"==typeof s[I+1]){if(C=s[I],null!=c&&C>=c)break}else s[I]<0&&(i[18]+=65536),(C<p||-1==p)&&(yd(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function yd(i,s,a,c){const l=a[c]<0,p=a[c+1],C=i[l?-a[c]:a[c]];if(l){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class bs{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ao(i,s,a){let c=0;for(;c<a.length;){const l=a[c];if("number"==typeof l){if(0!==l)break;c++;const p=a[c++],v=a[c++],C=a[c++];i.setAttribute(s,v,C,p)}else{const p=l,v=a[++c];Ou(p)?i.setProperty(s,p,v):i.setAttribute(s,p,v),c++}}return c}function Js(i){return 3===i||4===i||6===i}function Ou(i){return 64===i.charCodeAt(0)}function va(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const l=s[c];"number"==typeof l?a=l:0===a||_d(i,a,l,null,-1===a||2===a?s[++c]:null)}}return i}function _d(i,s,a,c,l){let p=0,v=i.length;if(-1===s)v=-1;else for(;p<i.length;){const C=i[p++];if("number"==typeof C){if(C===s){v=-1;break}if(C>s){v=p-1;break}}}for(;p<i.length;){const C=i[p];if("number"==typeof C)break;if(C===a){if(null===c)return void(null!==l&&(i[p+1]=l));if(c===i[p+1])return void(i[p+2]=l)}p++,null!==c&&p++,null!==l&&p++}-1!==v&&(i.splice(v,0,s),p=v+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==l&&i.splice(p++,0,l)}function wd(i){return-1!==i}function tr(i){return 32767&i}function wa(i,s){let a=function _a(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let Mi=!0;function Ca(i){const s=Mi;return Mi=i,s}let An=0;const li={};function Xs(i,s){const a=Ru(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,Ea(c.data,i),Ea(s,null),Ea(c.blueprint,null));const l=Nu(i,s),p=i.injectorIndex;if(wd(l)){const v=tr(l),C=wa(l,s),I=C[1].data;for(let T=0;T<8;T++)s[p+T]=C[v+T]|I[v+T]}return s[p+8]=l,p}function Ea(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ru(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Nu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,l=s;for(;null!==l;){if(c=xo(l),null===c)return-1;if(a++,l=l[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Ds(i,s,a){!function Pu(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(B)&&(c=a[B]),null==c&&(c=a[B]=An++);const l=255&c;s.data[i+(l>>5)]|=1<<l}(i,s,a)}function Ts(i,s,a){if(a&qe.Optional||void 0!==i)return i;ve()}function Qc(i,s,a,c){if(a&qe.Optional&&void 0===c&&(c=null),0==(a&(qe.Self|qe.Host))){const l=i[9],p=Dn(void 0);try{return l?l.get(s,c,a&qe.Optional):si(s,c,a&qe.Optional)}finally{Dn(p)}}return Ts(c,0,a)}function eo(i,s,a,c=qe.Default,l){if(null!==i){if(1024&s[2]){const v=function Mo(i,s,a,c,l){let p=i,v=s;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=ba(p,v,a,c|qe.Self,li);if(C!==li)return C;let I=p.parent;if(!I){const T=v[21];if(T){const x=T.get(a,li,c);if(x!==li)return x}I=xo(v),v=v[15]}p=I}return l}(i,s,a,c,li);if(v!==li)return v}const p=ba(i,s,a,c,li);if(p!==li)return p}return Qc(s,a,c,l)}function ba(i,s,a,c,l){const p=function Jc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(B)?i[B]:void 0;return"number"==typeof s?s>=0?255&s:Xc:s}(a);if("function"==typeof p){if(!bu(s,i,c))return c&qe.Host?Ts(l,0,c):Qc(s,a,c,l);try{const v=p(c);if(null!=v||c&qe.Optional)return v;ve()}finally{fd()}}else if("number"==typeof p){let v=null,C=Ru(i,s),I=-1,T=c&qe.Host?s[16][6]:null;for((-1===C||c&qe.SkipSelf)&&(I=-1===C?Nu(i,s):s[C+8],-1!==I&&Da(c,!1)?(v=s[1],C=tr(I),s=wa(I,s)):C=-1);-1!==C;){const x=s[1];if(ku(p,C,x.data)){const N=Ed(C,s,a,v,c,T);if(N!==li)return N}I=s[C+8],-1!==I&&Da(c,s[1].data[C+8]===T)&&ku(p,C,s)?(v=x,C=tr(I),s=wa(I,s)):C=-1}}return l}function Ed(i,s,a,c,l,p){const v=s[1],C=v.data[i+8],x=So(C,v,a,null==c?ua(C)&&Mi:c!=v&&0!=(3&C.type),l&qe.Host&&p===C);return null!==x?ts(s,v,x,C):li}function So(i,s,a,c,l){const p=i.providerIndexes,v=s.data,C=1048575&p,I=i.directiveStart,x=p>>20,G=l?C+x:i.directiveEnd;for(let X=c?C:C+x;X<G;X++){const we=v[X];if(X<I&&a===we||X>=I&&we.type===a)return X}if(l){const X=v[I];if(X&&dr(X)&&X.type===a)return I}return null}function ts(i,s,a,c){let l=i[a];const p=s.data;if(function Qs(i){return i instanceof bs}(l)){const v=l;v.resolving&&function Ze(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new _e(-200,`Circular dependency in DI detected for ${i}${a}`)}(function fe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}(p[a]));const C=Ca(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Dn(v.injectImpl):null;bu(i,c,qe.Default);try{l=i[a]=v.factory(void 0,p,i,c),s.firstCreatePass&&a>=c.directiveStart&&function gd(i,s,a){const{ngOnChanges:c,ngOnInit:l,ngDoCheck:p}=s.type.prototype;if(c){const v=Ws(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}l&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,l),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==I&&Dn(I),Ca(C),v.resolving=!1,fd()}}return l}function ku(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Da(i,s){return!(i&qe.Self||i&qe.Host&&s)}class to{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return eo(this._tNode,this._lView,s,c,a)}}function Xc(){return new to(_n(),be())}function ns(i){return Tn(()=>{const s=i.prototype.constructor,a=s[W]||Fu(s),c=Object.prototype;let l=Object.getPrototypeOf(i.prototype).constructor;for(;l&&l!==c;){const p=l[W]||Fu(l);if(p&&p!==a)return p;l=Object.getPrototypeOf(l)}return p=>new p})}function Fu(i){return Ve(i)?()=>{const s=Fu(K(i));return s&&s()}:Ti(i)}function xo(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Lu(i){return function Id(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let l=0;for(;l<c;){const p=a[l];if(Js(p))break;if(0===p)l+=2;else if("number"==typeof p)for(l++;l<c&&"string"==typeof a[l];)l++;else{if(p===s)return a[l+1];l+=2}}}return null}(_n(),i)}const As="__parameters__";function Ro(i,s,a){return Tn(()=>{const c=function Vu(i){return function(...a){if(i){const c=i(...a);for(const l in c)this[l]=c[l]}}}(s);function l(...p){if(this instanceof l)return c.apply(this,p),this;const v=new l(...p);return C.annotation=v,C;function C(I,T,x){const N=I.hasOwnProperty(As)?I[As]:Object.defineProperty(I,As,{value:[]})[As];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(v),I}}return a&&(l.prototype=Object.create(a.prototype)),l.prototype.ngMetadataName=i,l.annotationCls=l,l})}class on{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Gt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function pn(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),pn(c,s)):s!==i&&s.push(c)}return s}function hi(i,s){i.forEach(a=>Array.isArray(a)?hi(a,s):s(a))}function Aa(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Er(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function it(i,s,a){let c=xs(i,s);return c>=0?i[1|c]=a:(c=~c,function tl(i,s,a,c){let l=i.length;if(l==s)i.push(a,c);else if(1===l)i.push(c,i[0]),i[0]=a;else{for(l--,i.push(i[l-1],i[l]);l>s;)i[l]=i[l-2],l--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Ma(i,s){const a=xs(i,s);if(a>=0)return i[1|a]}function xs(i,s){return function ko(i,s,a){let c=0,l=i.length>>a;for(;l!==c;){const p=c+(l-c>>1),v=i[p<<a];if(s===v)return p<<a;v>s?l=p:c=p+1}return~(l<<a)}(i,s,1)}const fi={},il="__NG_DI_FLAG__",Lo="ngTempTokenPath",rs=/\n/gm,hr="__source";let Rs;function is(i){const s=Rs;return Rs=i,s}function Fn(i,s=qe.Default){if(void 0===Rs)throw new _e(-203,!1);return null===Rs?si(i,void 0,s):Rs.get(i,s&qe.Optional?null:void 0,s)}function ln(i,s=qe.Default){return(function Wi(){return kr}()||Fn)(K(i),s)}function E(i,s=qe.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),ln(i,s)}function D(i){const s=[];for(let a=0;a<i.length;a++){const c=K(i[a]);if(Array.isArray(c)){if(0===c.length)throw new _e(900,!1);let l,p=qe.Default;for(let v=0;v<c.length;v++){const C=c[v],I=F(C);"number"==typeof I?-1===I?l=C.token:p|=I:l=C}s.push(ln(l,p))}else s.push(ln(c))}return s}function M(i,s){return i[il]=s,i.prototype[il]=s,i}function F(i){return i[il]}const xe=M(Ro("Optional"),8),pt=M(Ro("SkipSelf"),4);let sf;function ig(i){sf=i}class Ad{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ri(i){return i instanceof Ad?i.changingThisBreaksApplicationSecurity:i}const Oy=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function Od(i){const s=function ll(){const i=be();return i&&i[12]}();return s?s.sanitize(Sn.URL,i)||"":function Bo(i,s){const a=function uf(i){return i instanceof Ad&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Ri(i):function ka(i){return(i=String(i)).match(Oy)?i:"unsafe:"+i}(me(i))}const Rd=new on("ENVIRONMENT_INITIALIZER"),Nd=new on("INJECTOR",-1),kd=new on("INJECTOR_DEF_TYPES");class gf{get(s,a=fi){if(a===fi){const c=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw c.name="NullInjectorError",c}return a}}function ky(...i){return{\u0275providers:Fd(0,i)}}function Fd(i,...s){const a=[],c=new Set;let l;return hi(s,p=>{const v=p;br(v,a,[],c)&&(l||(l=[]),l.push(v))}),void 0!==l&&gg(l,a),a}function gg(i,s){for(let a=0;a<i.length;a++){const{providers:l}=i[a];hi(l,p=>{s.push(p)})}}function br(i,s,a,c){if(!(i=K(i)))return!1;let l=null,p=ms(i);const v=!p&&At(i);if(p||v){if(v&&!v.standalone)return!1;l=i}else{const I=i.ngModule;if(p=ms(I),!p)return!1;l=I}const C=c.has(l);if(v){if(C)return!1;if(c.add(l),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of I)br(T,s,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let T;c.add(l);try{hi(p.imports,x=>{br(x,s,a,c)&&(T||(T=[]),T.push(x))})}finally{}void 0!==T&&gg(T,s)}if(!C){const T=Ti(l)||(()=>new l);s.push({provide:l,useFactory:T,deps:mt},{provide:kd,useValue:l,multi:!0},{provide:Rd,useValue:()=>ln(l),multi:!0})}const I=p.providers;null==I||C||hi(I,x=>{s.push(x)})}}return l!==i&&void 0!==i.providers}const mf=de({provide:String,useValue:de});function dl(i){return null!==i&&"object"==typeof i&&mf in i}function Fi(i){return"function"==typeof i}const Vd=new on("Set Injector scope."),os={},$o={};let Ud;function Bd(){return void 0===Ud&&(Ud=new gf),Ud}class Vs{}class jd extends Vs{constructor(s,a,c,l){super(),this.parent=a,this.source=c,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zu(s,v=>this.processProvider(v)),this.records.set(Nd,Qr(void 0,this)),l.has("environment")&&this.records.set(Vs,Qr(void 0,this));const p=this.records.get(Vd);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(kd.multi,mt,qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=is(this),c=Dn(void 0);try{return s()}finally{is(a),Dn(c)}}get(s,a=fi,c=qe.Default){this.assertNotDestroyed();const l=is(this),p=Dn(void 0);try{if(!(c&qe.SkipSelf)){let C=this.records.get(s);if(void 0===C){const I=function yg(i){return"function"==typeof i||"object"==typeof i&&i instanceof on}(s)&&Jt(s);C=I&&this.injectableDefInScope(I)?Qr(ar(s),os):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(c&qe.Self?Bd():this.parent).get(s,a=c&qe.Optional&&a===fi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Lo]=v[Lo]||[]).unshift(he(s)),l)throw v;return function Y(i,s,a,c){const l=i[Lo];throw s[hr]&&l.unshift(s[hr]),i.message=function ne(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let l=he(s);if(Array.isArray(s))l=s.map(he).join(" -> ");else if("object"==typeof s){let p=[];for(let v in s)if(s.hasOwnProperty(v)){let C=s[v];p.push(v+":"+("string"==typeof C?JSON.stringify(C):he(C)))}l=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${l}]: ${i.replace(rs,"\n  ")}`}("\n"+i.message,l,a,c),i.ngTokenPath=l,i[Lo]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{Dn(p),is(l)}}resolveInjectorInitializers(){const s=is(this),a=Dn(void 0);try{const c=this.get(Rd.multi,mt,qe.Self);for(const l of c)l()}finally{is(s),Dn(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(he(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(s){let a=Fi(s=K(s))?s:K(s&&s.provide);const c=function hl(i){return dl(i)?Qr(void 0,i.useValue):Qr(Hd(i),os)}(s);if(Fi(s)||!0!==s.multi)this.records.get(a);else{let l=this.records.get(a);l||(l=Qr(void 0,os,!0),l.factory=()=>D(l.multi),this.records.set(a,l)),a=s,l.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===os&&(a.value=$o,a.value=a.factory()),"object"==typeof a.value&&a.value&&function mg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=K(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function ar(i){const s=Jt(i),a=null!==s?s.factory:Ti(i);if(null!==a)return a;if(i instanceof on)throw new _e(204,!1);if(i instanceof Function)return function $d(i){const s=i.length;if(s>0)throw function Ss(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new _e(204,!1);const a=function lr(i){const s=i&&(i[Ei]||i[ii]);if(s){const a=function Rr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new _e(204,!1)}function Hd(i,s,a){let c;if(Fi(i)){const l=K(i);return Ti(l)||ar(l)}if(dl(i))c=()=>K(i.useValue);else if(function ki(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...D(i.deps||[]));else if(function Gu(i){return!(!i||!i.useExisting)}(i))c=()=>ln(K(i.useExisting));else{const l=K(i&&(i.useClass||i.provide));if(!function oo(i){return!!i.deps}(i))return Ti(l)||ar(l);c=()=>new l(...D(i.deps))}return c}function Qr(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function vf(i){return!!i.\u0275providers}function zu(i,s){for(const a of i)Array.isArray(a)?zu(a,s):vf(a)?zu(a.\u0275providers,s):s(a)}class _f{}class h{resolveComponentFactory(s){throw function _g(i){const s=Error(`No component factory found for ${he(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let g=(()=>{class i{}return i.NULL=new h,i})();function _(){return A(_n(),be())}function A(i,s){return new P(Ir(i,s))}let P=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=_,i})();function q(i){return i instanceof P?i.nativeElement:i}class Fe{}let Ke=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function gt(){const i=be(),a=Ut(_n().index,i);return(er(a)?a:i)[11]}(),i})(),ct=(()=>{class i{}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:()=>null}),i})();class Zn{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Li=new Zn("14.2.2"),Wu={};function Uy(i){return i.ngOriginalError}class wf{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Uy(s);for(;a&&Uy(a);)a=Uy(a);return a||null}}const By=new Map;let YE=0;const Tg="__ngContext__";function Dr(i,s){er(s)?(i[Tg]=s[20],function JE(i){By.set(i[20],i)}(s)):i[Tg]=s}function Ba(i){return i instanceof Function?i():i}var Ho=(()=>((Ho=Ho||{})[Ho.Important=1]="Important",Ho[Ho.DashCase=2]="DashCase",Ho))();function zy(i,s){return undefined(i,s)}function Yd(i){const s=i[3];return Cr(s)?s[3]:s}function Mg(i){return aw(i[13])}function xg(i){return aw(i[4])}function aw(i){for(;null!==i&&!Cr(i);)i=i[4];return i}function Qd(i,s,a,c,l){if(null!=c){let p,v=!1;Cr(c)?p=c:er(c)&&(v=!0,c=c[0]);const C=vn(c);0===i&&null!==a?null==l?pw(s,a,C):Go(s,a,C,l||null,!0):1===i&&null!==a?Go(s,a,C,l||null,!0):2===i?function hb(i,s,a){const c=Rg(i,s);c&&function db(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,C,v):3===i&&s.destroyNode(C),null!=p&&function TA(i,s,a,c,l){const p=a[7];p!==vn(a)&&Qd(s,i,c,p,l);for(let C=10;C<a.length;C++){const I=a[C];yl(I[1],I,i,s,c,p)}}(s,i,p,a,l)}}function Og(i,s,a){return i.createElement(s,a)}function dw(i,s){const a=i[9],c=a.indexOf(s),l=s[3];512&s[2]&&(s[2]&=-513,mn(l,-1)),a.splice(c,1)}function Ky(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const l=c[17];null!==l&&l!==i&&dw(l,c),s>0&&(i[a-1][4]=c[4]);const p=Er(i,10+s);!function Zy(i,s){yl(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const v=p[19];null!==v&&v.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Ef(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&yl(i,s,a,3,null,null),function bA(i){let s=i[13];if(!s)return Pg(i[1],i);for(;s;){let a=null;if(er(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)er(s)&&Pg(s[1],s),s=s[3];null===s&&(s=i),er(s)&&Pg(s[1],s),a=s&&s[4]}s=a}}(s)}}function Pg(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Qy(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const l=s[a[c]];if(!(l instanceof bs)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const C=l[p[v]],I=p[v+1];try{I.call(C)}finally{}}else try{p.call(l)}finally{}}}}(i,s),function Yy(i,s){const a=i.cleanup,c=s[7];let l=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],C="function"==typeof v?v(s):vn(s[v]),I=c[l=a[p+2]],T=a[p+3];"boolean"==typeof T?C.removeEventListener(a[p],I,T):T>=0?c[l=T]():c[l=-T].unsubscribe(),p+=2}else{const v=c[l=a[p+1]];a[p].call(v)}if(null!==c){for(let p=l+1;p<c.length;p++)(0,c[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Cr(s[3])){a!==s[3]&&dw(a,s);const c=s[19];null!==c&&c.detachView(i)}!function XE(i){By.delete(i[20])}(s)}}function hw(i,s,a){return function fw(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const l=i.data[c.directiveStart].encapsulation;if(l===st.None||l===st.Emulated)return null}return Ir(c,a)}(i,s.parent,a)}function Go(i,s,a,c,l){i.insertBefore(s,a,c,l)}function pw(i,s,a){i.appendChild(s,a)}function gw(i,s,a,c,l){null!==c?Go(i,s,a,c,l):pw(i,s,a)}function Rg(i,s){return i.parentNode(s)}let Jy=function yw(i,s,a){return 40&i.type?Ir(i,a):null};function kg(i,s,a,c){const l=hw(i,c,s),p=s[11],C=function Tr(i,s,a){return Jy(i,s,a)}(c.parent||s[6],c,s);if(null!=l)if(Array.isArray(a))for(let I=0;I<a.length;I++)gw(p,l,a[I],C,!1);else gw(p,l,a,C,!1)}function Fg(i,s){if(null!==s){const a=s.type;if(3&a)return Ir(s,i);if(4&a)return vw(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Fg(i,c);{const l=i[s.index];return Cr(l)?vw(-1,l):vn(l)}}if(32&a)return zy(s,i)()||vn(i[s.index]);{const c=Xy(i,s);return null!==c?Array.isArray(c)?c[0]:Fg(Yd(i[16]),c):Fg(i,s.next)}}return null}function Xy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function vw(i,s){const a=10+i+1;if(a<s.length){const c=s[a],l=c[1].firstChild;if(null!==l)return Fg(c,l)}return s[7]}function ev(i,s,a,c,l,p,v){for(;null!=a;){const C=c[a.index],I=a.type;if(v&&0===s&&(C&&Dr(vn(C),c),a.flags|=4),64!=(64&a.flags))if(8&I)ev(i,s,a.child,c,l,p,!1),Qd(s,i,l,C,p);else if(32&I){const T=zy(a,c);let x;for(;x=T();)Qd(s,i,l,x,p);Qd(s,i,l,C,p)}else 16&I?bf(i,s,c,a,l,p):Qd(s,i,l,C,p);a=v?a.projectionNext:a.next}}function yl(i,s,a,c,l,p){ev(a,c,i.firstChild,s,l,p,!1)}function bf(i,s,a,c,l,p){const v=a[16],I=v[6].projection[c.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)Qd(s,i,l,I[T],p);else ev(i,s,I,v[3],l,p,!0)}function vl(i,s,a){i.setAttribute(s,"style",a)}function Df(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function fb(i,s,a){let c=i.length;for(;;){const l=i.indexOf(s,a);if(-1===l)return l;if(0===l||i.charCodeAt(l-1)<=32){const p=s.length;if(l+p===c||i.charCodeAt(l+p)<=32)return l}a=l+1}}const tv="ng-template";function nv(i,s,a){let c=0;for(;c<i.length;){let l=i[c++];if(a&&"class"===l){if(l=i[c],-1!==fb(l.toLowerCase(),s,0))return!0}else if(1===l){for(;c<i.length&&"string"==typeof(l=i[c++]);)if(l.toLowerCase()===s)return!0;return!1}}return!1}function Cw(i){return 4===i.type&&i.value!==tv}function gb(i,s,a){return s===(4!==i.type||a?i.value:tv)}function mb(i,s,a){let c=4;const l=i.attrs||[],p=function AA(i){for(let s=0;s<i.length;s++)if(Js(i[s]))return s;return i.length}(l);let v=!1;for(let C=0;C<s.length;C++){const I=s[C];if("number"!=typeof I){if(!v)if(4&c){if(c=2|1&c,""!==I&&!gb(i,I,a)||""===I&&1===s.length){if(Us(c))return!1;v=!0}}else{const T=8&c?I:s[++C];if(8&c&&null!==i.attrs){if(!nv(i.attrs,T,a)){if(Us(c))return!1;v=!0}continue}const N=yb(8&c?"class":I,l,Cw(i),a);if(-1===N){if(Us(c))return!1;v=!0;continue}if(""!==T){let G;G=N>p?"":l[N+1].toLowerCase();const X=8&c?G:null;if(X&&-1!==fb(X,T,0)||2&c&&T!==G){if(Us(c))return!1;v=!0}}}}else{if(!v&&!Us(c)&&!Us(I))return!1;if(v&&Us(I))continue;v=!1,c=I|1&c}}return Us(c)||v}function Us(i){return 0==(1&i)}function yb(i,s,a,c){if(null===s)return-1;let l=0;if(c||!a){let p=!1;for(;l<s.length;){const v=s[l];if(v===i)return l;if(3===v||6===v)p=!0;else{if(1===v||2===v){let C=s[++l];for(;"string"==typeof C;)C=s[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=p?1:2}return-1}return function Iw(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function vb(i,s,a=!1){for(let c=0;c<s.length;c++)if(mb(i,s[c],a))return!0;return!1}function Ew(i,s){return i?":not("+s.trim()+")":s}function bw(i){let s=i[0],a=1,c=2,l="",p=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&c){const C=i[++a];l+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?l+="."+v:4&c&&(l+=" "+v);else""!==l&&!Us(v)&&(s+=Ew(p,l),l=""),c=v,p=p||!Us(c);a++}return""!==l&&(s+=Ew(p,l)),s}const Mt={};function Dw(i){Tw(kt(),be(),zn()+i,!1)}function Tw(i,s,a,c){if(!c)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Eo(s,p,a)}else{const p=i.preOrderHooks;null!==p&&bo(s,p,0,a)}Lr(a)}function zo(i,s=null,a=null,c){const l=at(i,s,a,c);return l.resolveInjectorInitializers(),l}function at(i,s=null,a=null,c,l=new Set){const p=[a||mt,ky(i)];return c=c||("object"==typeof i?void 0:he(i)),new jd(p,s||Bd(),c||null,l)}let $a=(()=>{class i{static create(a,c){if(Array.isArray(a))return zo({name:""},c,a,"");{const l=a.name??"";return zo({name:l},a.parent,a.providers,l)}}}return i.THROW_IF_NOT_FOUND=fi,i.NULL=new gf,i.\u0275prov=Gt({token:i,providedIn:"any",factory:()=>ln(Nd)}),i.__NG_ELEMENT_ID__=-1,i})();function _l(i,s=qe.Default){const a=be();return null===a?ln(i,s):eo(_n(),a,K(i),s)}function kw(){throw new Error("invalid")}function wl(i,s){return i<<17|s<<2}function as(i){return i>>17&32767}function av(i){return 2|i}function Ha(i){return(131068&i)>>2}function Sf(i,s){return-131069&i|s<<2}function cv(i){return 1|i}function rm(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const l=a[c],p=a[c+1];if(-1!==p){const v=i.data[p];ya(l),v.contentQueries(2,s[p],p)}}}function Ju(i,s,a,c,l,p,v,C,I,T,x){const N=s.blueprint.slice();return N[0]=l,N[2]=76|c,(null!==x||i&&1024&i[2])&&(N[2]|=1024),mu(N),N[3]=N[15]=i,N[8]=a,N[10]=v||i&&i[10],N[11]=C||i&&i[11],N[12]=I||i&&i[12]||null,N[9]=T||i&&i[9]||null,N[6]=p,N[20]=function QE(){return YE++}(),N[21]=x,N[16]=2==s.type?i[16]:N,N}function Cl(i,s,a,c,l){let p=i.data[s];if(null===p)p=function im(i,s,a,c,l){const p=Iu(),v=ha(),I=i.data[s]=function mi(i,s,a,c,l,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,s,c,l);return null===i.firstChild&&(i.firstChild=I),null!==p&&(v?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(i,s,a,c,l),function Kp(){return yt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=l;const v=function Io(){const i=yt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return Zr(p,!0),p}function Il(i,s,a,c){if(0===a)return-1;const l=s.length;for(let p=0;p<a;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return l}function nh(i,s,a){Du(s);try{const c=i.viewQuery;null!==c&&ym(1,c,a);const l=i.template;null!==l&&Kw(i,s,l,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&rm(i,s),i.staticViewQueries&&ym(2,i.viewQuery,a);const p=i.components;null!==p&&function Mb(i,s){for(let a=0;a<s.length;a++)Xw(i,s[a])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Ks()}}function sm(i,s,a,c){const l=s[2];if(128!=(128&l)){Du(s);try{mu(s),function Bc(i){return yt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Kw(i,s,a,2,c);const v=3==(3&l);if(v){const T=i.preOrderCheckHooks;null!==T&&Eo(s,T,null)}else{const T=i.preOrderHooks;null!==T&&bo(s,T,0,null),md(s,0)}if(function Rb(i){for(let s=Mg(i);null!==s;s=xg(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const l=a[c],p=l[3];0==(512&l[2])&&mn(p,1),l[2]|=512}}}(s),function Tv(i){for(let s=Mg(i);null!==s;s=xg(s))for(let a=10;a<s.length;a++){const c=s[a],l=c[1];qs(c)&&sm(l,c,l.template,c[8])}}(s),null!==i.contentQueries&&rm(i,s),v){const T=i.contentCheckHooks;null!==T&&Eo(s,T)}else{const T=i.contentHooks;null!==T&&bo(s,T,1),md(s,1)}!function mv(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const l=a[c];if(l<0)Lr(~l);else{const p=l,v=a[++c],C=a[++c];Yp(v,p),C(2,s[p])}}}finally{Lr(-1)}}(i,s);const C=i.components;null!==C&&function Zw(i,s){for(let a=0;a<s.length;a++)Nb(i,s[a])}(s,C);const I=i.viewQuery;if(null!==I&&ym(2,I,c),v){const T=i.viewCheckHooks;null!==T&&Eo(s,T)}else{const T=i.viewHooks;null!==T&&bo(s,T,2),md(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,mn(s[3],-1))}finally{Ks()}}}function Kw(i,s,a,c,l){const p=zn(),v=2&c;try{Lr(-1),v&&s.length>22&&Tw(i,s,22,!1),a(c,l)}finally{Lr(p)}}function yv(i,s,a){!Xi()||(function dm(i,s,a,c){const l=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||Xs(a,s),Dr(c,s);const v=a.initialInputs;for(let C=l;C<p;C++){const I=i.data[C],T=dr(I);T&&Qw(s,a,I);const x=ts(s,i,C,a);Dr(x,s),null!==v&&Jw(0,C-l,x,I,0,v),T&&(Ut(a.index,s)[8]=x)}}(i,s,a,Ir(a,s)),128==(128&a.flags)&&function Nf(i,s,a){const c=a.directiveStart,l=a.directiveEnd,p=a.index,v=function jc(){return yt.lFrame.currentDirectiveIndex}();try{Lr(p);for(let C=c;C<l;C++){const I=i.data[C],T=s[C];Eu(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Iv(I,T)}}finally{Lr(-1),Eu(v)}}(i,s,a))}function vv(i,s,a=Ir){const c=s.localNames;if(null!==c){let l=s.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],C=-1===v?a(s,i):i[v];i[l++]=C}}}function Xu(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=om(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function om(i,s,a,c,l,p,v,C,I,T){const x=22+c,N=x+l,G=function am(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Mt);return a}(x,N),X="function"==typeof T?T():T;return G[1]={type:i,blueprint:G,template:a,queries:null,viewQuery:C,declTNode:s,data:G.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:X,incompleteFirstPass:!1}}function _v(i,s,a,c){const l=kf(s);null===a?l.push(c):(l.push(a),i.firstCreatePass&&ih(i).push(c,l.length-1))}function wv(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const l=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,l):a[c]=[s,l]}return a}function rh(i,s){const c=s.directiveEnd,l=i.data,p=s.attrs,v=[];let C=null,I=null;for(let T=s.directiveStart;T<c;T++){const x=l[T],N=x.inputs,G=null===p||Cw(s)?null:pm(N,p);v.push(G),C=wv(N,T,C),I=wv(x.outputs,T,I)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=C,s.outputs=I}function Vi(i,s,a,c,l,p,v,C){const I=Ir(s,a);let x,T=s.inputs;!C&&null!=T&&(x=T[c])?(vm(i,a,x,c,l),ua(s)&&cm(a,s.index)):3&s.type&&(c=function um(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),l=null!=v?v(l,s.value||"",c):l,p.setProperty(I,c,l))}function cm(i,s){const a=Ut(s,i);16&a[2]||(a[2]|=32)}function Rf(i,s,a,c){let l=!1;if(Xi()){const p=function Pb(i,s,a){const c=i.directiveRegistry;let l=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];vb(a,v.selectors,!1)&&(l||(l=[]),Ds(Xs(a,s),i,v.type),dr(v)?(hm(i,a),l.unshift(v)):l.push(v))}return l}(i,s,a),v=null===c?null:{"":-1};if(null!==p){l=!0,bv(a,i.data.length,p.length);for(let x=0;x<p.length;x++){const N=p[x];N.providersResolver&&N.providersResolver(N)}let C=!1,I=!1,T=Il(i,s,p.length,null);for(let x=0;x<p.length;x++){const N=p[x];a.mergedAttrs=va(a.mergedAttrs,N.hostAttrs),Dv(i,a,s,T,N),Ev(T,N,v),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const G=N.type.prototype;!C&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),C=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),T++}rh(i,a)}v&&function fm(i,s,a){if(s){const c=i.localNames=[];for(let l=0;l<s.length;l+=2){const p=a[s[l+1]];if(null==p)throw new _e(-301,!1);c.push(s[l],p)}}}(a,c,v)}return a.mergedAttrs=va(a.mergedAttrs,a.attrs),l}function lm(i,s,a,c,l,p){const v=p.hostBindings;if(v){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const I=~s.index;(function Cv(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=I&&C.push(I),C.push(c,l,v)}}function Iv(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function hm(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Ev(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;dr(s)&&(a[""]=i)}}function bv(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Dv(i,s,a,c,l){i.data[c]=l;const p=l.factory||(l.factory=Ti(l.type)),v=new bs(p,dr(l),_l);i.blueprint[c]=v,a[c]=v,lm(i,s,0,c,Il(i,a,l.hostVars,Mt),l)}function Qw(i,s,a){const c=Ir(s,i),l=Xu(a),p=i[10],v=qo(i,Ju(i,l,null,a.onPush?32:16,c,s,p,p.createRenderer(c,a),null,null,null));i[s.index]=v}function Wo(i,s,a,c,l,p){const v=Ir(i,s);!function bl(i,s,a,c,l,p,v){if(null==p)i.removeAttribute(s,l,a);else{const C=null==v?me(p):v(p,c||"",l);i.setAttribute(s,l,C,a)}}(s[11],v,p,i.value,a,c,l)}function Jw(i,s,a,c,l,p){const v=p[s];if(null!==v){const C=c.setInput;for(let I=0;I<v.length;){const T=v[I++],x=v[I++],N=v[I++];null!==C?c.setInput(a,N,T,x):a[x]=N}}}function pm(i,s){let a=null,c=0;for(;c<s.length;){const l=s[c];if(0!==l)if(5!==l){if("number"==typeof l)break;i.hasOwnProperty(l)&&(null===a&&(a=[]),a.push(l,i[l],s[c+1])),c+=2}else c+=2;else c+=4}return a}function ec(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function Nb(i,s){const a=Ut(s,i);if(qs(a)){const c=a[1];48&a[2]?sm(c,a,c.template,a[8]):a[5]>0&&mm(a)}}function mm(i){for(let c=Mg(i);null!==c;c=xg(c))for(let l=10;l<c.length;l++){const p=c[l];if(qs(p))if(512&p[2]){const v=p[1];sm(v,p,v.template,p[8])}else p[5]>0&&mm(p)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const l=Ut(a[c],i);qs(l)&&l[5]>0&&mm(l)}}function Xw(i,s){const a=Ut(s,i),c=a[1];(function kb(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),nh(c,a,a[8])}function qo(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function uo(i){for(;i;){i[2]|=32;const s=Yd(i);if(Hh(i)&&!s)return i;i=s}return null}function Dl(i,s,a,c=!0){const l=s[10];l.begin&&l.begin();try{sm(i,s,i.template,a)}catch(v){throw c&&eC(s,v),v}finally{l.end&&l.end()}}function ym(i,s,a){ya(0),s(i,a)}function kf(i){return i[7]||(i[7]=[])}function ih(i){return i.cleanup||(i.cleanup=[])}function eC(i,s){const a=i[9],c=a?a.get(wf,null):null;c&&c.handleError(s)}function vm(i,s,a,c,l){for(let p=0;p<a.length;){const v=a[p++],C=a[p++],I=s[v],T=i.data[v];null!==T.setInput?T.setInput(I,l,c,C):I[C]=l}}function za(i,s,a){const c=qr(s,i);!function uw(i,s,a){i.setValue(s,a)}(i[11],c,a)}function _m(i,s,a){let c=a?i.styles:null,l=a?i.classes:null,p=0;if(null!==s)for(let v=0;v<s.length;v++){const C=s[v];"number"==typeof C?p=C:1==p?l=pe(l,C):2==p&&(c=pe(c,C+": "+s[++v]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=l:i.classesWithoutHost=l}function wm(i,s,a,c,l=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(vn(p)),Cr(p))for(let C=10;C<p.length;C++){const I=p[C],T=I[1].firstChild;null!==T&&wm(I[1],I,T,c)}const v=a.type;if(8&v)wm(i,s,a.child,c);else if(32&v){const C=zy(a,s);let I;for(;I=C();)c.push(I)}else if(16&v){const C=Xy(s,a);if(Array.isArray(C))c.push(...C);else{const I=Yd(s[16]);wm(I[1],I,C,c,!0)}}a=l?a.projectionNext:a.next}return c}class Ff{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return wm(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Cr(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Ky(s,c),Er(a,c))}this._attachedToViewContainer=!1}Ef(this._lView[1],this._lView)}onDestroy(s){_v(this._lView[1],this._lView,null,s)}markForCheck(){uo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Dl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lw(i,s){yl(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=s}}class Lf extends Ff{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Dl(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class Zo extends g{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=At(s);return new Ko(a,this.ngModule)}}function Sv(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class nC{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){const l=this.injector.get(s,Wu,c);return l!==Wu||a===Wu?l:this.parentInjector.get(s,a,c)}}class Ko extends _f{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function wb(i){return i.map(bw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Sv(this.componentDef.inputs)}get outputs(){return Sv(this.componentDef.outputs)}create(s,a,c,l){let p=(l=l||this.ngModule)instanceof Vs?l:l?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new nC(s,p):s,C=v.get(Fe,null);if(null===C)throw new _e(407,!1);const I=v.get(ct,null),T=C.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",N=c?function Of(i,s,a){return i.selectRootElement(s,a===st.ShadowDom)}(T,c,this.componentDef.encapsulation):Og(C.createRenderer(null,this.componentDef),x,function tC(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(x)),G=this.componentDef.onPush?288:272,X=om(0,null,null,1,0,null,null,null,null,null),we=Ju(null,X,null,G,null,null,C,T,I,v,null);let ke,He;Du(we);try{const Xe=function iC(i,s,a,c,l,p){const v=a[1];a[22]=i;const I=Cl(v,22,2,"#host",null),T=I.mergedAttrs=s.hostAttrs;null!==T&&(_m(I,T,!0),null!==i&&(Ao(l,i,T),null!==I.classes&&Df(l,i,I.classes),null!==I.styles&&vl(l,i,I.styles)));const x=c.createRenderer(i,s),N=Ju(a,Xu(s),null,s.onPush?32:16,a[22],I,c,x,p||null,null,null);return v.firstCreatePass&&(Ds(Xs(I,a),v,s.type),hm(v,I),bv(I,a.length,1)),qo(a,N),a[22]=N}(N,this.componentDef,we,C,T);if(N)if(c)Ao(T,N,["ng-version",Li.full]);else{const{attrs:ht,classes:Ae}=function Cb(i){const s=[],a=[];let c=1,l=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===l?""!==p&&s.push(p,i[++c]):8===l&&a.push(p);else{if(!Us(l))break;l=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ht&&Ao(T,N,ht),Ae&&Ae.length>0&&Df(T,N,Ae.join(" "))}if(He=Co(X,22),void 0!==a){const ht=He.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const _t=a[Ae];ht.push(null!=_t?Array.from(_t):null)}}ke=function sC(i,s,a,c){const l=a[1],p=function Pf(i,s,a){const c=_n();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Dv(i,c,s,Il(i,s,1,null),a),rh(i,c));const l=ts(s,i,c.directiveStart,c);Dr(l,s);const p=Ir(c,s);return p&&Dr(p,s),l}(l,a,s);if(i[8]=a[8]=p,null!==c)for(const C of c)C(p,s);if(s.contentQueries){const C=_n();s.contentQueries(1,p,C.directiveStart)}const v=_n();return!l.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Lr(v.index),lm(a[1],v,0,v.directiveStart,v.directiveEnd,s),Iv(s,p)),p}(Xe,this.componentDef,we,[Mv]),nh(X,we,null)}finally{Ks()}return new rC(this.componentType,ke,A(He,we),we,He)}}class rC extends class vg{}{constructor(s,a,c,l,p){super(),this.location=c,this._rootLView=l,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Lf(l),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let l;if(null!==c&&(l=c[s])){const p=this._rootLView;vm(p[1],p,l,s,a),cm(p,this._tNode.index)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Mv(){const i=_n();Kc(be()[1],i)}function Im(i){let s=function Cm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let l;if(dr(i))l=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new _e(903,!1);l=s.\u0275dir}if(l){if(a){c.push(l);const v=i;v.inputs=Vf(i.inputs),v.declaredInputs=Vf(i.declaredInputs),v.outputs=Vf(i.outputs);const C=l.hostBindings;C&&Ub(i,C);const I=l.viewQuery,T=l.contentQueries;if(I&&Lb(i,I),T&&Vb(i,T),ue(i.inputs,l.inputs),ue(i.declaredInputs,l.declaredInputs),ue(i.outputs,l.outputs),dr(l)&&l.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(l.data.animation)}}const p=l.features;if(p)for(let v=0;v<p.length;v++){const C=p[v];C&&C.ngInherit&&C(i),C===Im&&(a=!1)}}s=Object.getPrototypeOf(s)}!function oC(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const l=i[c];l.hostVars=s+=l.hostVars,l.hostAttrs=va(l.hostAttrs,a=va(a,l.hostAttrs))}}(c)}function Vf(i){return i===_r?{}:i===mt?[]:i}function Lb(i,s){const a=i.viewQuery;i.viewQuery=a?(c,l)=>{s(c,l),a(c,l)}:s}function Vb(i,s){const a=i.contentQueries;i.contentQueries=a?(c,l,p)=>{s(c,l,p),a(c,l,p)}:s}function Ub(i,s){const a=i.hostBindings;i.hostBindings=a?(c,l)=>{s(c,l),a(c,l)}:s}let oh=null;function tc(){if(!oh){const i=tn.Symbol;if(i&&i.iterator)oh=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(oh=c)}}}return oh}function Wa(i){return!!Tm(i)&&(Array.isArray(i)||!(i instanceof Map)&&tc()in i)}function Tm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Yo(i,s,a){return i[s]=a}function jr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function nc(i,s,a,c){const l=jr(i,s,a);return jr(i,s+1,c)||l}function Am(i,s,a,c){const l=be();return jr(l,Zs(),s)&&(kt(),Wo(cn(),l,i,s,a,c)),Am}function Tl(i,s,a,c){return jr(i,Zs(),a)?s+me(a)+c:Mt}function Al(i,s,a,c,l,p){const C=nc(i,function Si(){return yt.lFrame.bindingIndex}(),a,l);return es(2),C?s+me(a)+c+me(l)+p:Mt}function Nv(i,s,a,c,l,p,v,C){const I=be(),T=kt(),x=i+22,N=T.firstCreatePass?function uC(i,s,a,c,l,p,v,C,I){const T=s.consts,x=Cl(s,i,4,v||null,ci(T,C));Rf(s,a,x,ci(T,I)),Kc(s,x);const N=x.tViews=om(2,x,c,l,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,x),N.queries=s.queries.embeddedTView(x)),x}(x,T,I,s,a,c,l,p,v):T.data[x];Zr(N,!1);const G=I[11].createComment("");kg(T,I,G,N),Dr(G,I),qo(I,I[x]=ec(G,I,G,N)),Oc(N)&&yv(T,I,N),null!=v&&vv(I,N,C)}function kv(i){return Ji(function Uc(){return yt.lFrame.contextLView}(),22+i)}function Om(i,s,a){const c=be();return jr(c,Zs(),s)&&Vi(kt(),cn(),c,i,s,c[11],a,!1),Om}function Pm(i,s,a,c,l){const v=l?"class":"style";vm(i,a,s.inputs[v],v,c)}function Ol(i,s,a,c){const l=be(),p=kt(),v=22+i,C=l[11],I=l[v]=Og(C,s,function Au(){return yt.lFrame.currentNamespace}()),T=p.firstCreatePass?function cC(i,s,a,c,l,p,v){const C=s.consts,T=Cl(s,i,2,l,ci(C,p));return Rf(s,a,T,ci(C,v)),null!==T.attrs&&_m(T,T.attrs,!1),null!==T.mergedAttrs&&_m(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(v,p,l,0,s,a,c):p.data[v];Zr(T,!0);const x=T.mergedAttrs;null!==x&&Ao(C,I,x);const N=T.classes;null!==N&&Df(C,I,N);const G=T.styles;return null!==G&&vl(C,I,G),64!=(64&T.flags)&&kg(p,l,I,T),0===function vu(){return yt.lFrame.elementDepthCount}()&&Dr(I,l),function _u(){yt.lFrame.elementDepthCount++}(),Oc(T)&&(yv(p,l,T),function El(i,s,a){if(cu(s)){const l=s.directiveEnd;for(let p=s.directiveStart;p<l;p++){const v=i.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}(p,T,l)),null!==c&&vv(l,T),Ol}function ni(){let i=_n();ha()?function fa(){yt.lFrame.isParent=!1}():(i=i.parent,Zr(i,!1));const s=i;!function Fc(){yt.lFrame.elementDepthCount--}();const a=kt();return a.firstCreatePass&&(Kc(a,i),cu(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function xu(i){return 0!=(16&i.flags)}(s)&&Pm(a,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function vd(i){return 0!=(32&i.flags)}(s)&&Pm(a,s,be(),s.stylesWithoutHost,!1),ni}function Rm(i,s,a,c){return Ol(i,s,a,c),ni(),Rm}function Nm(){return be()}function Lv(i){return!!i&&"function"==typeof i.then}function hC(i){return!!i&&"function"==typeof i.subscribe}const Vv=hC;function Uv(i,s,a,c){const l=be(),p=kt(),v=_n();return function Bv(i,s,a,c,l,p,v,C){const I=Oc(c),x=i.firstCreatePass&&ih(i),N=s[8],G=kf(s);let X=!0;if(3&c.type||C){const He=Ir(c,s),Xe=C?C(He):He,ht=G.length,Ae=C?Yt=>C(vn(Yt[c.index])):c.index;let _t=null;if(!C&&I&&(_t=function $b(i,s,a,c){const l=i.cleanup;if(null!=l)for(let p=0;p<l.length-1;p+=2){const v=l[p];if(v===a&&l[p+1]===c){const C=s[7],I=l[p+2];return C.length>I?C[I]:null}"string"==typeof v&&(p+=2)}return null}(i,s,l,c.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=p,_t.__ngLastListenerFn__=p,X=!1;else{p=Pl(c,s,N,p,!1);const Yt=a.listen(Xe,l,p);G.push(p,Yt),x&&x.push(l,Ae,ht,ht+1)}}else p=Pl(c,s,N,p,!1);const we=c.outputs;let ke;if(X&&null!==we&&(ke=we[l])){const He=ke.length;if(He)for(let Xe=0;Xe<He;Xe+=2){const xn=s[ke[Xe]][ke[Xe+1]].subscribe(p),su=G.length;G.push(p,xn),x&&x.push(l,c.index,su,-(su+1))}}}(p,l,l[11],v,i,s,0,c),Uv}function fr(i,s,a,c){try{return!1!==a(c)}catch(l){return eC(i,l),!1}}function Pl(i,s,a,c,l){return function p(v){if(v===Function)return c;uo(2&i.flags?Ut(i.index,s):s);let I=fr(s,0,c,v),T=p.__ngNextListenerFn__;for(;T;)I=fr(s,0,T,v)&&I,T=T.__ngNextListenerFn__;return l&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function Za(i=1){return function Ys(i){return(yt.lFrame.contextLView=function Tu(i,s){for(;i>0;)s=s[15],i--;return s}(i,yt.lFrame.contextLView))[8]}(i)}function Vn(i,s,a){return Ka(i,"",s,"",a),Vn}function Ka(i,s,a,c,l){const p=be(),v=Tl(p,s,a,c);return v!==Mt&&Vi(kt(),cn(),p,i,v,p[11],l,!1),Ka}function pC(i,s,a,c,l){const p=i[a+1],v=null===s;let C=c?as(p):Ha(p),I=!1;for(;0!==C&&(!1===I||v);){const x=i[C+1];qb(i[C],s)&&(I=!0,i[C+1]=c?cv(x):av(x)),C=c?as(x):Ha(x)}I&&(i[a+1]=c?av(p):cv(p))}function qb(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&xs(i,s)>=0}function ch(i,s){return function co(i,s,a,c){const l=be(),p=kt(),v=es(2);p.firstUpdatePass&&function Gv(i,s,a,c){const l=i.data;if(null===l[a+1]){const p=l[zn()],v=function Hv(i,s){return s>=i.expandoStartIndex}(i,a);(function oc(i,s){return 0!=(i.flags&(s?16:32))})(p,c)&&null===s&&!v&&(s=!1),s=function cs(i,s,a,c){const l=function ma(i){const s=yt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===l)0===(c?s.classBindings:s.styleBindings)&&(a=Fl(a=Jo(null,i,s,a,c),s.attrs,c),p=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==l)if(a=Jo(l,i,s,a,c),null===p){let I=function zv(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Ha(c))return i[as(c)]}(i,s,c);void 0!==I&&Array.isArray(I)&&(I=Jo(null,i,s,I[1],c),I=Fl(I,s.attrs,c),function vC(i,s,a,c){i[as(a?s.classBindings:s.styleBindings)]=c}(i,s,c,I))}else p=function _C(i,s,a){let c;const l=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<l;p++)c=Fl(c,i[p].hostAttrs,a);return Fl(c,s.attrs,a)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(l,p,s,c),function zb(i,s,a,c,l,p){let v=p?s.classBindings:s.styleBindings,C=as(v),I=Ha(v);i[c]=a;let x,T=!1;if(Array.isArray(a)){const N=a;x=N[1],(null===x||xs(N,x)>0)&&(T=!0)}else x=a;if(l)if(0!==I){const G=as(i[C+1]);i[c+1]=wl(G,C),0!==G&&(i[G+1]=Sf(i[G+1],c)),i[C+1]=function ov(i,s){return 131071&i|s<<17}(i[C+1],c)}else i[c+1]=wl(C,0),0!==C&&(i[C+1]=Sf(i[C+1],c)),C=c;else i[c+1]=wl(I,0),0===C?C=c:i[I+1]=Sf(i[I+1],c),I=c;T&&(i[c+1]=av(i[c+1])),pC(i,x,c,!0),pC(i,x,c,!1),function Wb(i,s,a,c,l){const p=l?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&xs(p,s)>=0&&(a[c+1]=cv(a[c+1]))}(s,x,i,c,p),v=wl(C,I),p?s.classBindings=v:s.styleBindings=v}(l,p,s,a,v,c)}}(p,i,v,c),s!==Mt&&jr(l,v,s)&&function wC(i,s,a,c,l,p,v,C){if(!(3&s.type))return;const I=i.data,T=I[C+1];ho(function uv(i){return 1==(1&i)}(T)?lh(I,s,a,l,Ha(T),v):void 0)||(ho(p)||function zg(i){return 2==(2&i)}(T)&&(p=lh(I,null,a,l,C,v)),function ww(i,s,a,c,l){if(s)l?i.addClass(a,c):i.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:Ho.DashCase;null==l?i.removeStyle(a,c,p):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),p|=Ho.Important),i.setStyle(a,c,l,p))}}(c,v,qr(zn(),a),l,p))}(p,p.data[zn()],l,l[11],i,l[v+1]=function Yb(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=he(Ri(i)))),i}(s,a),c,v)}(i,s,null,!0),ch}function Jo(i,s,a,c,l){let p=null;const v=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<v&&(p=s[C],c=Fl(c,p.hostAttrs,l),p!==i);)C++;return null!==i&&(a.directiveStylingLast=C),c}function Fl(i,s,a){const c=a?1:2;let l=-1;if(null!==s)for(let p=0;p<s.length;p++){const v=s[p];"number"==typeof v?l=v:l===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),it(i,v,!!a||s[++p]))}return void 0===i?null:i}function lh(i,s,a,c,l,p){const v=null===s;let C;for(;l>0;){const I=i[l],T=Array.isArray(I),x=T?I[1]:I,N=null===x;let G=a[l+1];G===Mt&&(G=N?mt:void 0);let X=N?Ma(G,c):x===c?G:void 0;if(T&&!ho(X)&&(X=Ma(I,c)),ho(X)&&(C=X,v))return C;const we=i[l+1];l=v?as(we):Ha(we)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(C=Ma(I,c))}return C}function ho(i){return void 0!==i}function Wv(i,s=""){const a=be(),c=kt(),l=i+22,p=c.firstCreatePass?Cl(c,l,1,s,null):c.data[l],v=a[l]=function qy(i,s){return i.createText(s)}(a[11],s);kg(c,a,v,p),Zr(p,!1)}function zf(i){return qv("",i,""),zf}function qv(i,s,a){const c=be(),l=Tl(c,i,s,a);return l!==Mt&&za(c,zn(),l),qv}function Zv(i,s,a,c,l){const p=be(),v=Al(p,i,s,a,c,l);return v!==Mt&&za(p,zn(),v),Zv}const po=void 0;var DC=["en",[["a","p"],["AM","PM"],po],[["AM","PM"],po,po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",po,"{1} 'at' {0}",po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bC(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ja={};function Um(i){const s=function AC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Xv(s);if(a)return a;const c=s.split("-")[0];if(a=Xv(c),a)return a;if("en"===c)return DC;throw new _e(701,!1)}function TC(i){return Um(i)[Ye.PluralCase]}function Xv(i){return i in Ja||(Ja[i]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[i]),Ja[i]}var Ye=(()=>((Ye=Ye||{})[Ye.LocaleId=0]="LocaleId",Ye[Ye.DayPeriodsFormat=1]="DayPeriodsFormat",Ye[Ye.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ye[Ye.DaysFormat=3]="DaysFormat",Ye[Ye.DaysStandalone=4]="DaysStandalone",Ye[Ye.MonthsFormat=5]="MonthsFormat",Ye[Ye.MonthsStandalone=6]="MonthsStandalone",Ye[Ye.Eras=7]="Eras",Ye[Ye.FirstDayOfWeek=8]="FirstDayOfWeek",Ye[Ye.WeekendRange=9]="WeekendRange",Ye[Ye.DateFormat=10]="DateFormat",Ye[Ye.TimeFormat=11]="TimeFormat",Ye[Ye.DateTimeFormat=12]="DateTimeFormat",Ye[Ye.NumberSymbols=13]="NumberSymbols",Ye[Ye.NumberFormats=14]="NumberFormats",Ye[Ye.CurrencyCode=15]="CurrencyCode",Ye[Ye.CurrencySymbol=16]="CurrencySymbol",Ye[Ye.CurrencyName=17]="CurrencyName",Ye[Ye.Currencies=18]="Currencies",Ye[Ye.Directionality=19]="Directionality",Ye[Ye.PluralCase=20]="PluralCase",Ye[Ye.ExtraData=21]="ExtraData",Ye))();const Ul="en-US";let t_=Ul;function g_(i,s,a,c,l){if(i=K(i),Array.isArray(i))for(let p=0;p<i.length;p++)g_(i[p],s,a,c,l);else{const p=kt(),v=be();let C=Fi(i)?i:K(i.provide),I=Hd(i);const T=_n(),x=1048575&T.providerIndexes,N=T.directiveStart,G=T.providerIndexes>>20;if(Fi(i)||!i.multi){const X=new bs(I,l,_l),we=Wl(C,s,l?x:x+G,N);-1===we?(Ds(Xs(T,v),p,C),Ch(p,i,s.length),s.push(C),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),a.push(X),v.push(X)):(a[we]=X,v[we]=X)}else{const X=Wl(C,s,x+G,N),we=Wl(C,s,x,x+G),ke=X>=0&&a[X],He=we>=0&&a[we];if(l&&!He||!l&&!ke){Ds(Xs(T,v),p,C);const Xe=function ZC(i,s,a,c,l){const p=new bs(i,a,_l);return p.multi=[],p.index=s,p.componentProviders=0,Ih(p,l,c&&!a),p}(l?qC:Hm,a.length,l,c,I);!l&&He&&(a[we].providerFactory=Xe),Ch(p,i,s.length,0),s.push(C),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),a.push(Xe),v.push(Xe)}else Ch(p,i,X>-1?X:we,Ih(a[l?we:X],I,!l&&c));!l&&c&&He&&a[we].componentProviders++}}}function Ch(i,s,a,c){const l=Fi(s),p=function yf(i){return!!i.useClass}(s);if(l||p){const I=(p?K(s.useClass):s).prototype.ngOnDestroy;if(I){const T=i.destroyHooks||(i.destroyHooks=[]);if(!l&&s.multi){const x=T.indexOf(a);-1===x?T.push(a,[c,I]):T[x+1].push(c,I)}else T.push(a,I)}}}function Ih(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Wl(i,s,a,c){for(let l=a;l<c;l++)if(s[l]===i)return l;return-1}function Hm(i,s,a,c){return Gm(this.multi,[])}function qC(i,s,a,c){const l=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=ts(a,a[1],this.providerFactory.index,c);p=C.slice(0,v),Gm(l,p);for(let I=v;I<C.length;I++)p.push(C[I])}else p=[],Gm(l,p);return p}function Gm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function KC(i,s=[]){return a=>{a.providersResolver=(c,l)=>function Rt(i,s,a){const c=kt();if(c.firstCreatePass){const l=dr(i);g_(a,c.data,c.blueprint,l,!0),g_(s,c.data,c.blueprint,l,!1)}}(c,l?l(i):i,s)}}class ql{}class m_{}function gD(i,s){return new YC(i,s??null)}class YC extends ql{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zo(this);const c=wr(s);this._bootstrapComponents=Ba(c.bootstrap),this._r3Injector=at(s,a,[{provide:ql,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],he(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zl extends m_{constructor(s){super(),this.moduleType=s}create(s){return new YC(this.moduleType,s)}}class QC extends ql{constructor(s,a,c){super(),this.componentFactoryResolver=new Zo(this),this.instance=null;const l=new jd([...s,{provide:ql,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],a||Bd(),c,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function y_(i,s,a=null){return new QC(i,s,a).injector}let Sr=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=Fd(0,a.type),l=c.length>0?y_([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,l)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Gt({token:i,providedIn:"environment",factory:()=>new i(ln(Vs))}),i})();function zm(i){i.getStandaloneInjector=s=>s.get(Sr).getOrCreateStandaloneInjector(i)}function w_(i,s,a){const c=wn()+i,l=be();return l[c]===Mt?Yo(l,c,a?s.call(a):s()):function Bf(i,s){return i[s]}(l,c)}function sp(i,s){const a=i[s];return a===Mt?void 0:a}function iI(i,s){const a=kt();let c;const l=i+22;a.firstCreatePass?(c=function DD(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}}(s,a.pipeRegistry),a.data[l]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(l,c.onDestroy)):c=a.data[l];const p=c.factory||(c.factory=Ti(c.type)),v=Dn(_l);try{const C=Ca(!1),I=p();return Ca(C),function xl(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,be(),l,I),I}finally{Dn(v)}}function sI(i,s,a){const c=i+22,l=be(),p=Ji(l,c);return ap(l,c)?function C_(i,s,a,c,l,p){const v=s+a;return jr(i,v,l)?Yo(i,v+1,p?c.call(p,l):c(l)):sp(i,v+1)}(l,wn(),s,p.transform,a,p):p.transform(a)}function oI(i,s,a,c){const l=i+22,p=be(),v=Ji(p,l);return ap(p,l)?function mo(i,s,a,c,l,p,v){const C=s+a;return nc(i,C,l,p)?Yo(i,C+2,v?c.call(v,l,p):c(l,p)):sp(i,C+2)}(p,wn(),s,v.transform,a,c,v):v.transform(a,c)}function ap(i,s){return i[1].data[s].pure}function b_(i){return s=>{setTimeout(i,void 0,s)}}const ra=class MD extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let l=s,p=a||(()=>null),v=c;if(s&&"object"==typeof s){const I=s;l=I.next?.bind(I),p=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(p=b_(p),l&&(l=b_(l)),v&&(v=b_(v)));const C=super.subscribe({next:l,error:p,complete:v});return s instanceof ee.w0&&s.add(C),C}};function xD(){return this._results[tc()]()}class D_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=tc(),c=D_.prototype;c[a]||(c[a]=xD)}get changes(){return this._changes||(this._changes=new ra)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const l=pn(s);(this._changesDetected=!function Kr(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let l=i[c],p=s[c];if(a&&(l=a(l),p=a(p)),p!==l)return!1}return!0}(c._results,l,a))&&(c._results=l,c.length=l.length,c.last=l[this.length-1],c.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let up=(()=>{class i{}return i.__NG_ELEMENT_ID__=uI,i})();const aI=up,OD=class extends aI{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s,a){const c=this._declarationTContainer.tViews,l=Ju(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,a||null);l[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(l[19]=v.createEmbeddedView(c)),nh(c,l,s),new Ff(l)}};function uI(){return cp(_n(),be())}function cp(i,s){return 4&i.type?new OD(s,i,A(i,s)):null}let Zm=(()=>{class i{}return i.__NG_ELEMENT_ID__=T_,i})();function T_(){return Xa(_n(),be())}const Mr=Zm,Km=class extends Mr{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return A(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const s=Nu(this._hostTNode,this._hostLView);if(wd(s)){const a=wa(s,this._hostLView),c=tr(s);return new to(a[1].data[c+8],a)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Ym(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){let l,p;"number"==typeof c?l=c:null!=c&&(l=c.index,p=c.injector);const v=s.createEmbeddedView(a||{},p);return this.insert(v,l),v}createComponent(s,a,c,l,p){const v=s&&!function di(i){return"function"==typeof i}(s);let C;if(v)C=a;else{const N=a||{};C=N.index,c=N.injector,l=N.projectableNodes,p=N.environmentInjector||N.ngModuleRef}const I=v?s:new Ko(At(s)),T=c||this.parentInjector;if(!p&&null==I.ngModule){const G=(v?T:this.parentInjector).get(Vs,null);G&&(p=G)}const x=I.create(T,l,void 0,p);return this.insert(x.hostView,C),x}insert(s,a){const c=s._lView,l=c[1];if(function gu(i){return Cr(i[3])}(c)){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const N=c[3],G=new Km(N,N[6],N[3]);G.detach(G.indexOf(s))}}const p=this._adjustIndex(a),v=this._lContainer;!function cb(i,s,a,c){const l=10+c,p=a.length;c>0&&(a[l-1][4]=s),c<p-10?(s[4]=a[l],Aa(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function lb(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=64}(l,c,v,p);const C=vw(p,v),I=c[11],T=Rg(I,v[7]);return null!==T&&function cw(i,s,a,c,l,p){c[0]=l,c[6]=s,yl(i,c,a,1,l,p)}(l,v[6],I,c,T,C),s.attachToViewContainerRef(),Aa(lp(v),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Ym(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Ky(this._lContainer,a);c&&(Er(lp(this._lContainer),a),Ef(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Ky(this._lContainer,a);return c&&null!=Er(lp(this._lContainer),a)?new Ff(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function Ym(i){return i[8]}function lp(i){return i[8]||(i[8]=[])}function Xa(i,s){let a;const c=s[i.index];if(Cr(c))a=c;else{let l;if(8&i.type)l=vn(c);else{const p=s[11];l=p.createComment("");const v=Ir(i,s);Go(p,Rg(p,v),l,function mw(i,s){return i.nextSibling(s)}(p,v),!1)}s[i.index]=a=ec(c,s,l,i),qo(s,a)}return new Km(a,i,s)}class Ah{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ah(this.queryList)}setDirty(){this.queryList.setDirty()}}class eu{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,l=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);l.push(this.queries[v.indexInDeclarationView].clone())}return new eu(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==pI(s,a).matches&&this.queries[a].setDirty()}}class mc{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class tu{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const l=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,l);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new tu(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Kl{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Kl(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let l=0;l<c.length;l++){const p=c[l];this.matchTNodeWithReadOption(s,a,lI(a,p)),this.matchTNodeWithReadOption(s,a,So(a,s,p,!1,!1))}else c===up?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,So(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const l=this.metadata.read;if(null!==l)if(l===P||l===Zm||l===up&&4&a.type)this.addMatch(a.index,-2);else{const p=So(a,s,l,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function lI(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function S_(i,s,a,c){return-1===a?function A_(i,s){return 11&i.type?A(i,s):4&i.type?cp(i,s):null}(s,i):-2===a?function dI(i,s,a){return a===P?A(s,i):a===up?cp(s,i):a===Zm?Xa(s,i):void 0}(i,s,c):ts(i,i[1],a,s)}function M_(i,s,a,c){const l=s[19].queries[c];if(null===l.matches){const p=i.data,v=a.matches,C=[];for(let I=0;I<v.length;I+=2){const T=v[I];C.push(T<0?null:S_(s,p[T],v[I+1],a.metadata.read))}l.matches=C}return l.matches}function x_(i,s,a,c){const l=i.queries.getByIndex(a),p=l.matches;if(null!==p){const v=M_(i,s,l,a);for(let C=0;C<p.length;C+=2){const I=p[C];if(I>0)c.push(v[C/2]);else{const T=p[C+1],x=s[-I];for(let N=10;N<x.length;N++){const G=x[N];G[17]===G[3]&&x_(G[1],G,T,c)}if(null!==x[9]){const N=x[9];for(let G=0;G<N.length;G++){const X=N[G];x_(X[1],X,T,c)}}}}}return c}function O_(i){const s=be(),a=kt(),c=$c();ya(c+1);const l=pI(a,c);if(i.dirty&&function pu(i){return 4==(4&i[2])}(s)===(2==(2&l.metadata.flags))){if(null===l.matches)i.reset([]);else{const p=l.crossesNgTemplate?x_(a,s,c,[]):M_(a,s,l,c);i.reset(p,q),i.notifyOnChanges()}return!0}return!1}function dp(i,s,a,c){const l=kt();if(l.firstCreatePass){const p=_n();(function P_(i,s,a){null===i.queries&&(i.queries=new tu),i.queries.track(new Kl(s,a))})(l,new mc(s,a,c),p.index),function ND(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(l,i),2==(2&a)&&(l.staticContentQueries=!0)}!function fI(i,s,a){const c=new D_(4==(4&a));_v(i,s,c,c.destroy),null===s[19]&&(s[19]=new eu),s[19].queries.push(new Ah(c))}(l,be(),a)}function Sh(){return function Yl(i,s){return i[19].queries[s].queryList}(be(),$c())}function pI(i,s){return i.queries.getByIndex(s)}function vc(...i){}const ry=new on("Application Initializer");let xh=(()=>{class i{constructor(a){this.appInits=a,this.resolve=vc,this.reject=vc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,l)=>{this.resolve=c,this.reject=l})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const p=this.appInits[l]();if(Lv(p))a.push(p);else if(Vv(p)){const v=new Promise((C,I)=>{p.subscribe({complete:C,error:I})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(l=>{this.reject(l)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ln(ry,8))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const B_=new on("AppId",{providedIn:"root",factory:function MI(){return`${iy()}${iy()}${iy()}`}});function iy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sy=new on("Platform Initializer"),GD=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),j_=new on("appBootstrapListener");let WD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const ru=new on("LocaleId",{providedIn:"root",factory:()=>E(ru,qe.Optional|qe.SkipSelf)||function Oh(){return typeof $localize<"u"&&$localize.locale||Ul}()}),$_=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xI{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let KD=(()=>{class i{compileModuleSync(a){return new Zl(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Ba(wr(a).declarations).reduce((v,C)=>{const I=At(C);return I&&v.push(new Ko(I)),v},[]);return new xI(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const _p=(()=>Promise.resolve(0))();function Ph(i){typeof Zone>"u"?_p.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Hi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ra(!1),this.onMicrotaskEmpty=new ra(!1),this.onStable=new ra(!1),this.onError=new ra(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!c&&a,l.shouldCoalesceRunChangeDetection=c,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Z_(){let i=tn.requestAnimationFrame,s=tn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function PI(i){const s=()=>{!function YD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(tn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Y_(i),i.isCheckStableRunning=!0,oy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Y_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,l,p,v,C)=>{try{return RI(i),a.invokeTask(l,p,v,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),NI(i)}},onInvoke:(a,c,l,p,v,C,I)=>{try{return RI(i),a.invoke(l,p,v,C,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),NI(i)}},onHasTask:(a,c,l,p)=>{a.hasTask(l,p),c===l&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Y_(i),oy(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,l,p)=>(a.handleError(l,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new _e(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,l){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+l,s,K_,vc,vc);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const K_={};function oy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Y_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function RI(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function NI(i){i._nesting--,oy(i)}class kI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ra,this.onMicrotaskEmpty=new ra,this.onStable=new ra,this.onError=new ra}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,l){return s.apply(a,c)}}const wp=new on(""),Rh=new on("");let X_,Q_=(()=>{class i{constructor(a,c,l){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,X_||(function QD(i){X_=i}(l),l.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),Ph(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ph(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,l){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:l})}whenStable(a,c,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,l){return[]}}return i.\u0275fac=function(a){return new(a||i)(ln(Hi),ln(J_),ln(Rh))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac}),i})(),J_=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return X_?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),_c=null;const FI=new on("AllowMultipleToken"),e0=new on("PlatformDestroyListeners");class ay{constructor(s,a){this.name=s,this.token=a}}function uy(i,s,a=[]){const c=`Platform: ${s}`,l=new on(c);return(p=[])=>{let v=Ep();if(!v||v.injector.get(FI,!1)){const C=[...a,...p,{provide:l,useValue:!0}];i?i(C):function Ip(i){if(_c&&!_c.get(FI,!1))throw new _e(400,!1);_c=i;const s=i.get(VI);(function s0(i){const s=i.get(sy,null);s&&s.forEach(a=>a())})(i)}(function o0(i=[],s){return $a.create({name:s,providers:[{provide:Vd,useValue:"platform"},{provide:e0,useValue:new Set([()=>_c=null])},...i]})}(C,c))}return function wc(i){const s=Ep();if(!s)throw new _e(401,!1);return s}()}}function Ep(){return _c?.get(VI)??null}let VI=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const l=function UI(i,s){let a;return a="noop"===i?new kI:("zone.js"===i?void 0:i)||new Hi(s),a}(c?.ngZone,function cy(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Hi,useValue:l}];return l.run(()=>{const v=$a.create({providers:p,parent:this.injector,name:a.moduleType.name}),C=a.create(v),I=C.injector.get(wf,null);if(!I)throw new _e(402,!1);return l.runOutsideAngular(()=>{const T=l.onError.subscribe({next:x=>{I.handleError(x)}});C.onDestroy(()=>{Dp(this._modules,C),T.unsubscribe()})}),function ly(i,s,a){try{const c=a();return Lv(c)?c.catch(l=>{throw s.runOutsideAngular(()=>i.handleError(l)),l}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(I,l,()=>{const T=C.injector.get(xh);return T.runInitializers(),T.donePromise.then(()=>(function n_(i){Vt(i,"Expected localeId to be defined"),"string"==typeof i&&(t_=i.toLowerCase().replace(/_/g,"-"))}(C.injector.get(ru,Ul)||Ul),this._moduleDoBootstrap(C),C))})})}bootstrapModule(a,c=[]){const l=bp({},c);return function t0(i,s,a){const c=new Zl(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,l))}_moduleDoBootstrap(a){const c=a.injector.get(Nh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(l=>c.bootstrap(l));else{if(!a.instance.ngDoBootstrap)throw new _e(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(e0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ln($a))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function bp(i,s){return Array.isArray(s)?s.reduce(bp,i):{...i,...s}}let Nh=(()=>{class i{constructor(a,c,l){this._zone=a,this._injector=c,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new R.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),Ph(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),T.unsubscribe()}});this.isStable=(0,oe.T)(p,v.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const l=a instanceof _f;if(!this._injector.get(xh).done)throw!l&&bi(a),new _e(405,false);let v;v=l?a:this._injector.get(g).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const C=function n0(i){return i.isBoundToModule}(v)?void 0:this._injector.get(ql),T=v.create($a.NULL,[],c||v.selector,C),x=T.location.nativeElement,N=T.injector.get(wp,null);return N?.registerApplication(x),T.onDestroy(()=>{this.detachView(T.hostView),Dp(this.components,T),N?.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Dp(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(j_,[]).concat(this._bootstrapListeners).forEach(l=>l(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Dp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new _e(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(ln(Hi),ln(Vs),ln(wf))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Dp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let BI=!0,jI=!1;function $I(){return jI=!0,BI}function HI(){if(jI)throw new Error("Cannot enable prod mode after platform setup.");BI=!1}let u0=(()=>{class i{}return i.__NG_ELEMENT_ID__=JD,i})();function JD(i){return function c0(i,s,a){if(ua(i)&&!a){const c=Ut(i.index,s);return new Ff(c,c)}return 47&i.type?new Ff(s[16],s):null}(_n(),be(),16==(16&i))}class dy{constructor(){}supports(s){return Wa(s)}create(s){return new QI(s)}}const tT=(i,s)=>s;class QI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||tT}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,l=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<g0(c,l,p)?a:c,C=g0(v,l,p),I=v.currentIndex;if(v===c)l--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)l++;else{p||(p=[]);const T=C-l,x=I-l;if(T!=x){for(let G=0;G<T;G++){const X=G<p.length?p[G]:p[G]=0,we=X+G;x<=we&&we<T&&(p[G]=X+1)}p[v.previousIndex]=x-T}}C!==I&&s(v,C,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Wa(s))throw new _e(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,p,v,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)p=s[C],v=this._trackByFn(C,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,C)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,C),c=!0),a=a._next}else l=0,function ur(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[tc()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,C=>{v=this._trackByFn(l,C),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,C,v,l)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,v,l),c=!0),a=a._next,l++}),this.length=l;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,l){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,l))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,l)):s=this._addAfter(new nT(a,c),p,l),s}_verifyReinsertion(s,a,c,l){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,p=s._nextRemoved;return null===l?this._removalsHead=p:l._nextRemoved=p,null===p?this._removalsTail=l:p._prevRemoved=l,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const l=null===a?this._itHead:a._next;return s._next=l,s._prev=a,null===l?this._itTail=s:l._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new p0),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new p0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class nT{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class p0{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new JI,this.map.set(a,c)),c.add(s)}get(s,a){const l=this.map.get(s);return l?l.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function g0(i,s,a){const c=i.previousIndex;if(null===c)return c;let l=0;return a&&c<a.length&&(l=a[c]),c+s+l}class m0{constructor(){}supports(s){return s instanceof Map||Tm(s)}create(){return new rT}}class rT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Tm(s)))throw new _e(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,l)=>{if(a&&a.key===l)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(l,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,a);const p=l._prev,v=l._next;return p&&(p._next=v),v&&(v._prev=p),l._next=null,l._prev=null,l}const c=new iT(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class iT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XI(){return new y0([new dy])}let y0=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const l=c.factories.slice();a=a.concat(l)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||XI()),deps:[[i,new pt,new xe]]}}find(a){const c=this.factories.find(l=>l.supports(a));if(null!=c)return c;throw new _e(901,!1)}}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:XI}),i})();function hy(){return new Sp([new m0])}let Sp=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const l=c.factories.slice();a=a.concat(l)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||hy()),deps:[[i,new pt,new xe]]}}find(a){const c=this.factories.find(l=>l.supports(a));if(c)return c;throw new _e(901,!1)}}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:hy}),i})();const nE=uy(null,"core",[]);let _0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ln(Nh))},i.\u0275mod=nt({type:i}),i.\u0275inj=Ot({}),i})();function rE(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(ot,De,k)=>{k.d(De,{Z:()=>_e});var f=k(2090),ee=k(4859),R=k(9681),oe=k(1877);class re{constructor(me,fe){this._delegate=me,this.firebase=fe,(0,R._addComponent)(me,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(me,fe=R._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(me);return!tt.isInitialized()&&"EXPLICIT"===(null===(Ze=tt.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:fe})}_removeServiceInstance(me,fe=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(fe)}_addComponent(me){(0,R._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,R._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function pe(){const Qe=function he(Qe){const me={},fe={__esModule:!0,initializeApp:function Te(je,V={}){const ge=R.initializeApp(je,V);if((0,f.r3)(me,ge.name))return me[ge.name];const Z=new Qe(ge,fe);return me[ge.name]=Z,Z},app:tt,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ie(je){const V=je.name,ge=V.replace("-compat","");if(R._registerComponent(je)&&"PUBLIC"===je.type){const Z=(J=tt())=>{if("function"!=typeof J[ge])throw ue.create("invalid-app-argument",{appName:V});return J[ge]()};void 0!==je.serviceProps&&(0,f.ZB)(Z,je.serviceProps),fe[ge]=Z,Qe.prototype[ge]=function(...J){return this._getService.bind(this,V).apply(this,je.multipleInstances?J:[])}}return"PUBLIC"===je.type?fe[ge]:null},removeApp:function Ze(je){delete me[je]},useAsService:function Be(je,V){return"serverAuth"===V?null:V},modularAPIs:R}};function tt(je){if(!(0,f.r3)(me,je=je||R._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return me[je]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function ve(){return Object.keys(me).map(je=>me[je])}}),tt.App=Qe,fe}(re);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function me(fe){(0,f.ZB)(Qe,fe)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Qe}(),j=new oe.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _e=U;!function Se(Qe){(0,R.registerVersion)("@firebase/app-compat","0.1.34",Qe)}()},9681:(ot,De,k)=>{k.r(De),k.d(De,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ms,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>Ht,_addOrOverwriteComponent:()=>Gt,_apps:()=>en,_clearComponents:()=>oa,_components:()=>bn,_getProvider:()=>Ot,_registerComponent:()=>vr,_removeServiceInstance:()=>Jt,deleteApp:()=>vo,getApp:()=>Nr,getApps:()=>ii,initializeApp:()=>Ei,onLog:()=>Wi,registerVersion:()=>kr,setLogLevel:()=>Dn});var f=k(5861),ee=k(4859),R=k(1877),oe=k(2090),re=k(8766);class de{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function ue(L){return"VERSION"===L.getComponent()?.type}(z)){const Ee=z.getImmediate();return`${Ee.library}/${Ee.version}`}return null}).filter(z=>z).join(" ")}}const he="@firebase/app",U=new R.Yd("@firebase/app"),Vt="[DEFAULT]",ze={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,bn=new Map;function Ht(L,$){try{L.container.addComponent($)}catch(z){U.debug(`Component ${$.name} failed to register with FirebaseApp ${L.name}`,z)}}function Gt(L,$){L.container.addOrOverwriteComponent($)}function vr(L){const $=L.name;if(bn.has($))return U.debug(`There were multiple attempts to register component ${$}.`),!1;bn.set($,L);for(const z of en.values())Ht(z,L);return!0}function Ot(L,$){const z=L.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),L.container.getProvider($)}function Jt(L,$,z=Vt){Ot(L,$).clearInstance(z)}function oa(){bn.clear()}const lr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rr{constructor($,z,Ee){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=Ee,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const ms="9.10.0";function Ei(L,$={}){"object"!=typeof $&&($={name:$});const z=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},$),Ee=z.name;if("string"!=typeof Ee||!Ee)throw lr.create("bad-app-name",{appName:String(Ee)});const Ue=en.get(Ee);if(Ue){if((0,oe.vZ)(L,Ue.options)&&(0,oe.vZ)(z,Ue.config))return Ue;throw lr.create("duplicate-app",{appName:Ee})}const nt=new ee.H0(Ee);for(const Wt of bn.values())nt.addComponent(Wt);const sn=new Rr(L,z,nt);return en.set(Ee,sn),sn}function Nr(L=Vt){const $=en.get(L);if(!$)throw lr.create("no-app",{appName:L});return $}function ii(){return Array.from(en.values())}function vo(L){return qe.apply(this,arguments)}function qe(){return(qe=(0,f.Z)(function*(L){const $=L.name;en.has($)&&(en.delete($),yield Promise.all(L.container.getProviders().map(z=>z.delete())),L.isDeleted=!0)})).apply(this,arguments)}function kr(L,$,z){var Ee;let Ue=null!==(Ee=ze[L])&&void 0!==Ee?Ee:L;z&&(Ue+=`-${z}`);const nt=Ue.match(/\s|\//),sn=$.match(/\s|\//);if(nt||sn){const Wt=[`Unable to register library "${Ue}" with version "${$}":`];return nt&&Wt.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),nt&&sn&&Wt.push("and"),sn&&Wt.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void U.warn(Wt.join(" "))}vr(new ee.wA(`${Ue}-version`,()=>({library:Ue,version:$}),"VERSION"))}function Wi(L,$){if(null!==L&&"function"!=typeof L)throw lr.create("invalid-log-argument");(0,R.Am)(L,$)}function Dn(L){(0,R.Ub)(L)}const Tn="firebase-heartbeat-store";let jn=null;function an(){return jn||(jn=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(L,$)=>{0===$&&L.createObjectStore(Tn)}}).catch(L=>{throw lr.create("idb-open",{originalErrorMessage:L.message})})),jn}function st(){return(st=(0,f.Z)(function*(L){var $;try{return(yield an()).transaction(Tn).objectStore(Tn).get(Xn(L))}catch(z){if(z instanceof oe.ZR)U.warn(z.message);else{const Ee=lr.create("idb-get",{originalErrorMessage:null===($=z)||void 0===$?void 0:$.message});U.warn(Ee.message)}}})).apply(this,arguments)}function tn(L,$){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,f.Z)(function*(L,$){var z;try{const Ue=(yield an()).transaction(Tn,"readwrite");return yield Ue.objectStore(Tn).put($,Xn(L)),Ue.done}catch(Ee){if(Ee instanceof oe.ZR)U.warn(Ee.message);else{const Ue=lr.create("idb-set",{originalErrorMessage:null===(z=Ee)||void 0===z?void 0:z.message});U.warn(Ue.message)}}})).apply(this,arguments)}function Xn(L){return`${L.name}!${L.options.appId}`}class qi{constructor($){this.container=$,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new $t(z),this._heartbeatsCachePromise=this._storage.read().then(Ee=>(this._heartbeatsCache=Ee,Ee))}triggerHeartbeat(){var $=this;return(0,f.Z)(function*(){const Ee=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ue=zt();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==Ue&&!$._heartbeatsCache.heartbeats.some(nt=>nt.date===Ue))return $._heartbeatsCache.heartbeats.push({date:Ue,agent:Ee}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(nt=>{const sn=new Date(nt.date).valueOf();return Date.now()-sn<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,f.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const z=zt(),{heartbeatsToSend:Ee,unsentEntries:Ue}=function oi(L,$=1024){const z=[];let Ee=L.slice();for(const Ue of L){const nt=z.find(sn=>sn.agent===Ue.agent);if(nt){if(nt.dates.push(Ue.date),W(z)>$){nt.dates.pop();break}}else if(z.push({agent:Ue.agent,dates:[Ue.date]}),W(z)>$){z.pop();break}Ee=Ee.slice(1)}return{heartbeatsToSend:z,unsentEntries:Ee}}($._heartbeatsCache.heartbeats),nt=(0,oe.L)(JSON.stringify({version:2,heartbeats:Ee}));return $._heartbeatsCache.lastSentHeartbeatDate=z,Ue.length>0?($._heartbeatsCache.heartbeats=Ue,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),nt})()}}function zt(){return(new Date).toISOString().substring(0,10)}class $t{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,f.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function dt(L){return st.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var z=this;return(0,f.Z)(function*(){var Ee;if(yield z._canUseIndexedDBPromise){const nt=yield z.read();return tn(z.app,{lastSentHeartbeatDate:null!==(Ee=$.lastSentHeartbeatDate)&&void 0!==Ee?Ee:nt.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var z=this;return(0,f.Z)(function*(){var Ee;if(yield z._canUseIndexedDBPromise){const nt=yield z.read();return tn(z.app,{lastSentHeartbeatDate:null!==(Ee=$.lastSentHeartbeatDate)&&void 0!==Ee?Ee:nt.lastSentHeartbeatDate,heartbeats:[...nt.heartbeats,...$.heartbeats]})}})()}}function W(L){return(0,oe.L)(JSON.stringify({version:2,heartbeats:L})).length}!function B(L){vr(new ee.wA("platform-logger",$=>new de($),"PRIVATE")),vr(new ee.wA("heartbeat",$=>new qi($),"PRIVATE")),kr(he,"0.7.33",L),kr(he,"0.7.33","esm2017"),kr("fire-js","")}("")},4859:(ot,De,k)=>{k.d(De,{H0:()=>he,wA:()=>R});var f=k(5861),ee=k(2090);class R{constructor(U,j,K){this.name=U,this.instanceFactory=j,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const oe="[DEFAULT]";class re{constructor(U,j){this.name=U,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const j=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(j)){const K=new ee.BH;if(this.instancesDeferred.set(j,K),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:j});Ve&&K.resolve(Ve)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(U){var j;const K=this.normalizeInstanceIdentifier(U?.identifier),Ve=null!==(j=U?.optional)&&void 0!==j&&j;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Se){if(Ve)return null;throw Se}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function ue(pe){return"EAGER"===pe.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[j,K]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(j);try{const Se=this.getOrInitializeService({instanceIdentifier:Ve});K.resolve(Se)}catch{}}}}clearInstance(U=oe){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,f.Z)(function*(){const j=Array.from(U.instances.values());yield Promise.all([...j.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...j.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=oe){return this.instances.has(U)}getOptions(U=oe){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:j={}}=U,K=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:K,options:j});for(const[Se,_e]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Se)&&_e.resolve(Ve);return Ve}onInit(U,j){var K;const Ve=this.normalizeInstanceIdentifier(j),Se=null!==(K=this.onInitCallbacks.get(Ve))&&void 0!==K?K:new Set;Se.add(U),this.onInitCallbacks.set(Ve,Se);const _e=this.instances.get(Ve);return _e&&U(_e,Ve),()=>{Se.delete(U)}}invokeOnInitCallbacks(U,j){const K=this.onInitCallbacks.get(j);if(K)for(const Ve of K)try{Ve(U,j)}catch{}}getOrInitializeService({instanceIdentifier:U,options:j={}}){let K=this.instances.get(U);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=U,pe===oe?void 0:pe),options:j}),this.instances.set(U,K),this.instancesOptions.set(U,j),this.invokeOnInitCallbacks(K,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,K)}catch{}var pe;return K||null}normalizeInstanceIdentifier(U=oe){return this.component?this.component.multipleInstances?U:oe:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const j=this.getProvider(U.name);if(j.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);j.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const j=new re(U,this);return this.providers.set(U,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(ot,De,k)=>{k.d(De,{Am:()=>pe,Ub:()=>he,Yd:()=>ue,in:()=>ee});const f=[];var ee=(()=>{return(U=ee||(ee={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",ee;var U})();const R={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oe=ee.INFO,re={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},de=(U,j,...K)=>{if(j<U.logLevel)return;const Ve=(new Date).toISOString(),Se=re[j];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Se](`[${Ve}]  ${U.name}:`,...K)};class ue{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=de,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ee))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...j),this._logHandler(this,ee.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...j),this._logHandler(this,ee.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...j),this._logHandler(this,ee.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...j),this._logHandler(this,ee.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...j),this._logHandler(this,ee.ERROR,...j)}}function he(U){f.forEach(j=>{j.setLogLevel(U)})}function pe(U,j){for(const K of f){let Ve=null;j&&j.level&&(Ve=R[j.level]),K.userLogHandler=null===U?null:(Se,_e,...Qe)=>{const me=Qe.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");_e>=(Ve??Se.logLevel)&&U({level:ee[_e].toLowerCase(),message:me,args:Qe,type:Se.name})}}}},8766:(ot,De,k)=>{k.d(De,{Lj:()=>Te,X3:()=>tt});var f=k(5861);let R,oe;const ue=new WeakMap,he=new WeakMap,pe=new WeakMap,U=new WeakMap,j=new WeakMap;let Se={get(V,ge,Z){if(V instanceof IDBTransaction){if("done"===ge)return he.get(V);if("objectStoreNames"===ge)return V.objectStoreNames||pe.get(V);if("store"===ge)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return fe(V[ge])},set:(V,ge,Z)=>(V[ge]=Z,!0),has:(V,ge)=>V instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in V};function me(V){return"function"==typeof V?function Qe(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...ge){return V.apply(Ze(this),ge),fe(ue.get(this))}:function(...ge){return fe(V.apply(Ze(this),ge))}:function(ge,...Z){const J=V.call(Ze(this),ge,...Z);return pe.set(J,ge.sort?ge.sort():[ge]),fe(J)}}(V):(V instanceof IDBTransaction&&function Ve(V){if(he.has(V))return;const ge=new Promise((Z,J)=>{const ie=()=>{V.removeEventListener("complete",te),V.removeEventListener("error",Ne),V.removeEventListener("abort",Ne)},te=()=>{Z(),ie()},Ne=()=>{J(V.error||new DOMException("AbortError","AbortError")),ie()};V.addEventListener("complete",te),V.addEventListener("error",Ne),V.addEventListener("abort",Ne)});he.set(V,ge)}(V),((V,ge)=>ge.some(Z=>V instanceof Z))(V,function re(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Se):V)}function fe(V){if(V instanceof IDBRequest)return function K(V){const ge=new Promise((Z,J)=>{const ie=()=>{V.removeEventListener("success",te),V.removeEventListener("error",Ne)},te=()=>{Z(fe(V.result)),ie()},Ne=()=>{J(V.error),ie()};V.addEventListener("success",te),V.addEventListener("error",Ne)});return ge.then(Z=>{Z instanceof IDBCursor&&ue.set(Z,V)}).catch(()=>{}),j.set(ge,V),ge}(V);if(U.has(V))return U.get(V);const ge=me(V);return ge!==V&&(U.set(V,ge),j.set(ge,V)),ge}const Ze=V=>j.get(V);function tt(V,ge,{blocked:Z,upgrade:J,blocking:ie,terminated:te}={}){const Ne=indexedDB.open(V,ge),Pe=fe(Ne);return J&&Ne.addEventListener("upgradeneeded",lt=>{J(fe(Ne.result),lt.oldVersion,lt.newVersion,fe(Ne.transaction))}),Z&&Ne.addEventListener("blocked",()=>Z()),Pe.then(lt=>{te&&lt.addEventListener("close",()=>te()),ie&&lt.addEventListener("versionchange",()=>ie())}).catch(()=>{}),Pe}function Te(V,{blocked:ge}={}){const Z=indexedDB.deleteDatabase(V);return ge&&Z.addEventListener("blocked",()=>ge()),fe(Z).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Be=new Map;function je(V,ge){if(!(V instanceof IDBDatabase)||ge in V||"string"!=typeof ge)return;if(Be.get(ge))return Be.get(ge);const Z=ge.replace(/FromIndex$/,""),J=ge!==Z,ie=Ie.includes(Z);if(!(Z in(J?IDBIndex:IDBObjectStore).prototype)||!ie&&!ve.includes(Z))return;const te=function(){var Ne=(0,f.Z)(function*(Pe,...lt){const Bt=this.transaction(Pe,ie?"readwrite":"readonly");let Vt=Bt.store;return J&&(Vt=Vt.index(lt.shift())),(yield Promise.all([Vt[Z](...lt),ie&&Bt.done]))[0]});return function(lt){return Ne.apply(this,arguments)}}();return Be.set(ge,te),te}!function _e(V){Se=V(Se)}(V=>({...V,get:(ge,Z,J)=>je(ge,Z)||V.get(ge,Z,J),has:(ge,Z)=>!!je(ge,Z)||V.has(ge,Z)}))},5861:(ot,De,k)=>{function f(R,oe,re,de,ue,he,pe){try{var U=R[he](pe),j=U.value}catch(K){return void re(K)}U.done?oe(j):Promise.resolve(j).then(de,ue)}function ee(R){return function(){var oe=this,re=arguments;return new Promise(function(de,ue){var he=R.apply(oe,re);function pe(j){f(he,de,ue,pe,U,"next",j)}function U(j){f(he,de,ue,pe,U,"throw",j)}pe(void 0)})}}k.d(De,{Z:()=>ee})}},ot=>{ot(ot.s=8791)}]);